/*! For license information please see spectrum-8cd780bddec7d6c848f8.js.LICENSE.txt */
!function(e){function t(t){for(var n,r,o=t[0],a=t[1],s=0,l=[];s<o.length;s++)r=o[s],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&l.push(i[r][0]),i[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);l.length;)l.shift()()}var n={},i={36:0};function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=o);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=function(e){return r.p+"js/"+({13:"i18n-cs-CZ-json",14:"i18n-da-DK-json",15:"i18n-de-DE-json",16:"i18n-en-US-json",17:"i18n-es-ES-json",18:"i18n-fi-FI-json",19:"i18n-fr-FR-json",20:"i18n-it-IT-json",21:"i18n-ja-JP-json",22:"i18n-ko-KR-json",23:"i18n-nb-NO-json",24:"i18n-nl-NL-json",25:"i18n-pl-PL-json",26:"i18n-pt-BR-json",27:"i18n-ru-RU-json",28:"i18n-sv-SE-json",29:"i18n-tr-TR-json",30:"i18n-zh-CN-json",31:"i18n-zh-TW-json",32:"i18n-zz-ZZ-json"}[e]||e)+"-"+{0:"63ed3780b19ea3276f2f",1:"3d4871e51edea997e052",2:"249def5a5e9d8c30dbf1",3:"6d2c89814ebdd6da0ff6",4:"16c4a42620e9709c8eee",5:"a857cee5789457b752c9",6:"091fcb8707b97c3fb584",7:"a94c988ee0f9751cf604",8:"3fec919997ffe62bfc7f",9:"ac2670055e065ff520e3",13:"c66637cae888ed15cfc1",14:"4348bebc2130bc63e80b",15:"8e1a883336e78fab9c4e",16:"952f212683b592b21bdc",17:"78f3b24d17db8aa6801a",18:"c7ace3a33917545f1ffa",19:"82715be7d5d9464fb8e7",20:"150edb5983b07a12fd71",21:"5695b3780351b169b2d0",22:"00adb4db4085012cbd20",23:"901f506e30fe311a45cd",24:"1a86b098c75cd479e32a",25:"abba68b8858e1add224b",26:"361ce1b8cba699bf7062",27:"8a472d7e8824ba12bb32",28:"689ae2a48a1ad7eb79e0",29:"1d5e3a98fd101be57904",30:"f8ae353f85e6e04652b4",31:"ec438129ee8c3062f897",32:"3e2f493638cc17e5cdd2",43:"186e0c9749ed683125bc",45:"9489e47351531914448a",49:"3214b0b2189754d2c10c",51:"a95368889eceb88e94bd",52:"25229688e5f16f00e99d",53:"4c2a3f1ecb0ee83edc8c",54:"39c7b41c5f2b7986a627",55:"267ce23676f9d1bfbb9c",56:"775872c46647fc229ab3"}[e]+".chunk.js"}(e);var c=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",c.name="ChunkLoadError",c.type=r,c.request=o,n[1](c)}i[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/packs/",r.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var c=a;r(r.s=1608)}({1:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s}));var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};function a(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function s(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function c(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}},106:function(e,t){e.exports={login:function(e,t,n){i(e,"POST",n,"access_token="+t)},logout:function(e,t){i(e,"GET",t)}};var n=XMLHttpRequest.DONE||4;function i(e,t,i,r){var o=new XMLHttpRequest;o.onreadystatechange=function(){o.readyState==n&&200==o.status&&(o.responseText.trim()?i(JSON.parse(o.responseText)):i())},o.open(t,e,!0),"POST"==t&&o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.setRequestHeader("X-CSRF-Token",function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)if("csrf-token"==e[t].getAttribute("name"))return e[t].getAttribute("content")}()),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(r)}},107:function(e,t,n){(function(t){var i=n(6);e.exports=FontLoader=function(){this._loadedFonts={},this._activeFonts={},this._fontsToLoad=[],this._callbacks={},this.maxConcurrentRequests=16,this._requestMap={},this._currentRequests=[],this._paused=!1,this._loadFontsToLoadTimeout=null},FontLoader.prototype.paused=function(e){this._paused=e,this._paused?clearTimeout(this._loadFontsToLoadTimeout):this._loadFontsToLoadTimeout=setTimeout(this._loadFontsToLoad.bind(this))},FontLoader.prototype.loadFont=function(e,t,n,i,r,o,a){window.Typekit.Font?this._loadedFonts[e]?this._activeFonts[e]?a&&a(!0):a&&this._addCallback(e,a):(this._loadedFonts[e]=+new Date,a&&this._addCallback(e,a),this._fontsToLoad.push({cssName:e,alias:t,fvd:n,unicodeRange:i,featureSettings:r,dynamic:o}),this._paused||(clearTimeout(this._loadFontsToLoadTimeout),this._loadFontsToLoadTimeout=setTimeout(this._loadFontsToLoad.bind(this)))):a(!1)},FontLoader.prototype._loadFontsToLoad=function(){if(!this._paused)for(;this._fontsToLoad.length>0&&this._currentRequests.length<this.maxConcurrentRequests;){var e=this._fontsToLoad.shift();this._loadFont(e.cssName,e.alias,e.fvd,e.unicodeRange,e.featureSettings,e.dynamic)}},FontLoader.prototype._loadFont=function(e,t,n,r,o,a){var s=this,c=i.uniqueId()+1;this._currentRequests.push(c),this._requestMap[e]=c,Typekit.user="tk",Typekit.token="UWiewzNGqfaXgl50sfTX597VqiNVO+VsJvzyIM5SabTjZinSwqaidRKypEX3LMfHdBUibNmD+PCRx/5yCXr4NA==";var l=n[1]+"00",u="n"===n[0]?"normal":"i"===n[0]?"italic":"oblique",d=new Typekit.Font(e,t,{weight:l,style:u,unicodeRange:r,featureSettings:o,dynamic:a});d.load().then((function(){Typekit.fonts.add(d),s.fontActive_(e,n)}),(function(){s.fontInactive_(e,n)}))},FontLoader.prototype.fontActive_=function(e,n){this._handleRequestReturned(e);var r=+new Date;this._loadedFonts[e];this._activeFonts[e]=r;var o=this._callbacks[e];delete this._callbacks[e],t.tk.GlobalFontEvents&&t.tk.GlobalFontEvents.fontActive(e,n),i.each(o,(function(e){e(!0)}))},FontLoader.prototype.fontInactive_=function(e,n){this._handleRequestReturned(e);delete this._loadedFonts[e],delete this._activeFonts[e];var r=this._callbacks[e];delete this._callbacks[e],t.tk.GlobalFontEvents&&t.tk.GlobalFontEvents.fontInactive(e,n),i.each(r,(function(e){e(!1)}))},FontLoader.prototype._handleRequestReturned=function(e){var t=!1,n=this._requestMap[e];return n&&(delete this._requestMap[e],(t=i.include(this._currentRequests,n))&&(this._currentRequests=i.without(this._currentRequests,n))),this._loadFontsToLoad(),t?n:null},FontLoader.prototype._addCallback=function(e,t){this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t)}}).call(this,n(22))},108:function(e,t,n){var i=n(59);e.exports={init:function(e){return i.init(e),i.getAdobeId()}}},114:function(e,t,n){var i=n(224)("socket.io-parser"),r=n(66),o=n(227),a=n(144),s=n(145);function c(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=c,t.Decoder=d;var l=t.ERROR+'"encode error"';function u(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var r=function(e){try{return JSON.stringify(e)}catch(t){return!1}}(e.data);if(!1===r)return l;n+=r}return i("encoded %j as %s",e,n),n}function d(){this.reconstructor=null}function f(e){this.reconPack=e,this.buffers=[]}function p(e){return{type:t.ERROR,data:"parser error: "+e}}c.prototype.encode=function(e,n){(i("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){function n(e){var n=o.deconstructPacket(e),i=u(n.packet),r=n.buffers;r.unshift(i),t(r)}o.removeBlobs(e,n)}(e,n):n([u(e)])},r(d.prototype),d.prototype.add=function(e){var n;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=function(e){var n=0,r={type:Number(e.charAt(0))};if(null==t.types[r.type])return p("unknown packet type "+r.type);if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var o=n+1;"-"!==e.charAt(++n)&&n!=e.length;);var s=e.substring(o,n);if(s!=Number(s)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===e.charAt(n+1)){for(o=n+1;++n;){if(","===(l=e.charAt(n)))break;if(n===e.length)break}r.nsp=e.substring(o,n)}else r.nsp="/";var c=e.charAt(n+1);if(""!==c&&Number(c)==c){for(o=n+1;++n;){var l;if(null==(l=e.charAt(n))||Number(l)!=l){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){var u=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(n));if(!(!1!==u&&(r.type===t.ERROR||a(u))))return p("invalid payload");r.data=u}return i("decoded %s as %j",e,r),r}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new f(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n)}else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},115:function(e,t,n){"use strict";(function(e){var i=n(228),r=n(229),o=n(230);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,n)}function l(e,t,n,i){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t);return e}(e,t,n,i):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|h(t,n),r=(e=s(e,i)).write(t,n);r!==i&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(i=t.length)!==i?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(i)return U(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return F(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function v(e,t,n,i,r){if(0===e.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,r);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,i,r){var o,a=1,s=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var u=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var d=!0,f=0;f<c;f++)if(l(e,o+f)!==l(t,f)){d=!1;break}if(d)return o}return-1}function b(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,i){return W(U(t,e.length-n),e,n,i)}function S(e,t,n,i){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function w(e,t,n,i){return S(e,t,n,i)}function C(e,t,n,i){return W(B(t),e,n,i)}function k(e,t,n,i){return W(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)i=(n=e.charCodeAt(a))>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function F(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,c,l=e[r],u=null,d=l>239?4:l>223?3:l>191?2:1;if(r+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:128===(192&(o=e[r+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=e[r+1],a=e[r+2],128===(192&o)&&128===(192&a)&&(c=(15&l)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=d}return function(e){var t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=$));return n}(i)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,i){return u(t),t<=0?s(e,t):void 0!==n?"string"===typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=c.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,i,r){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(i,r),u=e.slice(t,n),d=0;d<s;++d)if(l[d]!==u[d]){o=l[d],a=u[d];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;function x(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function T(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function A(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=V(e[o]);return r}function P(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function M(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,i,r,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function I(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function L(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function N(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,i,o){return o||N(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function O(e,t,n,i,o){return o||N(e,0,n,8),r.write(e,t,n,i,52,8),n+8}c.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var r=t-e;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},c.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return O(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return O(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,i){if("string"===typeof e){if("string"===typeof t?(i=t,t=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:U(new c(e,i).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function W(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(22))},116:function(e,t,n){var i=n(233),r=n(117);e.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!t||i))return new XMLHttpRequest}catch(a){}try{if("undefined"!==typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(a){}if(!t)try{return new(r[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(a){}}},117:function(e,t){e.exports="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")()},118:function(e,t,n){var i=n(67),r=n(66);function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=o,r(o.prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},119:function(e,t,n){"use strict";n.r(t),n.d(t,"COLLAPSED_EVENT",(function(){return r})),n.d(t,"EXPANDED_EVENT",(function(){return i})),n.d(t,"FlyoutCollapsedEvent",(function(){return a})),n.d(t,"FlyoutExpandedEvent",(function(){return o}));const i="flyout.expanded",r="flyout.collapsed";class o extends CustomEvent{constructor(){super("flyout.expanded",{bubbles:!0,composed:!0})}}o.EXPANDED_EVENT="flyout.expanded";class a extends CustomEvent{constructor(){super("flyout.collapsed",{bubbles:!0,composed:!0})}}a.COLLAPSED_EVENT="flyout.collapsed"},120:function(e,t,n){"use strict";n.r(t),n.d(t,"CLOSE_CCD_TOUR_EVENT",(function(){return r})),n.d(t,"CloseCCDTourEvent",(function(){return a})),n.d(t,"OPEN_CCD_EVENT",(function(){return i})),n.d(t,"OpenCCDEvent",(function(){return o}));const i="af.ccd.open",r="af.ccd-tour.close";class o extends CustomEvent{constructor(){super("af.ccd.open",{bubbles:!0,composed:!0})}}o.OPEN_CCD_EVENT="af.ccd.open";class a extends CustomEvent{constructor(){super("af.ccd-tour.close",{bubbles:!0,composed:!0})}}a.CLOSE_CCD_TOUR_EVENT="af.ccd-tour.close"},121:function(e,t,n){"use strict";n.r(t),n.d(t,"EVENT_NAME",(function(){return i})),n.d(t,"default",(function(){return r}));const i="af.filter-sidebar.search-param-changed";class r extends CustomEvent{constructor(e){super(i,{detail:{searchParam:e},bubbles:!0,composed:!0})}}r.EVENT_NAME=i},122:function(e,t,n){var i=n(6);e.exports={setTranslations:function(e){this._translations=e},t:function(e,t){var n=null;i.isUndefined(this._translations)||(n=this._translations[e]),n||(n=e),t=t||{};n=n.replace(/%\{(.+?)\}/g,(function(){return t[arguments[1]]||""}));return n},getTranslations:function(){return this._translations}}},126:function(e,t){},143:function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,r=e.indexOf("["),o=e.indexOf("]");-1!=r&&-1!=o&&(e=e.substring(0,r)+e.substring(r,o).replace(/:/g,";")+e.substring(o,e.length));for(var a,s,c=n.exec(e||""),l={},u=14;u--;)l[i[u]]=c[u]||"";return-1!=r&&-1!=o&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=function(e,t){var n=/\/{2,9}/g,i=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||i.splice(0,1);"/"==t.substr(t.length-1,1)&&i.splice(i.length-1,1);return i}(0,l.path),l.queryKey=(a=l.query,s={},a.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(s[t]=n)})),s),l}},144:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},145:function(e,t,n){(function(t){e.exports=function(e){return n&&t.isBuffer(e)||i&&(e instanceof ArrayBuffer||function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))};var n="function"===typeof t&&"function"===typeof t.isBuffer,i="function"===typeof ArrayBuffer}).call(this,n(115).Buffer)},146:function(e,t,n){var i=n(231),r=n(152),o=n(66),a=n(114),s=n(153),c=n(154),l=n(92)("socket.io-client:manager"),u=n(151),d=n(248),f=Object.prototype.hasOwnProperty;function p(e,t){if(!(this instanceof p))return new p(e,t);e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=p,p.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},p.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},p.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},o(p.prototype),p.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},p.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},p.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(e,t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var o=s(n,"open",(function(){r.onopen(),e&&e()})),a=s(n,"error",(function(t){if(l("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;l("connect attempt will timeout after %d",c),0===c&&o.destroy();var u=setTimeout((function(){l("connect attempt timed out after %d",c),o.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",c)}),c);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(o),this.subs.push(a),this},p.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",c(this,"ondata"))),this.subs.push(s(e,"ping",c(this,"onping"))),this.subs.push(s(e,"pong",c(this,"onpong"))),this.subs.push(s(e,"error",c(this,"onerror"))),this.subs.push(s(e,"close",c(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",c(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(e){this.decoder.add(e)},p.prototype.ondecoded=function(e){this.emit("packet",e)},p.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},p.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new r(this,e,t),this.nsps[e]=n;var i=this;n.on("connecting",o),n.on("connect",(function(){n.id=i.generateId(e)})),this.autoConnect&&o()}function o(){~u(i.connecting,n)||i.connecting.push(n)}return n},p.prototype.destroy=function(e){var t=u(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},p.prototype.packet=function(e){l("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var i=0;i<n.length;i++)t.engine.write(n[i],e.options);t.encoding=!1,t.processPacketQueue()})))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},p.prototype.cleanup=function(){l("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(e){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},147:function(e,t,n){var i=n(116),r=n(234),o=n(244),a=n(245);t.polling=function(e){var t=!1,n=!1,a=!1!==e.jsonp;if("undefined"!==typeof location){var s="https:"===location.protocol,c=location.port;c||(c=s?443:80),t=e.hostname!==location.hostname||c!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new i(e)&&!e.forceJSONP)return new r(e);if(!a)throw new Error("JSONP disabled");return new o(e)},t.websocket=a},148:function(e,t,n){var i=n(118),r=n(93),o=n(67),a=n(94),s=n(150),c=n(95)("engine.io-client:polling");e.exports=u;var l=null!=new(n(116))({xdomain:!1}).responseType;function u(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),i.call(this,e)}a(u,i),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(e){var t=this;function n(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--i||n()}))),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",(function(){c("pre-pause writing complete"),--i||n()})))}else n()},u.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(e){var t=this;c("polling got data %s",e);o.decodePayload(e,this.socket.binaryType,(function(e,n,i){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var e=this;function t(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},u.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=r.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},149:function(e,t,n){(function(t){var i=n(236),r=Object.prototype.toString,o="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===r.call(Blob),a="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===r.call(File);e.exports=function e(n){if(!n||"object"!==typeof n)return!1;if(i(n)){for(var r=0,s=n.length;r<s;r++)if(e(n[r]))return!0;return!1}if("function"===typeof t&&t.isBuffer&&t.isBuffer(n)||"function"===typeof ArrayBuffer&&n instanceof ArrayBuffer||o&&n instanceof Blob||a&&n instanceof File)return!0;if(n.toJSON&&"function"===typeof n.toJSON&&1===arguments.length)return e(n.toJSON(),!0);for(var c in n)if(Object.prototype.hasOwnProperty.call(n,c)&&e(n[c]))return!0;return!1}}).call(this,n(115).Buffer)},150:function(e,t,n){"use strict";var i,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},a=0,s=0;function c(e){var t="";do{t=r[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function l(){var e=c(+new Date);return e!==i?(a=0,i=e):e+"."+c(a++)}for(;s<64;s++)o[r[s]]=s;l.encode=c,l.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=64*t+o[e.charAt(s)];return t},e.exports=l},151:function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},152:function(e,t,n){var i=n(114),r=n(66),o=n(247),a=n(153),s=n(154),c=n(92)("socket.io-client:socket"),l=n(93),u=n(149);e.exports=p;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=r.prototype.emit;function p(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}r(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",s(this,"onopen")),a(e,"packet",s(this,"onpacket")),a(e,"close",s(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},p.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(d.hasOwnProperty(e))return f.apply(this,arguments),this;var t=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:u(t))?i.BINARY_EVENT:i.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"===typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===typeof this.query?l.encode(this.query):this.query;c("sending connect packet with query %s",e),this.packet({type:i.CONNECT,query:e})}else this.packet({type:i.CONNECT})},p.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},p.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===i.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=o(arguments);c("sending ack %j",r),t.packet({type:u(r)?i.BINARY_ACK:i.ACK,id:e,data:r})}}},p.prototype.onack=function(e){var t=this.acks[e.id];"function"===typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(e){return this.flags.compress=e,this},p.prototype.binary=function(e){return this.flags.binary=e,this}},153:function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},154:function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}},155:function(e,t){e.exports={ADD_TO_WEB_PROJECT:"add_to_web_project"}},158:function(e,t,n){var i=n(221),r=n(114),o=n(146),a=n(92)("socket.io-client");e.exports=t=c;var s=t.managers={};function c(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,r=i(e),c=r.source,l=r.id,u=r.path,d=s[l]&&u in s[l].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(a("ignoring socket cache for %s",c),n=o(c,t)):(s[l]||(a("new io instance for %s",c),s[l]=o(c,t)),n=s[l]),r.query&&!t.query&&(t.query=r.query),n.socket(r.path,t)}t.protocol=r.protocol,t.connect=c,t.Manager=n(146),t.Socket=n(152)},1608:function(e,t,n){"use strict";n.r(t),function(e){var t=n(54),i=n(49),r=n(304),o=n.n(r),a=n(358),s=n(359),c=n(360),l=n(361),u=n(362),d=n(363),f=n(294),p=n(9);o.a.setWebComponentsEnabled(!0),o.a.modules.add({addMessages:p.b,ClearFiltersEvent:a.a,FilterToggleEvent:s.a,FVDHelper:f,LanguageFilterToggleEvent:c.a,NumberOfFontsSliderEvent:l.a,ShowPaidFontsToggleEvent:u.a,TagToggleEvent:d.a}),e.tk={AdobePrivacy:n(266),FontLoader:n(107),I18n:n(122),ImsLib:n(108)};var h=Object(i.getData)("flipper-flags");h&&h.variableFonts&&Object(t.enableFlag)("VariableFonts"),h&&h.enableNewAddToWebProjectDialog&&Object(t.enableFlag)("EnableNewAddToWebProjectDialog"),h&&h.enableUseModelV2&&Object(t.enableFlag)("EnableUseModelV2"),n(126),n(1609),Promise.all([n.e(2),n.e(4)]).then(n.t.bind(null,420,7)).then((function(e){e.init()})),Promise.all([n.e(0),n.e(1),n.e(3),n.e(5),n.e(43)]).then(n.bind(null,625)).then((function(e){(0,e.initI18n)()}))}.call(this,n(22))},1609:function(e,t,n){n(19).module("NeueApp",[n(325),n(1610),n(1613),n(213),n(1615).name,n(1616)]).config(n(215)).controller("AddFontsToWebProjectController",n(1617)).controller("AdobeFontsFooterController",n(203)).controller("CollectionController",n(1618)).controller("DesignerController",n(1619)).controller("FamiliesController",n(1620)).controller("FamilyAutoCompleteSearchController",n(327)).controller("FamilyController",n(1621)).controller("FoundriesController",n(1622)).controller("FoundryController",n(1623)).controller("HeaderController",n(395)).controller("MarketplaceHeaderController",n(328)).controller("MarketplaceHomeController",n(329)).controller("MyFontsController",n(1624)).controller("NotificationController",n(217)).controller("RecommendationsController",n(1625)).controller("SearchResultsController",n(1626)).controller("SpectrumBrowseController",n(1627)).controller("VisualSearchesController",n(330)).controller("WebfontProjectSelectorController",n(1628)).controller("WebfontProjectStyleSelectorController",n(1629)).controller("WebfontProjectStylesController",n(1630)).directive("dropdownBase",n(423)).directive("dropdownBaseButton",n(425)).directive("dropdownBaseContent",n(426)).directive("dropdownBaseItem",n(427)).directive("feedbackIcons",n(443)).directive("largeWebProjectNotice",n(1631)).directive("spectrumDropdown",n(440)).directive("spectrumSlider",n(1633)).directive("tkAlignedSpecimen",n(442)).directive("tkSubsettingOptions",n(1635)).directive("tkWebProjectCard",n(1637)).directive("tkWebProjectDetails",n(1639)).directive("tkWebProjectDisplayFamily",n(1641)).directive("tkWebProjectEditorStyleSelector",n(1643)).directive("tkWebProjectEmbedCodeOptions",n(1645)).directive("tkWebProjectFamilyCard",n(1647)).directive("tkWebProjectList",n(1649)).directive("adobeFontsAutoComplete",n(1651)).directive("adobeFontsCarousel",n(1653)).directive("adobeFontsFiltersSidebar",n(1656)).directive("adobeFontsFontVariationList",n(1658)).directive("adobeFontsLocaleSwitcher",n(332)).directive("adobeFontsPangramMenu",n(1660)).directive("adobeFontsFontpackCardList",n(1662)).directive("adobeFontsFontpackCard",n(1664)).directive("adobeFontsFamilyImageCardList",n(1666)).directive("adobeFontsFamilyImageCard",n(1668)).directive("fontDisplayOptions",n(1670)).directive("fontFamilyAccordion",n(1672)).directive("fontPreview",n(1674)).directive("requiredActionToggle",n(1676)).directive("displayInFont",n(322)).directive("familyCard",n(1677)).directive("filteredFamilyList",n(1679)).directive("fontpackHero",n(428)).directive("fontpackHeroVariation",n(434)).directive("fontpackHeroZoomInButton",n(435)).directive("fontpackHeroZoomOutButton",n(436)).directive("fontpackHeroZoomResetButton",n(437)).directive("fontVariationCard",n(1681)).directive("fontPairingCard",n(1683)).directive("fontSizeControl",n(1685)).directive("foundryLogo",n(438)).directive("stickyNav",n(1686)).directive("tabNavigation",n(1688)).directive("viewTypeControl",n(1690)).directive("scrollEventHandler",n(1691)).factory("AddFontsToWebProjectService",n(256)).factory("AnalyticsService",n(334)).factory("AuthenticationService",n(176)).factory("BifrostWamService",n(220)).factory("DataService",n(171)).factory("DesignersService",n(1692)).factory("DialogService",n(249)).factory("FamiliesService",n(1693)).factory("FamilyAutocompleteSearchService",n(335)).factory("FavoritesService",n(1694)).factory("FeedbackService",n(336)).factory("FirstMileService",n(250)).factory("FilterDataService",n(1695)).factory("FilterVariationsService",n(1696)).factory("FilteredFamilyListStateService",n(1697)).factory("FloodgateService",n(337)).factory("FontCountService",n(338)).factory("FontLoaderService",n(212)).factory("FontpackService",n(1698)).factory("FoundriesService",n(1699)).factory("FreezeframeService",n(251)).factory("I18nService",n(172)).factory("ImsEventsService",n(173)).factory("MyFontsService",n(1700)).factory("NewrelicService",n(174)).factory("NewrelicClickTrackerService",n(339)).factory("NotificationService",n(253)).factory("OmnitureService",n(261)).factory("PostLoginActionCreatorService",n(177)).factory("PostLoginActionProcessorService",n(265)).factory("RecommendationsService",n(1701)).factory("RedirectContextService",n(340)).factory("VisualSearchService",n(1702)).factory("ScrollService",n(1703)).factory("SuspendedAccountService",n(254)).factory("SyncService",n(341)).factory("TagsService",n(1704)).factory("TkWebProjectEditorService",n(1705)).factory("UrlService",n(175)).factory("UserService",n(204)).factory("UserPrefsService",n(255)).factory("YouTubeService",n(1712)).run(n(216))},1610:function(e,t,n){n(19),n(1611),e.exports="duScroll"},1611:function(e,t,n){(function(e){var t=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollSpyRefreshInterval",0).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",(function(e){"use strict";return e<.5?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2})).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");e&&e.exports&&(e.exports=t),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(e,t,n,i,r,o,a,s){"use strict";var c,l,u={},d=function(e){return"undefined"!==typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},f=function(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},p=function(e){return f(e)||d(e)?e:e[0]};u.duScrollTo=function(t,n,i,r){var o;if(angular.isElement(t)?o=this.duScrollToElement:angular.isDefined(i)&&(o=this.duScrollToAnimated),o)return o.apply(this,arguments);var a=p(this);if(d(a))return e.scrollTo(t,n);a.scrollLeft=t,a.scrollTop=n},u.duScrollToAnimated=function(e,o,a,u){a&&!u&&(u=r);var d=this.duScrollLeft(),f=this.duScrollTop(),p=Math.round(e-d),h=Math.round(o-f),m=null,g=0,v=this,y=function(e){(!e||g&&e.which>0)&&(s&&v.unbind(s,y),n(c),l.reject(),c=null)};if(c&&y(),l=t.defer(),0===a||!p&&!h)return 0===a&&v.duScrollTo(e,o),l.resolve(),l.promise;var b=function(e){null===m&&(m=e);var t=(g=e-m)>=a?1:u(g/a);v.scrollTo(d+Math.ceil(p*t),f+Math.ceil(h*t)),t<1?c=i(b):(s&&v.unbind(s,y),c=null,l.resolve())};return v.duScrollTo(d,f),s&&v.bind(s,y),c=i(b),l.promise},u.duScrollToElement=function(e,t,n,i){var r=p(this);angular.isNumber(t)&&!isNaN(t)||(t=a);var o=this.duScrollTop()+p(e).getBoundingClientRect().top-t;return f(r)&&(o-=r.getBoundingClientRect().top),this.duScrollTo(0,o,n,i)},u.duScrollLeft=function(t,n,i){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),n,i);var r=p(this);return d(r)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:r.scrollLeft},u.duScrollTop=function(t,n,i){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,n,i);var r=p(this);return d(r)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:r.scrollTop},u.duScrollToElementAnimated=function(e,t,n,i){return this.duScrollToElement(e,t,n||o,i)},u.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||o,n)},u.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||o,n)},angular.forEach(u,(function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)}))}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){"use strict";var t=["webkit","moz","o","ms"];return function(n,i){if(e[n])return e[n];for(var r,o=n.substr(0,1).toUpperCase()+n.substr(1),a=0;a<t.length;a++)if(e[r=t[a]+o])return e[r];return i}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=0;return e("requestAnimationFrame",(function(e,i){var r=(new Date).getTime(),o=Math.max(0,16-(r-n)),a=t((function(){e(r+o)}),o);return n=r+o,a}))}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){"use strict";return e("cancelAnimationFrame",(function(e){t.cancel(e)}))}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$interval","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollSpyRefreshInterval","duScrollBottomSpy","duScrollActiveClass",function(e,t,n,i,r,o,a,s,c,l,u){"use strict";var d={},f=function(n){var o=n.$id,c={spies:[]};return c.handler=function(n){var o=!1,c=!1,d=function(){c=!1;var t,o=n.container[0],s=0;if("undefined"!==typeof HTMLElement&&o instanceof HTMLElement||o.nodeType&&o.nodeType===o.ELEMENT_NODE)s=o.getBoundingClientRect().top,t=Math.round(o.scrollTop+o.clientHeight)>=o.scrollHeight;else{var d=r[0].body.scrollHeight||r[0].documentElement.scrollHeight;t=Math.round(i.pageYOffset+i.innerHeight)>=d}var f,p,h,m,g,v,y=l&&t?"bottom":"top";for(m=n.spies,p=n.currentlyActive,h=void 0,f=0;f<m.length;f++)(v=(g=m[f]).getTargetPosition())&&g.$element&&(l&&t||v.top+g.offset-s<20&&(a||-1*v.top+s)<v.height)&&(!h||h[y]<v[y])&&((h={spy:g})[y]=v[y]);h&&(h=h.spy),p===h||a&&!h||(p&&p.$element&&(p.$element.removeClass(u),e.$broadcast("duScrollspy:becameInactive",p.$element,angular.element(p.getTargetElement()))),h&&(h.$element.addClass(u),e.$broadcast("duScrollspy:becameActive",h.$element,angular.element(h.getTargetElement()))),n.currentlyActive=h)};return s?function(){o?c=!0:(d(),o=t((function(){o=!1,c&&d()}),s,!1))}:d}(c),d[o]=c,n.$on("$destroy",(function(){p(n)})),o},p=function(e){var t=e.$id,i=d[t],r=i.container;i.intervalPromise&&n.cancel(i.intervalPromise),r&&r.off("scroll",i.handler),delete d[t]},h=f(e),m=function(e){return d[e.$id]?d[e.$id]:e.$parent?m(e.$parent):d[h]},g=function(e){var t,n,i=e.$scope;if(i)return m(i);for(n in d)if(-1!==(t=d[n]).spies.indexOf(e))return t};return{addSpy:function(e){var t=g(e);t&&(t.spies.push(e),t.container&&function(e){for(;e.parentNode;)if((e=e.parentNode)===document)return!0;return!1}(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=o.getContainer(e.$scope),c&&!t.intervalPromise&&(t.intervalPromise=n(t.handler,c,0,!1)),t.container.on("scroll",t.handler).triggerHandler("scroll")))},removeSpy:function(t){var n=g(t);t===n.currentlyActive&&(e.$broadcast("duScrollspy:becameInactive",n.currentlyActive.$element),n.currentlyActive=null);var i=n.spies.indexOf(t);-1!==i&&n.spies.splice(i,1),t.$element=null},createContext:f,destroyContext:p,getContextForScope:m}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){"use strict";var t={},n=function(e){return t[e.$id]?e.$id:e.$parent?n(e.$parent):void 0};return{getContainerId:n,getContainer:function(i){var r=n(i);return r?t[r]:e},setContainer:function(e,n){var i=e.$id;return t[i]=n,i},removeContainer:function(e){var i=n(e);i&&delete t[i]}}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,t,n){"use strict";return{link:function(i,r,o){r.on("click",(function(r){if(o.href&&-1!==o.href.indexOf("#")||""!==o.duSmoothScroll){var a=o.href?o.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):o.duSmoothScroll,s=document.getElementById(a)||document.getElementsByName(a)[0];if(s&&s.getBoundingClientRect){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault();var c=o.offset?parseInt(o.offset,10):t,l=o.duration?parseInt(o.duration,10):e;n.getContainer(i).duScrollToElement(angular.element(s),isNaN(c)?0:c,isNaN(l)?0:l)}}}))}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,i){return{pre:function(t,n,i,r){e.createContext(t)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,i){return{pre:function(t,n,i,r){i.$observe("duScrollContainer",(function(i){angular.isString(i)&&(i=document.getElementById(i)),i=angular.isElement(i)?angular.element(i):n,e.setContainer(t,i),t.$on("$destroy",(function(){e.removeContainer(t)}))}))}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,t,n,i){"use strict";var r=function(e,t,n,i){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=i};return r.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},r.prototype.getTargetPosition=function(){var e=this.getTargetElement();if(e)return e.getBoundingClientRect()},r.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(o,a,s){var c,l=s.ngHref||s.href;if(l&&-1!==l.indexOf("#")?c=l.replace(/.*(?=#[^\s]+$)/,"").substring(1):s.duScrollspy?c=s.duScrollspy:s.duSmoothScroll&&(c=s.duSmoothScroll),c){var u=n((function(){var n=new r(c,o,a,-(s.offset?parseInt(s.offset,10):t));e.addSpy(n),o.$on("$locationChangeSuccess",n.flushTargetCache.bind(n));var l=i.$on("$stateChangeSuccess",n.flushTargetCache.bind(n));o.$on("$destroy",(function(){e.removeSpy(n),l()}))}),0,!1);o.$on("$destroy",(function(){n.cancel(u)}))}}}}])}).call(this,n(1612)(e))},1612:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},1613:function(e,t,n){n(1614),e.exports="ngTouch"},1614:function(e,t){!function(e,t,n){"use strict";var i=t.module("ngTouch",[]);function r(e,n,r){i.directive(e,["$parse","$swipe",function(i,o){return function(a,s,c){var l,u,d=i(c[e]);var f=["touch"];t.isDefined(c.ngSwipeDisableMouse)||f.push("mouse"),o.bind(s,{start:function(e,t){l=e,u=!0},cancel:function(e){u=!1},end:function(e,t){(function(e){if(!l)return!1;var t=Math.abs(e.y-l.y),i=(e.x-l.x)*n;return u&&t<75&&i>0&&i>30&&t/i<.3})(e)&&a.$apply((function(){s.triggerHandler(r),d(a,{$event:t})}))}},f)}}])}i.factory("$swipe",[function(){var e={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};function n(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],i=t.changedTouches&&t.changedTouches[0]||n[0];return{x:i.clientX,y:i.clientY}}function i(n,i){var r=[];return t.forEach(n,(function(t){var n=e[t][i];n&&r.push(n)})),r.join(" ")}return{bind:function(e,t,r){var o,a,s,c,l=!1;r=r||["mouse","touch"],e.on(i(r,"start"),(function(e){s=n(e),l=!0,o=0,a=0,c=s,t.start&&t.start(s,e)}));var u=i(r,"cancel");u&&e.on(u,(function(e){l=!1,t.cancel&&t.cancel(e)})),e.on(i(r,"move"),(function(e){if(l&&s){var i=n(e);if(o+=Math.abs(i.x-c.x),a+=Math.abs(i.y-c.y),c=i,!(o<10&&a<10))return a>o?(l=!1,void(t.cancel&&t.cancel(e))):(e.preventDefault(),void(t.move&&t.move(i,e)))}})),e.on(i(r,"end"),(function(e){l&&(l=!1,t.end&&t.end(n(e),e))}))}}}]),i.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]),i.directive("ngClick",["$parse","$timeout","$rootElement",function(e,n,i){var r,o,a,s="ng-click-active";function c(e,t,n){for(var i=0;i<e.length;i+=2)if(r=e[i],o=e[i+1],a=t,s=n,Math.abs(r-a)<25&&Math.abs(o-s)<25)return e.splice(i,i+2),!0;var r,o,a,s;return!1}function l(e){if(!(Date.now()-r>2500)){var n,i=e.touches&&e.touches.length?e.touches:[e],s=i[0].clientX,l=i[0].clientY;if(!(s<1&&l<1))if(!a||a[0]!==s||a[1]!==l)a&&(a=null),"label"===(n=e.target,t.lowercase(n.nodeName||n[0]&&n[0].nodeName))&&(a=[s,l]),c(o,s,l)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur())}}function u(e){var t=e.touches&&e.touches.length?e.touches:[e],i=t[0].clientX,r=t[0].clientY;o.push(i,r),n((function(){for(var e=0;e<o.length;e+=2)if(o[e]==i&&o[e+1]==r)return void o.splice(e,e+2)}),2500,!1)}return function(n,a,d){var f,p,h,m,g=e(d.ngClick),v=!1;function y(){v=!1,a.removeClass(s)}a.on("touchstart",(function(e){v=!0,3==(f=e.target?e.target:e.srcElement).nodeType&&(f=f.parentNode),a.addClass(s),p=Date.now();var t=e.originalEvent||e,n=(t.touches&&t.touches.length?t.touches:[t])[0];h=n.clientX,m=n.clientY})),a.on("touchcancel",(function(e){y()})),a.on("touchend",(function(e){var n=Date.now()-p,s=e.originalEvent||e,g=(s.changedTouches&&s.changedTouches.length?s.changedTouches:s.touches&&s.touches.length?s.touches:[s])[0],b=g.clientX,_=g.clientY,S=Math.sqrt(Math.pow(b-h,2)+Math.pow(_-m,2));v&&n<750&&S<12&&(!function(e,t){o||(i[0].addEventListener("click",l,!0),i[0].addEventListener("touchstart",u,!0),o=[]),r=Date.now(),c(o,e,t)}(b,_),f&&f.blur(),t.isDefined(d.disabled)&&!1!==d.disabled||a.triggerHandler("click",[e])),y()})),a.onclick=function(e){},a.on("click",(function(e,t){n.$apply((function(){g(n,{$event:t||e})}))})),a.on("mousedown",(function(e){a.addClass(s)})),a.on("mousemove mouseup",(function(e){a.removeClass(s)}))}}]),r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular)},1615:function(e,t,n){var i,r,o;r=[n(19)],void 0===(o="function"===typeof(i=function(e){return e.module("angular-clipboard",[]).factory("clipboard",["$document","$window",function(e,t){function n(n,i){var r=e[0].createElement("textarea");return r.style.position="absolute",r.style.fontSize="12pt",r.style.border="0",r.style.padding="0",r.style.margin="0",r.style.left="-10000px",r.style.top=(t.pageYOffset||e[0].documentElement.scrollTop)+"px",r.textContent=n,r}function i(t){try{e[0].body.style.webkitUserSelect="initial";var n=e[0].getSelection();n.removeAllRanges();var i=document.createRange();i.selectNodeContents(t),n.addRange(i),t.select(),t.setSelectionRange(0,999999);try{if(!e[0].execCommand("copy"))throw"failure copy"}finally{n.removeAllRanges()}}finally{e[0].body.style.webkitUserSelect=""}}function r(r,o){var a=t.pageXOffset||e[0].documentElement.scrollLeft,s=t.pageYOffset||e[0].documentElement.scrollTop,c=o&&o.container||e[0].body,l=n(r,o);c.appendChild(l),i(l),t.scrollTo(a,s),c.removeChild(l)}return{copyText:r,supported:"queryCommandSupported"in e[0]&&e[0].queryCommandSupported("copy")}}]).directive("clipboard",["clipboard",function(t){return{restrict:"A",scope:{onCopied:"&",onError:"&",text:"=",supported:"=?"},link:function(n,i){n.supported=t.supported,i.on("click",(function(r){try{t.copyText(n.text,i[0]),e.isFunction(n.onCopied)&&n.$evalAsync(n.onCopied())}catch(o){e.isFunction(n.onError)&&n.$evalAsync(n.onError({err:o}))}}))}}}])})?i.apply(t,r):i)||(e.exports=o)},1616:function(e,t,n){angular.module("infinite-scroll",[]).value("THROTTLE_MILLISECONDS",null).directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(e,t,n,i){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(r,o,a){var s,c,l,u,d,f,p,h,m,g,v,y,b,_,S,w,C,k;return k=angular.element(t),_=null,S=null,l=null,u=null,v=!0,C=!1,w=null,c=!1,g=function(e){return e=e[0]||e,isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight},y=function(e){if(e[0].getBoundingClientRect&&!e.css("none"))return e[0].getBoundingClientRect().top+b(e)},b=function(e){return e=e[0]||e,isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset},m=function(){var t,i,a;return u===k?(t=g(u)+b(u[0].document.documentElement),a=y(o)+g(o)):(t=g(u),i=0,void 0!==y(u)&&(i=y(u)),a=y(o)-i+g(o)),C&&(a=g((o[0].ownerDocument||o[0].document).documentElement)),a-t<=g(u)*_+1?(l=!0,S?r.$$phase||e.$$phase?r.infiniteScroll():r.$apply(r.infiniteScroll):void 0):(c&&n.cancel(c),l=!1)},null!=i&&(m=function(e,t){var i,r,o;return o=null,r=0,i=function(){return r=(new Date).getTime(),n.cancel(o),o=null,e.call()},function(){var a,s;return a=(new Date).getTime(),(s=t-(a-r))<=0?(n.cancel(o),o=null,r=a,e.call()):o?void 0:o=n(i,s,1)}}(m,i)),r.$on("$destroy",(function(){if(u.unbind("scroll",m),null!=w&&(w(),w=null),c)return n.cancel(c)})),p=function(e){return _=parseFloat(e)||0},r.$watch("infiniteScrollDistance",p),p(r.infiniteScrollDistance),f=function(e){if((S=!e)&&l)return l=!1,m()},r.$watch("infiniteScrollDisabled",f),f(r.infiniteScrollDisabled),h=function(e){return C=e},r.$watch("infiniteScrollUseDocumentBottom",h),h(r.infiniteScrollUseDocumentBottom),(s=function(e){if(null!=u&&u.unbind("scroll",m),u=e,null!=e)return u.bind("scroll",m)})(k),r.infiniteScrollListenForEvent&&(w=e.$on(r.infiniteScrollListenForEvent,m)),d=function(e){if(null!=e&&0!==e.length){if(e.nodeType&&1===e.nodeType?e=angular.element(e):"function"===typeof e.append?e=angular.element(e[e.length-1]):"string"===typeof e&&(e=angular.element(document.querySelector(e))),null!=e)return s(e);throw new Error("invalid infinite-scroll-container attribute.")}},r.$watch("infiniteScrollContainer",d),d(r.infiniteScrollContainer||[]),null!=a.infiniteScrollParent&&s(angular.element(o.parent())),null!=a.infiniteScrollImmediateCheck&&(v=r.$eval(a.infiniteScrollImmediateCheck)),c=n((function(){return v&&m(),n.cancel(c)}))}}}]),e.exports===t&&(e.exports="infinite-scroll")},1617:function(e,t){function n(e){this.addFontsToWebProjectModel=e.getAddFontsToWebProjectModel()}n.$inject=["AddFontsToWebProjectService"],n.prototype.getEmbedCodeModel=function(){return this.addFontsToWebProjectModel.getEmbedCodeModel()},n.prototype.doFamiliesExistInProject=function(){return this.addFontsToWebProjectModel.doFamiliesExistInProject()},n.prototype.getAllButLastExistingFamiliesInProject=function(){return this.addFontsToWebProjectModel.getExistingFamiliesInProject().slice(0,-1)},n.prototype.getLastExistingFamilyInProject=function(){return this.addFontsToWebProjectModel.getExistingFamiliesInProject().slice(-1)[0]},n.prototype.getNumberOfExistingFamiliesInProject=function(){return this.addFontsToWebProjectModel.getExistingFamiliesInProject().length},n.prototype.isFamilyCJK=function(){return this.addFontsToWebProjectModel.isFamilyCJK()},n.prototype.isExistingProjectSelected=function(){return Boolean(this.addFontsToWebProjectModel.getSelectedProjectID())},n.prototype.getSelectedProjectName=function(){return this.addFontsToWebProjectModel.getSelectedProjectName()},n.prototype.didSaveSucceed=function(){return this.addFontsToWebProjectModel.didSaveSucceed()},n.prototype.isSaveButtonDisabled=function(){return this.addFontsToWebProjectModel.didAttemptSave()||!this.addFontsToWebProjectModel.isSaveValid()},n.prototype.handleSaveButtonClicked=function(){if(this.isSaveButtonDisabled()){var e=document.querySelector("#webfont-project-selector-search-box");e&&e.focus()}else this.addFontsToWebProjectModel.save()},n.prototype.handleCancelButtonClicked=function(){this.addFontsToWebProjectModel.closeDialog()},n.prototype.getAddedFontsCount=function(){return this.addFontsToWebProjectModel.getAddedFontsCount()},n.prototype.getAddedToProjectName=function(){return this.addFontsToWebProjectModel.getAddedToProjectName()},n.prototype.getAddedToProjectEditorLink=function(){return this.addFontsToWebProjectModel.getAddedToProjectEditorLink()},n.prototype.handleDoneButtonClicked=function(){this.addFontsToWebProjectModel.closeDialog()},e.exports=n},1618:function(e,t,n){o.$inject=["$scope","$q","$timeout","DataService","DialogService","FilteredFamilyListStateService","FontLoaderService","FontpackService","NewrelicClickTrackerService","NotificationService","SyncService"];var i=n(6),r=n(310).hasPaidCreativeCloud;function o(e,t,n,i,r,o,a,s,c,l,u){var d=this;d.$scope=e,d.$q=t,d.$timeout=n,d.DataService=i,d.DialogService=r,d.FilteredFamilyListStateService=o,d.FontLoaderService=a,d.FontpackService=s,d.NotificationService=l,d.SyncService=u,c.init({page:"collections"}),d.viewType="list",d.$scope.$watch(d.fontpack),d._preloadData()}o.prototype.getDisplayFont=function(e){var t=this.textSampleData.textSamples[e.default_language].feature_settings,n=this.textSampleData.textSamples[e.default_language].kana_only,i=this.textSampleData.textSamples[e.default_language].unicode_range;return{cssName:e.css_name,featureSettings:t,fvd:e.fvd,isDynamic:!0,kanaOnly:n,opaqueId:e.opaque_id,unicodeRange:i}},o.prototype.getExampleText=function(e){return i.isEmpty(e)||this._isSelectedExampleTextSupported(e)?this.exampleText.value:this.textSampleData.textSamples[e.default_language].list},o.prototype.getExampleTextStyle=function(){return{fontSize:this.exampleText.size+"px"}},o.prototype.getHeroCardExampleText=function(e){var t=this.textSampleData.textSamples[e.default_language||"en"];return t.kana_only?t.grid_kana:t.grid},o.prototype.getHeroCardExampleTextClass=function(e){return"ja"===e.default_language?"collection-show__hero-variation-sample-japanese":"collection-show__hero-variation-sample"},o.prototype.getTextDirectionClass=function(e){return e.rtl?"sample-right":""},o.prototype.handleUnsyncButtonClick=function(e){this.FontpackService.unsyncFontsInFontpack(this.fontpack,e,this.i18n)},o.prototype.handleUseModelUnsyncButtonClick=function(e){this.FontpackService.unsyncFontsInFontpack(this.fontpack,e,this.i18n,!0)},o.prototype.isFontpackSynced=function(){return this.FontpackService.isFontpackSynced(this.fontpack.slug)},o.prototype.isGetFontsButtonVisible=function(){return!this.requiresUpgrade()&&!this.isFontpackSynced()},o.prototype.isUnsyncFontsButtonVisible=function(){return this.isFontpackSynced()},o.prototype.requiresUpgrade=function(){return this.FontpackService.requiresUpgrade(this.fontpack.slug)},o.prototype.isUpgradeMessageAvailable=function(){return this.requiresUpgrade()&&!r()},o.prototype.isNotAvailableMessageVisible=function(){return this.requiresUpgrade()&&!this.isUpgradeMessageAvailable()},o.prototype.shouldShowGridView=function(){return"grid"===this.viewType},o.prototype.shouldShowListView=function(){return"list"===this.viewType},o.prototype.syncFontpack=function(e){this.FontpackService.syncFontpack(this.fontpack,e,this.i18n)},o.prototype.useModelSyncFontpack=function(e){this.FontpackService.syncFontpack(this.fontpack,e,this.i18n,!0)},o.prototype.updateFonts=function(){this.FontLoaderService.updateFonts(this.exampleText.value)},o.prototype._isSelectedExampleTextSupported=function(e){var t=i.map(e.unicode_range.split(","),(function(e){return String.fromCharCode(parseInt(e.replace("U+",""),16))})),n=this.exampleText.value.split(""),r=i.difference(n,t);return i.isEmpty(r)},o.prototype._preloadData=function(){var e=this;return e.$q.all([e.DataService.get("/preloaded_collection_data").then((function(t){e.fontpack=t.fontpack,e.groups=t.fontpack.group_metadata,e.items=t.fontpack.font_variations,e.textSampleData=t.textSampleData,e._setExampleText(),e.FontpackService.addFontpacks([e.fontpack])})),e.DataService.get("/fontpack/i18n").then((function(t){e.i18n=t}))])},o.prototype._setExampleText=function(){var e=this,t=i.first(i.uniq(i.pluck(e.items||[],"default_language")))||"en",n=e.textSampleData.textSamples[t];e.exampleText={value:n.kana_only?n.list_kana:n.list,size:36},e.featureSettings=n.feature_settings,e.unicodeRange=n.unicode_range},e.exports=o},1619:function(e,t){function n(e,t,n,i,r,o){this.$q=e,this.DataService=t,this.FilterDataService=i,this.DesignersService=n,this.FilteredFamilyListStateService=r,this.UserPrefsService=o,this._preloadData()}n.$inject=["$q","DataService","DesignersService","FilterDataService","FilteredFamilyListStateService","UserPrefsService"],n.prototype._preloadData=function(){var e=this;return e.$q.all([e.UserPrefsService.getUserPrefs().then((function(t){e.DataService.get("/neue/preloaded_designer_data").then((function(n){e.filteredFamilyList=e.FilteredFamilyListStateService.getState(null,t),e.filteredFamilyList.families=n.familiesData.families,e.filteredFamilyList.totalFamilies=n.familiesData.totalFamilies,e.filteredFamilyList.totalPages=n.familiesData.totalPages,e.designerSlug=n.designerSlug,e.textSampleData=n.textSampleData,e.filtersModel=e.FilterDataService.getFilterModel()}))}))])},n.prototype.updateFilteredFamilyList=function(){var e=this;e.filtersModel.setCurrentPage(e.filteredFamilyList.currentPage),e.DesignersService.getFamilies(e.designerSlug,e.filtersModel.toSearchParams()).then((function(t){e.filteredFamilyList.families=t.data.families_data.families,e.filteredFamilyList.totalFamilies=t.data.families_data.totalFamilies,e.filteredFamilyList.totalPages=t.data.families_data.totalPages,e.textSampleData.textSamplePrimers=t.data.text_sample_primers})),e.FilteredFamilyListStateService.updateState(e.filteredFamilyList)},e.exports=n},1620:function(e,t,n){f.$inject=["$cookies","$document","$scope","$timeout","$window","DataService","FamiliesService","FeedbackService","FilterDataService","FilteredFamilyListStateService","FreezeframeService","I18nService","NewrelicClickTrackerService","NewrelicService","NotificationService","ScrollService","TagsService","UserPrefsService"];var i=n(393),r=n(6),o=n(19),a=n(304),s=n(49),c=n(310),l=c.hasPaidCreativeCloud,u=c.getUserInfoSync,d={"art-deco":"neue.browse.seo_tag_header_text.art_deco.seo_blurb",blackletter:"neue.browse.seo_tag_header_text.blackletter.seo_blurb","brush-pen":"neue.browse.seo_tag_header_text.brush_pen.seo_blurb",calligraphic:"neue.browse.seo_tag_header_text.calligraphic.seo_blurb",clean:"neue.browse.seo_tag_header_text.clean.seo_blurb",college:"neue.browse.seo_tag_header_text.college.seo_blurb",comic:"neue.browse.seo_tag_header_text.comic.seo_blurb",cursive:"neue.browse.seo_tag_header_text.cursive.seo_blurb",friendly:"neue.browse.seo_tag_header_text.friendly.seo_blurb",fun:"neue.browse.seo_tag_header_text.fun.seo_blurb",funky:"neue.browse.seo_tag_header_text.funky.seo_blurb",futuristic:"neue.browse.seo_tag_header_text.futuristic.seo_blurb",geometric:"neue.browse.seo_tag_header_text.geometric.seo_blurb",horror:"neue.browse.seo_tag_header_text.horror.seo_blurb",inline:"neue.browse.seo_tag_header_text.inline.seo_blurb",luxury:"neue.browse.seo_tag_header_text.luxury.seo_blurb",marker:"neue.browse.seo_tag_header_text.marker.seo_blurb",ornaments:"neue.browse.seo_tag_header_text.ornaments.seo_blurb",rough:"neue.browse.seo_tag_header_text.rough.seo_blurb",rounded:"neue.browse.seo_tag_header_text.rounded.seo_blurb",school:"neue.browse.seo_tag_header_text.school.seo_blurb",shaded:"neue.browse.seo_tag_header_text.shaded.seo_blurb",stencil:"neue.browse.seo_tag_header_text.stencil.seo_blurb",typewriter:"neue.browse.seo_tag_header_text.typewriter.seo_blurb",wedding:"neue.browse.seo_tag_header_text.wedding.seo_blurb",western:"neue.browse.seo_tag_header_text.western.seo_blurb"};function f(e,t,n,i,a,s,c,l,u,d,f,p,h,m,g,v,y,b){var _=this;_.$cookies=e,_.$document=t,_.$scope=n,_.$window=a,_.DataService=s,_.FamiliesService=c,_.FeedbackService=l,_.FilterDataService=u,_.FilteredFamilyListStateService=d,_.FreezeframeService=f,_.I18nService=p,_.NewrelicService=m,_.NotificationService=g,_.ScrollService=v,_.TagsService=y,_.UserPrefsService=b,h.init({page:"browse"}),_._preloadData(),_._initWindowSizeWatcher(),i((function(){_.updateFilterListVisibilityForWindowSize()})),_._handleFiltersChangeWithDebounce=r.debounce(o.bind(_,_._handleFiltersChangeWithoutDebounce),100)}f.prototype.getTagBackgroundClass=function(){if(this.filtersModel){var e=this.filtersModel.toSearchParams().tag;if(e)return this.TagsService.TAG_BACKGROUND_CLASS_MAP[e]}},f.prototype.getTagHeaderCopy=function(){var e=this;if(e._i18n&&this.filtersModel){var t=this.filtersModel.toSearchParams().tag;if(t){var n=r.find(this.filtersModel.getTags()||[],(function(e){return e.key===t}));if(n){var i=d[t];if(i)return e.I18nService.getMessage(e._i18n,i,{family_count:this.filteredFamilyList.totalFamilies,tag_name:n.label})}}}},f.prototype.getTagHeaderFontDisplayData=function(){if(this.shouldShowDisplayFont()){var e=this.getTagHeaderTagData();if(e)return this.filtersModel.getFontDisplayData(e)}},f.prototype.getTagHeaderTagData=function(){if(this.filtersModel){var e=this.filtersModel.toSearchParams().tag;if(e)return this.filtersModel.getTagByKey(e)}},f.prototype.getTagHeaderLabel=function(){var e=this.getTagHeaderTagData();if(e)return e.label},f.prototype.handleFilteredFamilyListUserPrefsChange=function(){this.UserPrefsService.updatePrefs(this.filteredFamilyList)},f.prototype.handleFilteredFamilyListChange=function(){this.filtersModel.setCurrentPage(this.filteredFamilyList.currentPage),this.handleFiltersChange()},f.prototype.handleFiltersChange=function(){this.filtersModel.setLoading(!0),this._handleFiltersChangeWithDebounce()},f.prototype.isBrowseModeSelected=function(e){return this.filtersModel&&this.filtersModel.getBrowseMode()==e.id},f.prototype.isFilterListHidden=function(){return this._isFilterListHiddenByUser||this._isFilterListHiddenForSmallScreen},f.prototype.isTagHeaderVisible=function(){if(this.filtersModel){if(this.filtersModel.toSearchParams().font_technology)return!1;var e=this.filtersModel.toSearchParams().tag;return!!e&&!!this.TagsService.TAG_BACKGROUND_CLASS_MAP[e]}},f.prototype.isVfHeaderVisible=function(){if(this.filtersModel){var e=this.filtersModel.toSearchParams().font_technology;return!!e&&"vf"===e}},f.prototype.shouldShowDisplayFont=function(){var e=this.getTagHeaderTagData();if(e)return!!e.font&&!["ja_JP","ko_KR","ru_RU","zh_CN","zh_TW"].includes(this.filtersModel.getLocale())},f.prototype.toggleFilters=function(){this._isFilterListHiddenByUser=!this.isFilterListHidden(),this._isFilterListHiddenForSmallScreen=!1},f.prototype.updateFilterListVisibilityForWindowSize=function(){var e=this;e._getWindowWidth()!=e._previousWindowWidth&&(e._previousWindowWidth=e._getWindowWidth(),e.$scope.$apply((function(){e._isFilterListHiddenForSmallScreen=e._getWindowWidth()<=880})))},f.prototype._handleFiltersChangeWithoutDebounce=function(){var e=this,t=this.filtersModel.toSearchParams();e.FamiliesService.get(t).then((function(t){e.filteredFamilyList.families=t.data.families_data.families,e.filteredFamilyList.totalFamilies=t.data.families_data.totalFamilies,e.filteredFamilyList.totalPages=t.data.families_data.totalPages,e.filteredFamilyList.familyCountMessage=t.data.families_data.familyCountMessage,e.textSampleData=t.data.text_sample_data,e.filtersModel.setLoading(!1),e.FreezeframeService.update()})),e.filteredFamilyList.currentPage=e.filtersModel.getCurrentPage(),e.filteredFamilyList.browseMode=e.filtersModel.getBrowseMode(),e.FilteredFamilyListStateService.updateUrl(t),e.FeedbackService.setFiltersModel(this.filtersModel)},f.prototype._initWindowSizeWatcher=function(){var e=this;e.$window.addEventListener("resize",(function(){e.isFilterListHiddenByUser||e.updateFilterListVisibilityForWindowSize()}))},f.prototype._setLanguageFilters=function(e){var t=this;t.filteredFamilyList.selectedLanguages.length>0?t.filteredFamilyList.selectedLanguages.forEach((function(e){t.filtersModel.selectLanguageMode(e)})):"default"===e?t.filtersModel.setBrowseMode(e):"japanese"===e?t.filtersModel.selectLanguageMode("ja"):t.filtersModel.selectLanguageMode(e)},f.prototype._preloadData=function(){var e=this;e.UserPrefsService.getUserPrefs().then((function(t){e.DataService.get("/families/i18n").then((function(t){e._i18n=t})),e.DataService.get("/neue/preloaded_family_data").then((function(n){e.filteredFamilyList=e.FilteredFamilyListStateService.getState(n.user,t),e.filteredFamilyList.families=n.familiesData.families,e.filteredFamilyList.totalFamilies=n.familiesData.totalFamilies,e.filteredFamilyList.totalPages=n.familiesData.totalPages,e.textSampleData=n.textSampleData,e.filtersModel=e.FilterDataService.getFilterModel({allFilters:n.familyFilters,collection:e.filteredFamilyList.collection,filterData:n.familyFilterData,hideLibraryOption:l(),isTagsModuleVisible:n.isTagsModuleVisible,languages:n.languageFilters,locale:n.locale,tags:n.tagsFilters,signedOutState:!n.user,textSamples:e.textSampleData&&e.textSampleData.textSamples,changeCallback:function(){return e.__webComponents_syncSidebarAttributes()}}),e.allBrowseModes=n.browseModes,e._setLanguageFilters(t.browseMode||e.allBrowseModes[0].id),e.filtersModel.selectFontTechnology(n.fontTechnology),e.filtersModel.selectTag(e.filteredFamilyList.selectedTag),e.filtersModel.setSelectedFilters(e.filteredFamilyList.selectedFilters),e.filtersModel.setHideImages(e.filteredFamilyList.hideImages),e.filtersModel.setShowPaidFonts(e.filteredFamilyList.showPaidFonts||t.showPaidFonts,!1),e.filtersModel.setShowBasicLibrary(t.showBasicLibrary),26===e.filteredFamilyList.minStyles&&26===e.filteredFamilyList.maxStyles?(e.filtersModel.clearNumberOfStyles(),e.FilteredFamilyListStateService.updateUrl(e.filtersModel.toSearchParams())):(e.filtersModel.setMinStyles(e.filteredFamilyList.minStyles),e.filtersModel.setMaxStyles(e.filteredFamilyList.maxStyles)),e.filteredFamilyList.familyCountMessage=n.familyCountMessage,e.FeedbackService.setFiltersModel(e.filtersModel),a.areWebComponentsEnabled()&&e._webComponents_initFilterSidebar()}))}))},f.prototype._getWindowWidth=function(){return this.$document[0].documentElement.clientWidth},f.prototype._webComponents_initFilterSidebar=function(){var e=this,t=e.$document.find("af-filter-sidebar")[0];if(t){a.modules.get("addMessages")(e.filtersModel.webComponents_getI18nForFilters()),e.UserPrefsService.getUserPrefs().then((function(n){e.filtersModel.setShowPaidFonts(!1!==n.showPaidFonts,!0),t.showPaidFontsChecked=e.filtersModel.getShowPaidFonts()})),t.showPaidFontsSection=e.filtersModel.getShowLibraryOption(),t.languages=e.filtersModel.getLanguages(),t.tags=e.filtersModel.webComponents_getTagDataForFilterSidebar(),this.__webComponents_syncSidebarAttributes();var n=a.modules.get("ClearFiltersEvent");t.addEventListener(n.EVENT_NAME,(function(){e.filtersModel.clearAll(),e.__webComponents_handleSidebarEvent()}));var r=a.modules.get("ShowPaidFontsToggleEvent");t.addEventListener(r.EVENT_NAME,(function(t){e.filtersModel.setShowPaidFonts(t.detail.showPaidFonts,!0),e.__webComponents_handleSidebarEvent()}));var o=a.modules.get("FilterToggleEvent");t.addEventListener(o.EVENT_NAME,(function(t){e.filtersModel.toggleFilter(t.detail.filterKey),e.NewrelicService.addPageAction("typekit.browse.click",{filterName:t.detail.filterKey}),e.__webComponents_handleSidebarEvent()}));var s=a.modules.get("NumberOfFontsSliderEvent");t.addEventListener(s.EVENT_NAME,(function(t){"min"==t.detail.handleName?e.filtersModel.setMinStyles(t.detail.value):e.filtersModel.setMaxStyles(t.detail.value),e.__webComponents_handleSidebarEvent()})),t.fontsInFamilyMin=e.filtersModel.getMinStyles(),t.fontsInFamilyMax=e.filtersModel.getMaxStyles();var c=a.modules.get("LanguageFilterToggleEvent");t.addEventListener(c.EVENT_NAME,(function(t){e.filtersModel.setSelectedLanguage(t.detail.language),e.filtersModel.setSelectedLanguageMode(t.detail.language),e.__webComponents_handleSidebarEvent()})),t.addEventListener(i.EVENT_NAME,(function(t){e.filtersModel.setSelectedFontTechnology(t.detail.fontTechnology),e.__webComponents_handleSidebarEvent()}));var l=a.modules.get("TagToggleEvent");t.addEventListener(l.EVENT_NAME,(function(t){e.filtersModel.toggleTag(t.detail.tag),e.NewrelicService.addPageAction({tagName:t.detail.tag}),e.__webComponents_handleSidebarEvent()}))}},f.prototype.__webComponents_handleSidebarEvent=function(){this.handleFiltersChange(),this.__webComponents_syncSidebarAttributes()},f.prototype.__webComponents_syncSidebarAttributes=function(){var e=this,t=e.$document.find("af-filter-sidebar")[0];t&&(t.browseMode=e.filtersModel.getBrowseMode(),t.selectedTags=[e.filtersModel.getSelectedTag()],t.selectedLanguage=e.filtersModel.getSelectedLanguages()[0]||"all",t.selectedFilters=e.filtersModel.getSelectedFilters(),t.selectedTechnologyFilter=e.filtersModel.getSelectedFontTechnology(),t.fontsInFamilyMin=e.filtersModel.getMinStyles(),t.fontsInFamilyMax=e.filtersModel.getMaxStyles())},f.prototype._updateTemplatesForFamilies=function(){if(s.getData("enable-project-crossbar")){var e=this,t=e.filteredFamilyList.families.map((function(e){return e.display_font.preferred_family_name}));n.e(9).then(n.bind(null,86)).then((function(n){var i=n.fetchCCXFamilyTemplates,r=u().isLoggedIn;t.forEach((function(t){e.filteredFamilyList.familyTemplates[t]||i(t,0,1,l(),r).then((function(n){e.filteredFamilyList.familyTemplates[t]=n,e.$scope.$digest()}))}))}))}},e.exports=f},1621:function(e,t,n){l.$inject=["$document","$q","$timeout","$scope","$window","AddFontsToWebProjectService","AuthenticationService","DataService","FavoritesService","FilteredFamilyListStateService","FilterVariationsService","FirstMileService","FontLoaderService","I18nService","NewrelicService","NewrelicClickTrackerService","NotificationService","RecommendationsService","RedirectContextService","ScrollService","SyncService","UserPrefsService","UserService"];var i=n(310),r=i.getUserInfoSync,o=i.hasPaidCreativeCloud,a=n(6),s=n(19),c="-section";function l(e,t,n,i,r,o,a,c,l,u,d,f,p,h,m,g,v,y,b,_,S,w,C){var k=this;k.$document=e,k.$q=t,k.$scope=i,k.$timeout=n,k.$window=r,k.AddFontsToWebProjectService=o,k.AuthenticationService=a,k.DataService=c,k.FavoritesService=l,k.FilteredFamilyListStateService=u,k.FilterVariationsService=d,k.FirstMileService=f,k.FontLoaderService=p,k.I18nService=h,k.NewrelicService=m,k.NotificationService=v,k.RecommendationsService=y,k.RedirectContextService=b,k.ScrollService=_,k.SyncService=S,k.UserPrefsService=w,k.UserService=C,g.init({page:"family detail"}),k.windowIsScrolling=!1,k._preloadData().then((function(){k._handleContext()})),this._initCrossbar(),s.element(document).ready((function(){k.$timeout((function(){k.$scope.$watch((function(){return location.hash}),(function(e){""!==e&&(history.state&&!history.state.navigationTabClicked||k._scrollOnLoad(e))})),k.$scope.$watch((function(){return k.$window.pageYOffset}),(function(){k.windowIsScrolling||k._updateAnchor()}))}))}))}l.prototype._scrollOnLoad=function(e){var t=this,n=e.substr(1,e.indexOf(c)-1),i=e.substr(e.indexOf(c)+c.length+1);if("details"===n&&""!==i){var r=t.getVariationFromSlug(i);r&&t.setSelectedVariation(r)}t._selectTabFromAnchor(n),t._scrollToAnchor(n,e)},l.prototype.getVariationFromSlug=function(e){return a.find(this.filteredFonts,(function(t){return e===t.slug}))},l.prototype.handleSimilarFontsAndPairingsLinkClick=function(e){this.setSelectedVariation(e),location.href="#details-section+"+e.slug},l.prototype.isFlagged=function(e){return"negative"===e.selectedFeedback},l.prototype.activateFamilyLabel=function(){var e=this.syncableFonts.length-this.activatedFontCount;return 1===e?this.I18nService.getMessage(this._i18n,"browse.families.show.activate_one_font"):this.I18nService.getMessage(this._i18n,"browse.families.show.activate_n_fonts",{num_fonts:e})},l.prototype.activateSubfamily=function(e,t){var n=this;n._keepSubfamilyDropdownOpen(),n.NewrelicService.addPageAction("typekit.click.activate-subfamily",{subfamily:e,fontCount:t.length}),n.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_fonts",{font_ids:a.pluck(t,"id")}).then((function(){n._sync(t)}))},l.prototype.handleVariableFontsLearnMoreClick=function(){this.NewrelicService.addPageAction("typekit.vf_banner.learn_more_click")},l.prototype.handleDeactivationClick=function(e){this.activatedFontCount--;var t=a.pluck(e,"id");this._updateSelectionStatus(t,!1)},l.prototype.filterFontsByRequiredActions=function(e){var t=this.FilterVariationsService.filterRequiredActionsByToggles(this.family.fonts,e);this.preferredAction=t.preferred,this.filteredNavigationTabs=this._filterTabs(),this.filteredFonts=this.FilterVariationsService.filterFontsByRequiredActions(this.family.fonts,t.filters)},l.prototype.favoriteToggleClass=function(){return this.family&&this.family.favorite?"favorite-toggle-icon on":"favorite-toggle-icon"},l.prototype.fontVariationCardsClass=function(){return"grid"===this.viewType?"font-variations-grid-view":"font-variation-list"},l.prototype.getDesignersForSelectedVariation=function(){if(this.designerInfo){var e=this;return a.compact(a.map(e.selectedVariation.designers,(function(t){return e.designerInfo[t.slug]})))}},l.prototype.handleAddToWebProjectButton=function(){var e=this;this.family.has_variable_font?Promise.all([n.e(0),n.e(1),n.e(7),n.e(6),n.e(8)]).then(n.bind(null,865)).then((function(t){var n=(0,t.getEditor)(),i=n&&n.saveState;e.AddFontsToWebProjectService.addFamilyToWebProjectWithAuthentication(e.family.slug,null,i)})):this.AddFontsToWebProjectService.addFamilyToWebProjectWithAuthentication(this.family.slug)},l.prototype.handleVariationDetailsClick=function(e){this.setSelectedVariation(e),this._scrollToAnchor("details","#details-section+"+this.selectedVariation.slug)},l.prototype.setSelectedVariation=function(e){this.selectedVariation=e,this.getSelectedVariationSimilarities(),this.getSelectedVariationPairings()},l.prototype.handleRecommendedVariationDetailsClick=function(e){var t=a.findIndex(this.variationMenuItems,(function(t){return t.value.id===e.id}));this.handleVariationDetailsClick(this.variationMenuItems[t].value)},l.prototype.handleActivationClick=function(e){this.activatedFontCount++;var t=a.pluck(e,"id");this._updateSelectionStatus(t,!0)},l.prototype.isAllSynced=function(e){var t=this.syncedFonts(e).length;return t>0&&t===e.length},l.prototype.isAddToWebProjectButtonVisible=function(){return this._availableForWeb()&&!this._allFontsRequireWebAction()},l.prototype.isSubscribeToCCButtonVisible=function(){if(!this.isAddToWebProjectButtonVisible())return this.family.has_variable_font},l.prototype.isDefaultJapaneseLanguageSelected=function(){return"ja"==this.selectedVariation.default_language},l.prototype.isDefaultEnglishLanguageSelected=function(){return"en"==this.selectedVariation.default_language},l.prototype.isStickyNavDisabled=function(){return this.$window.innerWidth<768},l.prototype.getCarouselListClass=function(e){return e>2?"adobe-fonts-family__carousel-list":""},l.prototype.isQuickMultiSyncAvailable=function(){return this.syncableFonts.length>0&&!this.isSubfamilyActivateAvailable()},l.prototype.isUseModelQuickMultiSyncAvailable=function(){return this.syncableFonts.length>0},l.prototype.displayFontSemanticDescription=function(){var e=this;return e.family.fonts.find((function(t){return t.id===e.family.display_font.id})).semantic_description},l.prototype.isQuickMultiSyncVisible=function(){return!this.isAllSynced(this.syncableFonts)},l.prototype.isQuickMultiUnsyncVisible=function(){return this.isAllSynced(this.syncableFonts)},l.prototype.isSubfamilyActivateAvailable=function(){return this.syncableFonts.length>=8&&a.keys(this.syncableSubFamilies).length>1&&!this.isAllSynced(this.syncableFonts)},l.prototype.requiresUpgradeForWeb=function(){var e=this,t=!1;return e.family.fonts.forEach((function(n){!t&&e._fontRequiresUpgradeForWeb(n.font)&&(t=!0)})),t&&!e._availableForWeb()},l.prototype.selectedVariationHasDesigners=function(){return!a.isEmpty(this.getDesignersForSelectedVariation())},l.prototype.selectedVariationHasManyDesigners=function(){return this.getDesignersForSelectedVariation().length>=3},l.prototype.selectedVariationDisplayData=function(){var e=this.selectedVariation;return{cssName:e.family.web_id+"-"+e.font.web.fvd,fvd:e.font.web.fvd,isDynamic:!0,opaqueId:e.family.web_id,unicodeRange:this.unicodeRange,featureSettings:this.featureSettings}},l.prototype.selectedVariationHasFilters=function(){return a.size(this.selectedVariation.filters)>0},l.prototype.sync=function(e,t){var n=this;n.NewrelicService.addPageAction("typekit.click.sync-all-button",{family:n.family.name,useModelEnabled:!1}),n.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_family",{slug:n.family.slug}).then((function(){n._sync(t)}))},l.prototype.useModelSync=function(e,t){var n=this;n.NewrelicService.addPageAction("typekit.click.sync-all-button",{family:n.family.name,useModelEnabled:!0}),n.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_family",{slug:n.family.slug}).then((function(){n._sync(t,!0)}))},l.prototype.syncedFonts=function(e){return a.filter(e,(function(e){return"sync"in e.font&&(e.font.sync.is_selected||a.contains(e.font.sync.install_state.split(","),"cc"))}))},l.prototype.toggleSync=function(e,t){this.isAllSynced(t)?this.unsync(this.syncedFonts(t)):this.sync(e,this.unsyncedFonts(t))},l.prototype.toggleFavorite=function(){var e=this;e.family.favorite?e.FavoritesService.delete(e.family.slug).then((function(){e.family.favorite=!1}),(function(t){e.NotificationService.error(t.data.error)})):e.FavoritesService.post(e.family.slug).then((function(){e.family.favorite=!0}),(function(t){e.NotificationService.error(t.data.error)}))},l.prototype.useModelUnsyncFamily=function(e){var t=this;t.FirstMileService.shouldShowRemoveFamilyConfirmationDialog().then((function(n){if(n){var i=t._i18n["neue.browse.family_card"].remove_family_confirmation_header,r=t._i18n["neue.browse.family_card"].remove_family_confirmation_description;return t.FirstMileService.showRemoveFamilyConfirmationDialog(i,r,(function(){t.useModelUnsync(e)}))}t.useModelUnsync(e)}))},l.prototype.useModelUnsync=function(e){var t=this;t.NewrelicService.addPageAction("typekit.click.unsync-all-button",{family:t.family.name,useModelEnabled:!0}),e.forEach((function(e){e.isSyncing=!0})),t.SyncService.removeSyncedVariations(a.pluck(e,"id")).then((function(n){var i;e.forEach((function(e){e.isSyncing=!1,"data"in n&&n.data.removed_font_ids.indexOf(e.id)>-1?(e.font.sync.is_selected=!1,e.font.sync.install_state="",t._updateSelectionStatus([e.id],!1)):i=!0})),i?t.NotificationService.error(t._i18n["neue.browse.family_card"].error_occurred_removing_fonts,{actionLabel:t._i18n["neue.browse.family_card"].try_again,callbackAction:function(){t.useModelUnsync(e)}}):t.NotificationService.notice(t._i18n["neue.browse.family_card"].fonts_removed_success_message)}),(function(){t.NotificationService.error(t._i18n["neue.browse.family_card"].error_occurred_removing_fonts,{actionLabel:t._i18n["neue.browse.family_card"].try_again,callbackAction:function(){t.useModelUnsync(e)}})}))},l.prototype.unsync=function(e){var t=this;t._keepSubfamilyDropdownOpen(),t.NewrelicService.addPageAction("typekit.click.unsync-all-button",{family:t.family.name,useModelEnabled:!1}),e.forEach((function(e){e.isSyncing=!0})),t.SyncService.removeSyncedVariations(a.pluck(e,"id")).then((function(n){var i;e.forEach((function(e){e.isSyncing=!1,"data"in n&&n.data.removed_font_ids.indexOf(e.id)>-1?(e.font.sync.is_selected=!1,e.font.sync.install_state="",t._updateSelectionStatus([e.id],!1)):i=!0})),i?t.NotificationService.error(t.I18nService.getMessage(t._i18n["neue.browse.family_card"],"error_occurred_deactivating_some_fonts")):(t.activatedFontCount-=n.data.removed_font_ids.length,e.length>1?t.NotificationService.success(t.I18nService.getMessage(t._i18n,"neue.families.multi_sync.loading_dialog.unsync_family_multiple_fonts_html",{family:t.family.name,num:e.length})):t.NotificationService.success(t.I18nService.getMessage(t._i18n,"neue.families.multi_sync.loading_dialog.unsync_family_one_font_html",{family:t.family.name})))}),(function(){t.NotificationService.error(t.I18nService.getMessage(t._i18n["neue.browse.family_card"],"error_occurred_deactivating_fonts"))}))},l.prototype.unsyncedFonts=function(e){return a.reject(e,(function(e){return"sync"in e.font&&e.font.sync.is_selected}))},l.prototype._allFontsRequireWebAction=function(){var e=this;return a.every(e.family.fonts,(function(t){return e._fontRequiresWebAction(t.font)}))},l.prototype._availableForWeb=function(){var e=this;return a.some(e.family.fonts,(function(t){return e.fontAvailableForWeb(t.font)}))},l.prototype.fontAvailableForWeb=function(e){return(this.userPlan||{}).library?"web"in e&&!this._fontIsWebPreviewOnly(e)&&!this._fontRequiresWebAction(e):"web"in e&&!this._fontIsWebPreviewOnly(e)&&(e.web.library_availability.trial||e.web.library_availability.full)},l.prototype.isNonPreviewWebFont=function(e){return e.web&&!this._fontIsWebPreviewOnly(e)},l.prototype._filterTabs=function(){var e=this;return a.reject(e.navigationTabs,(function(t){return"recommendations"===t.id&&!e.shouldShowFontRecommendations||"templates"===t.id&&!e.shouldShowCCXTemplatesRecommendations}))},l.prototype._fontAvailableForSync=function(e){return e.sync&&0==e.sync.required_action.length},l.prototype._fontByWebFvd=function(e,t){return a.find(e,(function(e){return e.font.web.fvd===t}))},l.prototype._fontRequiresWebAction=function(e){return e.web&&e.web.required_action.length>0},l.prototype._fontIsWebPreviewOnly=function(e){return!!e.web&&-1!==e.web.required_action.indexOf("preview_only")},l.prototype._fontRequiresUpgradeForWeb=function(e){return!!e.web&&-1!==e.web.required_action.indexOf("upgrade")},l.prototype._keepSubfamilyDropdownOpen=function(){var e=this;e.isSubfamilyDropdownOpen=!0,e.timer&&e.$timeout.cancel(e.timer),e.timer=e.$timeout((function(){e.isSubfamilyDropdownOpen=!1}),3e3)},l.prototype._handleContext=function(){return this.RedirectContextService.handleContext()},l.prototype.showPaidFontsSelected=function(){return this.showPaidFonts},l.prototype.updateDesignerName=function(){this.designerInfo&&a.each(this.designerInfo,(function(e){var t=e.name;e.originalName||(e.originalName=t),t.length>=45&&(e.name=t.substring(0,22)+"..."+t.substring(t.length-10,t.length))}))},l.prototype._preloadData=function(){var e=this;return e.$q.all([e.DataService.get("families-show-i18n").then((function(t){e._i18n=t})),e.UserPrefsService.getUserPrefs().then((function(t){return e.browseMode=t.browseMode||"default",e.showPaidFonts=!!t.showPaidFonts,e.viewType=t.selectedViewType||"list",e.DataService.get("/neue/preloaded_family_data")})).then((function(t){e.family=t.family,e.specimenImagesData=t.family.specimen_images_data,e.availability=t.availability,e.designerInfo=t.designer_info,e.selectedVariationSlug=t.selectedVariationSlug,e.locale=t.locale,e.userPlan=t.userPlan,e.UserService.incrementSyncUsage(e.userPlan.usage.synced_desktop_fonts||0),e.UserService.setSyncLimit(e.userPlan.limits.synced_desktop_fonts||0),e.UserService.setPlan(e.userPlan.name),e.updateDesignerName(),e.shouldShowFontRecommendations=e._shouldShowFontRecommendations(e.family.fonts),e.getFamilyFontSimilarities(),e.getFamilyFontPairings(),e.getSelectedVariationSimilarities(),e.getSelectedVariationPairings(),e.family.fonts.length>0&&(e.syncableFonts=a.filter(e.family.fonts,(function(t){return(e.userPlan||{}).library?"sync"in t.font&&0===t.font.sync.required_action.length:"sync"in t.font&&(t.font.sync.library_availability.trial||t.font.sync.library_availability.full)})),e.syncableSubFamilies=a.groupBy(e.syncableFonts,(function(e){return e.family.web_name})),e.availabilitySummary=t.availabilitySummary),e.activatedFontCount=(e.family.card_state||{}).activated_font_count||0,e.languagesDictionary=t.languagesDictionary,e.filterLabelDictionary=t.filterLabelDictionary,e.textSampleData=t.textSampleData,e.kanaOnly=t.kana_only,e.navigationTabs=t.navigationTabs,e.currentTab=e.navigationTabs[0],e.isSubfamilyDropdownOpen=!1,e.variationMenuItems=a.map(e.family.fonts,(function(e){return{label:e.name,value:e}})),e.showUpgradeActionToggle=!o()&&e.FilterVariationsService.hasUpgradeFilterOption(e.family.fonts);var i={upgrade:e.showUpgradeActionToggle&&e.showPaidFonts};e.filterFontsByRequiredActions(i);var r=e.getVariationFromSlug(this.selectedVariationSlug)||e.filteredFonts[0];e.setSelectedVariation(r),e._setExampleText(),t.shouldShowExpiredFontsModal&&e.FirstMileService.showExpiredFontsDialog(),t.family.has_variable_font&&Promise.all([n.e(0),n.e(1),n.e(7),n.e(6),n.e(8)]).then(n.bind(null,865)).then((function(n){(0,n.loadVariableFontsData)({family:t.family,locale:e.locale,featureSettings:e.featureSettings}).then((function(t){e.variableFontsData=t,e.$scope.$apply()}))}))}))])},l.prototype.updateFonts=function(){this.FontLoaderService.updateFonts(this.exampleText.value)},l.prototype.getFontVariationSettingsCSS=function(){var e=this;if(this.variableFontsData){var t=this.variableFontsData.filter((function(t){return t.postscriptName===e.selectedVariation.postscript_name}))[0],n=t.instances.filter((function(e){return e.instanceName===t.defaultInstanceName}))[0];if(n)return Object.keys(n.coordinates).map((function(e){return'"'.concat(e,'" ').concat(n.coordinates[e])})).join(", ")}},l.prototype._selectTabFromAnchor=function(e){var t=this;for(var n in t.filteredNavigationTabs)if(t.filteredNavigationTabs[n].id===e){t.currentTab=t.filteredNavigationTabs[n];break}},l.prototype._setExampleText=function(){var e=this,t=a.first(a.uniq(a.pluck(e.family.fonts||[],"default_language")))||"en",n=e.textSampleData.textSamples[t];e.exampleText={value:e.kanaOnly?n.list_kana:n.list,size:36},e.featureSettings=n.feature_settings,e.unicodeRange=n.unicode_range,e.defaultExampleTextValue=e.exampleText.value,e.similarityCardText={value:"Champagne Sorbet",size:36}},l.prototype._scrollToAnchor=function(e,t){var n=this,i=-1*this._getNavBarHeight(),r=n.$document[0].getElementById(this._getSectionId(e));n.windowIsScrolling=!0,this.ScrollService.scrollTo(r,500,i).then((function(){n.windowIsScrolling=!1,t&&(location.href=t)}))},l.prototype._sync=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;e.forEach((function(e){e.isSyncing=!0})),n.SyncService.addSyncedVariations(a.pluck(e,"id")).then((function(i){var r;e.forEach((function(e){e.isSyncing=!1,"data"in i&&i.data.added_font_ids.indexOf(e.id)>-1?t?e.font.sync.install_state="cc":(e.font.sync.is_selected=!0,n._updateSelectionStatus([e.id],!0)):r=!0})),r?t?n.NotificationService.error(n.I18nService.getMessage(n._i18n["neue.browse.family_card"],"error_occurred_adding_some_fonts"),{actionLabel:n._i18n["neue.browse.family_card"].try_again,callbackAction:function(){n._sync(e,t)}}):n.NotificationService.error(n.I18nService.getMessage(n._i18n["neue.browse.family_card"],"error_occurred_activating_some_fonts")):(n.activatedFontCount+=i.data.added_font_ids.length,t?n._handleUseModelFontSyncSuccess(e):n._handleFontSyncSuccess(e))}),(function(){t?n.NotificationService.error(n.I18nService.getMessage(n._i18n["neue.browse.family_card"],"error_occurred_adding_some_fonts"),{actionLabel:n._i18n["neue.browse.family_card"].try_again,callbackAction:function(){n._sync(e,t)}}):n.NotificationService.error(n.I18nService.getMessage(n._i18n["neue.browse.family_card"],"error_occurred_activating_some_fonts"))}))},l.prototype._updateAnchor=function(){var e=this._getCurrentSection();if(0!==e.length&&this.currentTab.id!==e){var t="#"+e+"-section";"details"===e&&(t=t+"+"+this.selectedVariation.slug),this.$window.history.replaceState({navigationTabClicked:!1},null,t),this._selectTabFromAnchor(e)}},l.prototype._getCurrentSection=function(){var e="";for(var t in this.filteredNavigationTabs)this._isSectionInOrAboveViewport(this.filteredNavigationTabs[t].id)&&(e=this.filteredNavigationTabs[t].id);return e},l.prototype._isSectionInOrAboveViewport=function(e){if(!this.$document[0])return!1;var t=this.$document[0].getElementById(this._getSectionId(e)).getBoundingClientRect(),n=Math.min(this.$document[0].body.scrollTop,this.$document[0].documentElement.scrollTop);return t.top<=n+2*this._getNavBarHeight()},l.prototype._getNavBarHeight=function(){return this.$document[0].querySelector(".sticky-header").getBoundingClientRect().height},l.prototype._getSectionId=function(e){return e+c},l.prototype._handleUseModelFontSyncSuccess=function(e){if(e&&e.length){this.FirstMileService.onUseModelFontActivation(this._i18n,{queryParams:{tkFontId:e[0].font.sync.font_id}})}},l.prototype._handleFontSyncSuccess=function(e){var t=this;t.FirstMileService.shouldShowFontActivationDialog().then((function(n){if(n)return t.FirstMileService.showFontActivationDialog();e.length>1?t.NotificationService.success(t.I18nService.getMessage(t._i18n,"neue.families.multi_sync.loaded_dialog.heading_multiple",{fonts:e.length,family:t.family.name})):t.NotificationService.success(t.I18nService.getMessage(t._i18n,"neue.families.multi_sync.loaded_dialog.heading_single",{font:e[0].name}))}))},l.prototype.getFamilyFontSimilarities=function(){var e=this;e.shouldShowFontRecommendations&&e.RecommendationsService.familyFontSimilarities(e.family.slug,24,1).then((function(t){e.familyFontSimilarities=t.data}))},l.prototype.getFamilyFontPairings=function(){var e=this;e.shouldShowFontRecommendations&&e.RecommendationsService.familyFontPairings(e.family.slug,12,1).then((function(t){e.familyFontPairings=t.data}))},l.prototype.getFamilyCCXTemplates=function(){var e=this,t=this;t.shouldCheckCCXTemplatesRecommendations&&(t.shouldCheckCCXTemplatesRecommendations=!1,n.e(9).then(n.bind(null,86)).then((function(n){var i=n.fetchCCXFamilyTemplates,a=t.family.display_font.preferred_family_name,s=r().isLoggedIn;i(a,0,40,o(),s).then((function(n){if(n.length>0){var i=t.$document[0].querySelector("#fdp-ccx-templates");i&&t.$scope.$apply((function(){t.shouldShowCCXTemplatesRecommendations=!0,i.items=n})),e.filteredNavigationTabs=e._filterTabs()}})).catch((function(e){console.log("[Crossbar]: Failed to load ".concat(e))}))})))},l.prototype.handleSelectedVariationChange=function(){location.href="#details-section+"+this.selectedVariation.slug,this.getSelectedVariationSimilarities(),this.getSelectedVariationPairings()},l.prototype.getSelectedVariationSimilarities=function(){var e=this;e.shouldShowFontRecommendations&&e.selectedVariation&&e.selectedVariation.id&&e.RecommendationsService.similarFonts(e.selectedVariation.id,24,1).then((function(t){e.selectedVariationSimilarities=t.data}))},l.prototype.getSelectedVariationPairings=function(){var e=this;e.shouldShowFontRecommendations&&e.selectedVariation&&e.selectedVariation.id&&e.RecommendationsService.pairedFonts(e.selectedVariation.id,12,1).then((function(t){e.selectedVariationPairings=t.data}))},l.prototype.shouldShowFontSimilarities=function(){return void 0!==this.familyFontSimilarities&&this.familyFontSimilarities.length>0},l.prototype.shouldShowFontPairings=function(){return void 0!==this.familyFontPairings&&this.familyFontPairings.length>0},l.prototype.shouldShowSelectedFontSimilarities=function(){return void 0!==this.selectedVariationSimilarities&&this.selectedVariationSimilarities.length>0},l.prototype.shouldShowSelectedFontPairings=function(){return void 0!==this.selectedVariationPairings&&this.selectedVariationPairings.length>0},l.prototype._shouldShowFontRecommendations=function(e){var t=!1,n=!0;return e.forEach((function(e){e.has_similar_fonts_or_pairings&&(t=!0),"en"!==e.default_language&&"ja"!==e.default_language&&(n=!1)})),t&&n},l.prototype._updateSelectionStatus=function(e,t){var n=this;e.forEach((function(e){n.family&&n.family.fonts&&n.family.fonts.forEach((function(n){n.id===e&&(n.font.sync.is_selected=t)})),n.selectedVariationPairings&&n.selectedVariationPairings.forEach((function(n){n.body_font.id===e?n.body_font.font.sync.is_selected=t:n.header_font.id===e&&(n.header_font.font.sync.is_selected=t)})),n.familyFontPairings&&n.familyFontPairings.forEach((function(n){n.body_font.id===e?n.body_font.font.sync.is_selected=t:n.header_font.id===e&&(n.header_font.font.sync.is_selected=t)}))}))},l.prototype._initCrossbar=function(){var e=this;e.DataService.get("enableProjectCrossbar").then((function(t){t&&(e.shouldCheckCCXTemplatesRecommendations=!0,e.shouldShowCCXTemplatesRecommendations=!1,e.getFamilyCCXTemplates())}))},e.exports=l},1622:function(e,t,n){r.$inject=["$document","$scope","$timeout","$window","DataService","FreezeframeService"];var i=n(6);function r(e,t,n,i,r,o){this.$document=e,this.$timeout=n,this.$window=i,this.DataService=r,this.FreezeframeService=o,this.featuredFoundries={},this.foundries=[],this.isLoaded=!1,this.isBiographyCollapsed=!0,this.isBiographyCollapsible=!1,this.selectedFoundry=null,this.selectedSortOption=null,this.sortOptions=[],this.specimenImages={},this._preloadData();var a=this;i.addEventListener("DOMContentLoaded",(function(){a.isLoaded=!0,t.$apply(),a.updateIsBiographyCollapsible()})),i.addEventListener("resize",(function(){a.updateIsBiographyCollapsible()}))}r.prototype.getCarouselListClass=function(){return this.getFeaturedFamilyImages().length>2?"adobe-fonts-family__carousel-list":""},r.prototype.getFeaturedFamilies=function(){return(this.featuredFoundries[this.selectedFoundry]||{}).featuredFamilies||[]},r.prototype.getFeaturedFamilyImages=function(){if(this.specimenImages[this.selectedFoundry])return this.specimenImages[this.selectedFoundry];var e=this.getFeaturedFamilies();return this.specimenImages[this.selectedFoundry]=e.map((function(e){return e.specimenImageData})),this.specimenImages[this.selectedFoundry]},r.prototype.getSmallScreenClass=function(){return this.$window.innerWidth<500?"spectrum-grid-col-xs-12":this.$window.innerWidth<768?"spectrum-grid-col-xs-6":this.$window.innerWidth<900?"spectrum-grid-col-sm-4":this.$window.innerWidth<1280?"spectrum-grid-col-sm-3":""},r.prototype.selectFoundry=function(e){var t=this;t.selectedFoundry=e,t.isBiographyCollapsible=!0,t.isBiographyCollapsed=!0,t.$timeout((function(){t.updateIsBiographyCollapsible()}),1),t.FreezeframeService.deleteAndUpdateFeaturedFoundries()},r.prototype.sortFoundries=function(){var e=this;e.foundries=i.sortBy(e.foundries,(function(t){return t[e.selectedSortOption]})),"desc"===i.find(e.sortOptions,(function(t){return t.value===e.selectedSortOption})).order&&e.foundries.reverse()},r.prototype.updateIsBiographyCollapsible=function(){var e=this.$document[0].getElementById("featured-foundries--left-column"),t=this.$document[0].getElementById("featured-foundries--right-column");this.isBiographyCollapsible=e&&t&&e.clientHeight<t.clientHeight,this.isBiographyCollapsible=this.isBiographyCollapsible&&this.$window.innerWidth>=768},r.prototype._preloadData=function(){var e=this;e.DataService.get("/spectrum/foundries").then((function(t){e.featuredFoundries=t.featuredFoundries||{},e.selectedFoundry=Object.keys(e.featuredFoundries)[0],e.foundries=t.foundries,e.sortOptions=t.sortOptions,e.sortOptions&&(e.selectedSortOption=e.sortOptions[0].value)}))},e.exports=r},1623:function(e,t,n){a.$inject=["$document","$q","$window","DataService","FilterDataService","FilteredFamilyListStateService","FoundriesService","FreezeframeService","NewrelicClickTrackerService","UserPrefsService","YouTubeService"];var i=n(19),r="video-playing",o={adobe:{en_US:"YGUe-EQWxF4",de_DE:"H1HqLVNagO8",fr_FR:"JpacO3Ol1nE",ja_JP:"tv_IucBF_5E"},morisawa:{de_DE:"o2B449k5kC4",en_US:"o2B449k5kC4",fr_FR:"o2B449k5kC4",ja_JP:"mZsFgZH8yp4"}};function a(e,t,n,r,o,a,s,c,l,u,d){var f=this;f.$q=t,f.$window=n,f.DataService=r,f.FilterDataService=o,f.FilteredFamilyListStateService=a,f.FreezeframeService=c,f.FoundriesService=s,f.UserPrefsService=u,f.YouTubeService=d,f._bodyElement=i.element(e.find("body")),l.init({page:"foundry detail"}),f._preloadData().then((function(){f._initVideo()}))}a.prototype.handleUserPrefsChange=function(){this.UserPrefsService.updatePrefs(this.filteredFamilyList)},a.prototype.updateFilteredFamilyList=function(){var e=this;e.filtersModel.setCurrentPage(e.filteredFamilyList.currentPage),e.FoundriesService.getFamilies(e.foundrySlug,e.filtersModel.toSearchParams()).then((function(t){e.filteredFamilyList.families=t.data.families_data.families,e.filteredFamilyList.totalFamilies=t.data.families_data.totalFamilies,e.filteredFamilyList.totalPages=t.data.families_data.totalPages,e.textSampleData.textSamplePrimers=t.data.text_sample_primers,e.FreezeframeService.update()})),e.FilteredFamilyListStateService.updateState(e.filteredFamilyList)},a.prototype._preloadData=function(){var e=this;return e.$q.all([e.UserPrefsService.getUserPrefs().then((function(t){e.DataService.get("/neue/preloaded_foundry_data").then((function(n){e.filteredFamilyList=e.FilteredFamilyListStateService.getState(null,t),e.filteredFamilyList.families=n.familiesData.families,e.filteredFamilyList.totalFamilies=n.familiesData.totalFamilies,e.filteredFamilyList.totalPages=n.familiesData.totalPages,e.foundrySlug=n.foundrySlug,e.locale=n.locale,e.textSampleData=n.textSampleData,e.filtersModel=e.FilterDataService.getFilterModel()}))}))])},a.prototype.handleVideoCloseButtonClick=function(){this.player.pauseVideo(),this._bodyElement.removeClass(r)},a.prototype._handlePlayerStateChange=function(e){0===e.data&&this._bodyElement.removeClass(r)},a.prototype._initVideo=function(){var e=this;if(o[e.foundrySlug]){var t=o[e.foundrySlug][e.locale]||o[e.foundrySlug].en_US;e.YouTubeService.init().then((function(){e.YouTubeService.load("player",t,{height:"100%",width:"100%",onPlayerStateChangeCallback:function(t){e._handlePlayerStateChange(t)}}).then((function(t){e.player=t}))}))}},e.exports=a},1624:function(e,t,n){l.$inject=["$document","$scope","$window","DataService","DialogService","FilterDataService","FilteredFamilyListStateService","FirstMileService","FontCountService","I18nService","MyFontsService","NewrelicService","NotificationService","TkWebProjectEditorService","UrlService","UserPrefsService"];var i=n(19),r=n(6),o="-section",a="all",s="under_30_days",c="updated_at_desc";function l(e,t,n,o,a,s,c,l,u,d,f,p,h,m,g,v){var y=this;y.DataService=o,y.DialogService=a,y.FilterDataService=s,y.FilteredFamilyListStateService=c,y.FirstMileService=l,y.FontCountService=u,y.I18nService=d,y.MyFontsService=f,y.NewrelicService=p,y.NotificationService=h,y.UrlService=g,y.UserPrefsService=v,y.$document=e,y.$scope=t,y.$window=n,y.TkWebProjectEditorService=m,y._loadSortModes(),y._preloadData(),y._initWindowSizeWatcher(),y.TkWebProjectEditorService.populateCompleteWebProjectsData(1),y.handleFiltersChange=r.debounce(i.bind(y,y.updateFilteredFamilyList),100)}l.prototype.handleBrowseModeButton=function(e){this.filtersModel.setBrowseMode(e.id),this.UserPrefsService.updatePrefs({browseMode:e.id}),this.filteredFamilyList.exampleText=null,this.handleFiltersChange()},l.prototype.handleFilteredFamilyListUserPrefsChange=function(){this.UserPrefsService.updatePrefs(this.filteredFamilyList)},l.prototype.isActiveFontsView=function(){return this.currentTab&&"active_fonts"===this.currentTab.id},l.prototype.isBrowseModeSelected=function(e){return this.filtersModel&&this.filtersModel.getBrowseMode()==e.id},l.prototype.isEmptyState=function(){return this.isWebProjectsView()?!this.kitsData||0===this.kitsData.length:this.isEmpty||0===this.filteredFamilyList.families.length},l.prototype.isFavoritesView=function(){return this.currentTab&&"favorites"===this.currentTab.id},l.prototype.isFilterListHidden=function(){return!(!this._isFilterListHiddenByUser&&!this._isFilterListHiddenForSmallScreen)},l.prototype.isPreviouslyActiveView=function(){return this.currentTab&&"previously_active"===this.currentTab.id},l.prototype.isPurchasedTab=function(){return this.currentTab&&"purchased"===this.currentTab.id},l.prototype.isWebProjectsView=function(){return this.currentTab&&"web_projects"===this.currentTab.id},l.prototype.manageFontsDeactivationButtonText=function(){return this.selectedManageFontsFilterValue===a?this._i18n["my_fonts.active_fonts.manage_fonts.deactivate_all_button"]:this._i18n["my_fonts.active_fonts.manage_fonts.deactivate_selected_button"]},l.prototype.onTabChanged=function(){this.filteredFamilyList.currentPage=1,this.selectedSort=c,this.filtersModel.setSortOrder(c),this._updateFamilySortModes(),this.isFirstPageLoad||(this.isTabChanging=!0,this.isWebProjectsView()?this.UrlService.updatePath(this.$window.location.pathname+"#web_projects"+o):this.updateFilteredFamilyList()),this.isFirstPageLoad=!1},l.prototype.shouldShowTooManyFontsNotice=function(){return this.isActiveFontsView()&&this.filteredFamilyList.families.length>0&&this.FontCountService.getAllActivatedFontsCount()>100&&this.FontCountService.getAllActivatedFontsCount()<=500},l.prototype.shouldShowTooManyFontsWarning=function(){return this.isActiveFontsView()&&this.filteredFamilyList.families.length>0&&this.FontCountService.getAllActivatedFontsCount()>500},l.prototype.showManageFontsConfirmationDialog=function(){var e=this;e.DialogService.show("/angular_templates/dialogs/manage_fonts_confirmation.html").then((function(t){t.handleCancelButtonClick=function(){t.close()},t.handleConfirmButtonClick=function(){var n=r.omit(r.extend(e.filtersModel.toSearchParams(),e._myFontsParams(),{manage_fonts_filter:e.selectedManageFontsFilterValue}),r.isNull);e.MyFontsService.deactivateFonts(n).then((function(){t.close(),e.NewrelicService.addPageAction("typekit.click.bulk_deactivate_button",{activatedFontsCount:e.FontCountService.getAllActivatedFontsCount(),filter:e.selectedManageFontsFilterValue,fontsDeactivated:e._getActivatedFontsCountForSelectedFilter()}),e.NotificationService.success(e._getManageFontsDeactivationSuccessMessage()),e._clearFilters(),e.updateFilteredFamilyList()}),(function(){t.close(),e.NotificationService.error(e._i18n["my_fonts.active_fonts.manage_fonts.deactivation_error_message"])}))},t.heading=e._manageFontsConfirmationDialogHeading()}))},l.prototype.toggleFilters=function(){this._isFilterListHiddenByUser=!this.isFilterListHidden(),this._isFilterListHiddenForSmallScreen=!1},l.prototype.handleSortModeChange=function(){this.filtersModel.setSortOrder(this.selectedSort),this.filteredFamilyList.currentPage=1,this.handleFiltersChange()},l.prototype.handleManageFontsFilterChange=function(){this.filteredFamilyList.currentPage=1,this.handleFiltersChange()},l.prototype.getTotalFontsText=function(){var e=this.FontCountService.getAllFamiliesCount();return this.isActiveFontsView()?this._getTotalActiveFontsText(this.FontCountService.getAllActivatedFontsCount(),e):this._getTotalPreviousActiveFontsText(this.FontCountService.getAllPreviouslyActivatedFontsCount(),e)},l.prototype.updateFilteredFamilyList=function(){var e=this,t=r.omit(r.extend(e.filtersModel.toSearchParams(),e._myFontsParams()),r.isNull);e.filtersModel.setCurrentPage(e.filteredFamilyList.currentPage),e.isLoading=!0,e.MyFontsService.get(t).then((function(n){if(n.data.collection===e.currentTab.id){if(e.filteredFamilyList.families=n.data.familiesData.families,1===t.page)e.fontFamilyAccordion.families=n.data.familiesData.families;else{var i=r.reject(n.data.familiesData.families,(function(t){return r.any(e.fontFamilyAccordion.families,(function(e){return t.slug===e.slug}))}));e.fontFamilyAccordion.families=e.fontFamilyAccordion.families.concat(i)}e.filteredFamilyList.totalFamilies=n.data.familiesData.totalFamilies,e.filteredFamilyList.totalPages=n.data.familiesData.totalPages,e.purchasedFonts=n.data.familiesData.purchasedFonts,e.textSampleData=n.data.textSampleData,e.FilteredFamilyListStateService.updateState(e.filteredFamilyList),e.manageFontsFiltersData=n.data.manageFontsFilters,e.manageFontsFilters=e._getManageFontsFilters(e.manageFontsFiltersData),e.FontCountService.setAllFamiliesCount(n.data.familiesData.totalFamilies),e.FontCountService.setAllPreviouslyActivatedFontsCount(n.data.allPreviouslyActivatedFontsCount),e.FontCountService.setAllActivatedFontsCount(n.data.allActivatedFontsCount),e.FontCountService.setFilteredActivatedFontsCount(e._getFilterWithValue(a).activatedFontsCount),e.FontCountService.setThirtyDayActivatedFontsCount(e._getFilterWithValue(s).activatedFontsCount),e.isEmpty=n.data.isEmpty}e.filteredFamilyList.browseMode=e.filtersModel.getBrowseMode(),e.filteredFamilyList.currentPage=e.filtersModel.getCurrentPage(),e.isLoading=!1,e.isTabChanging=!1,e.FilteredFamilyListStateService.updateUrl(t),n.data.shouldShowExpiredFontsModal&&e.FirstMileService.showExpiredFontsDialog()}))},l.prototype.loadMoreFamilies=function(){this.filteredFamilyList.currentPage>=this.filteredFamilyList.totalPages||this.isLoading||(this.filteredFamilyList.currentPage+=1,this.updateFilteredFamilyList())},l.prototype.updateFilterListVisibilityForWindowSize=function(){var e=this;e._getWindowWidth()!=e._previousWindowWidth&&(e._previousWindowWidth=e._getWindowWidth(),e.$scope.$apply((function(){e._isFilterListHiddenForSmallScreen=e._getWindowWidth()<=880})))},l.prototype._getTotalActiveFontsText=function(e,t){return e>1&&t>1?this.I18nService.getMessage(this._i18n,"my_fonts.active_fonts.font_count.plural_fonts_plural_families",{num_fonts:e,num_families:t}):e>1?this.I18nService.getMessage(this._i18n,"my_fonts.active_fonts.font_count.plural_fonts_singular_family",{num_fonts:e}):this._i18n["my_fonts.active_fonts.font_count.singular_font_singular_family"]},l.prototype._getTotalPreviousActiveFontsText=function(e,t){return e>1&&t>1?this.I18nService.getMessage(this._i18n,"my_fonts.previously_active_fonts.font_count.plural_fonts_plural_families",{num_fonts:e,num_families:t}):e>1?this.I18nService.getMessage(this._i18n,"my_fonts.previously_active_fonts.font_count.plural_fonts_singular_family",{num_fonts:e}):this._i18n["my_fonts.previously_active_fonts.font_count.singular_font_singular_family"]},l.prototype._changeFamilySortLabel=function(e,t){r.find(this.familySortModes,(function(t){return t.value===e})).label=this._i18n[t]},l.prototype._clearFilters=function(){this.filtersModel.clearAll(),this.selectedManageFontsFilterValue=a},l.prototype._getActivatedFontsCount=function(e){return e.value===a?this.FontCountService.getFilteredActivatedFontsCount():e.value===s?this.FontCountService.getThirtyDayActivatedFontsCount():e.activatedFontsCount||0===e.activatedFontsCount?e.activatedFontsCount:void 0},l.prototype._getActivatedFontsCountForSelectedFilter=function(){return this._getActivatedFontsCount(this._getFilterWithValue(this.selectedManageFontsFilterValue))},l.prototype._getFilterWithValue=function(e){return r.find(this.manageFontsFiltersData,(function(t){return t.value===e}))},l.prototype._getManageFontsDeactivationSuccessMessage=function(){var e=this._getActivatedFontsCountForSelectedFilter();return e>1?this.I18nService.getMessage(this._i18n,"my_fonts.active_fonts.manage_fonts.deactivation_success_message_plural",{num_fonts:e}):this._i18n["my_fonts.active_fonts.manage_fonts.deactivation_success_message_singular"]},l.prototype._getManageFontsFilters=function(e){var t=this;return e=r.filter(e,(function(e){return t._getActivatedFontsCount(e)>0})),r.map(e,(function(e){return{activatedFontsCount:e.activatedFontsCount,i18nName:e.i18nName,label:t._i18n["my_fonts.active_fonts.manage_fonts.filters."+e.i18nName].replace("%{num_fonts}",t._getActivatedFontsCount(e)),value:e.value}}))},l.prototype._getWindowWidth=function(){return this.$document[0].documentElement.clientWidth},l.prototype._initActivatedFontsCountWatcher=function(){var e=this;e.$scope.$watch((function(){return e.FontCountService.getFilteredActivatedFontsCount()}),(function(){e.manageFontsFilters=e._getManageFontsFilters(e.manageFontsFiltersData)}))},l.prototype._initWindowSizeWatcher=function(){var e=this;e.$window.addEventListener("resize",(function(){e.isFilterListHiddenByUser||e.updateFilterListVisibilityForWindowSize()}))},l.prototype._loadSortModes=function(){var e=this;e.DataService.get("web-project-sort-modes").then((function(t){e.sortModes=t}))},l.prototype._manageFontsConfirmationDialogHeading=function(){var e=this._getActivatedFontsCountForSelectedFilter();return e>1?this.I18nService.getMessage(this._i18n,"my_fonts.active_fonts.manage_fonts.confirmation_dialog.heading_plural",{num_fonts:e}):this._i18n["my_fonts.active_fonts.manage_fonts.confirmation_dialog.heading_singular"]},l.prototype._myFontsParams=function(){return{collection:this.currentTab.id,manage_fonts_filter:this.selectedManageFontsFilterValue,page:this.filteredFamilyList.currentPage}},l.prototype._setLanguageFilters=function(e){var t=this;t.filteredFamilyList.selectedLanguages.length>0?t.filteredFamilyList.selectedLanguages.forEach((function(e){t.filtersModel.selectLanguageMode(e)})):"default"===e?t.filtersModel.setBrowseMode(e):"japanese"===e?t.filtersModel.selectLanguageMode("ja"):t.filtersModel.selectLanguageMode(e)},l.prototype._preloadData=function(){var e=this;e.UserPrefsService.getUserPrefs().then((function(t){e.DataService.get("/spectrum/preloaded_family_data").then((function(n){e.filteredFamilyList=e.FilteredFamilyListStateService.getState(n.user,t),e.filteredFamilyList.families=n.familiesData.families,e.fontFamilyAccordion={families:n.familiesData.families},e.filteredFamilyList.totalFamilies=n.familiesData.totalFamilies,e.filteredFamilyList.totalPages=n.familiesData.totalPages,e.filtersModel=e.FilterDataService.getFilterModel({allFilters:n.familyFilters,collection:e.filteredFamilyList.collection,filterData:n.familyFilterData,hideLibraryOption:!0,hideMarketplaceOption:!0,languages:n.languageFilters,sortOrder:c,locale:n.locale}),e.allBrowseModes=n.browseModes,e._setLanguageFilters(t.browseMode||e.allBrowseModes[0].id),e.filtersModel.setSelectedFilters(e.filteredFamilyList.selectedFilters),e.filtersModel.setShowPaidFonts(e.filteredFamilyList.showPaidFonts||t.showPaidFonts,!1),e.manageFontsFiltersData=n.manageFontsFilters,e.FontCountService.setAllFamiliesCount(n.familiesData.totalFamilies),e.FontCountService.setAllPreviouslyActivatedFontsCount(n.allPreviouslyActivatedFontsCount),e.FontCountService.setAllActivatedFontsCount(n.allActivatedFontsCount),e.FontCountService.setFilteredActivatedFontsCount(e._getFilterWithValue(a).activatedFontsCount),e.FontCountService.setThirtyDayActivatedFontsCount(e._getFilterWithValue(s).activatedFontsCount),e.isEmpty=n.isEmpty,e.purchasedFonts=n.familiesData.purchasedFonts,e.textSampleData=n.textSampleData,e.navigationTabs=n.navigationTabs,e._setCurrentTab(),e._setExampleText(),e.DataService.get("/my_fonts/i18n").then((function(t){e._i18n=t,e.manageFontsFilters=e._getManageFontsFilters(e.manageFontsFiltersData),e.selectedManageFontsFilterValue=n.manageFontsFilters[0].value,e._initActivatedFontsCountWatcher()})),e.DataService.get("family-sort-modes").then((function(t){e.familySortModes=t})),e.DataService.get("family-accordion-sort-modes").then((function(t){e.familyAccordionSortModes=t})),e.selectedSort=e.filtersModel.getSortOrder(),n.shouldShowExpiredFontsModal&&e.FirstMileService.showExpiredFontsDialog()}))})),e.DataService.get("/spectrum/kits_data").then((function(t){var n;if(t&&t.kitsData)for(e.TkWebProjectEditorService.initTkWebProjectListModel(t),e.kitsData=t.kitsData,n=0;n<e.kitsData.length;n++){var i=e.kitsData[n];e.TkWebProjectEditorService.initTkWebProjectCardModel(i.kit.kit.token,i),e.TkWebProjectEditorService.initEmbedCodeModel(i.kit.kit.token,i.is_dynamic,i.project_embed_details);var r=0;for(r=0;r<i.tkff_list.length;r++){var o=i.tkff_list[r],a=i.kit.kit.token+o.tkff.typekit_font_family.id;e.TkWebProjectEditorService.initTkWebProjectDisplayFamilyModel(a,o.display_variation,o.text_samples,o.tktf_slug)}}}))},l.prototype._setCurrentTab=function(){var e=this,t=e.$window.location.hash,n=o.length+1,i=t.substr(1,t.length-n);0!==i.length&&e.navigationTabs.forEach((function(t){t.id===i&&(e.currentTab=t)})),void 0===e.currentTab&&(e.isFirstPageLoad=!0,e.currentTab=e.navigationTabs[0])},l.prototype._setExampleText=function(){var e=this,t=r.first(r.uniq(r.pluck(e.purchasedFonts||[],"default_language")))||"en",n=e.textSampleData.textSamples[t];e.exampleText={value:e.kanaOnly?n.list_kana:n.list,size:36},e.featureSettings=n.feature_settings,e.unicodeRange=n.unicode_range,e.defaultExampleTextValue=e.exampleText.value},l.prototype._updateFamilySortModes=function(){this.isActiveFontsView()?(this._changeFamilySortLabel("updated_at_asc","my_fonts.sort.date_activated_oldest_to_newest"),this._changeFamilySortLabel("updated_at_desc","my_fonts.sort.date_activated_newest_to_oldest")):this.isPreviouslyActiveView()?(this._changeFamilySortLabel("updated_at_asc","my_fonts.sort.date_deactivated_oldest_to_newest"),this._changeFamilySortLabel("updated_at_desc","my_fonts.sort.date_deactivated_newest_to_oldest")):this.isFavoritesView()&&(this._changeFamilySortLabel("updated_at_asc","my_fonts.sort.date_favorited_oldest_to_newest"),this._changeFamilySortLabel("updated_at_desc","my_fonts.sort.date_favorited_newest_to_oldest"))},e.exports=l},1625:function(e,t,n){l.$inject=["$q","$scope","$window","AuthenticationService","DataService","FirstMileService","FontpackService","I18nService","NewrelicService","NotificationService","RecommendationsService","SyncService","TagsService","UrlService"];var i=n(54).isFlagEnabled,r=n(416),o=n(6),a=["B82271","D5661D","BD8B02","9D2220","227466","249EAE","2464AE","227442","60358B","6B2A52","9B4E82","331E8B"],s=["recommendations-page--empty-card-medium","recommendations-page--empty-card-large","recommendations-page--empty-card-medium","recommendations-page--empty-card-medium","recommendations-page--empty-card-medium","recommendations-page--empty-card-small"],c=["font_pairs","tags","fontpacks"];function l(e,t,n,i,r,o,a,s,c,l,u,d,f,p){this.$q=e,this.AuthenticationService=i,this.DataService=r,this.FirstMileService=o,this.FontpackService=a,this.I18nService=s,this.NewrelicService=c,this.NotificationService=l,this.RecommendationsService=u,this.SyncService=d,this.TagsService=f,this.UrlService=p,this.$window=n,this._preloadData();var h=this;n.addEventListener("af.activation",this.handleActivationEvent.bind(this)),n.addEventListener("resize",(function(){h.updateColumns(),t.$apply()})),n.addEventListener("beforeunload",(function(){h.NewrelicService.addPageAction("typekit.recommendations.numLoaded",{recommendationCount:(h.recommendations||[]).length})}))}l.prototype.getDisplayFont=function(e){var t=e.font||e.display_font,n=this.textSampleData.textSamples[t.default_language].feature_settings,i=this.textSampleData.textSamples[t.default_language].kana_only,r=this.textSampleData.textSamples[t.default_language].unicode_range;return{cssName:t.family.web_id+"-"+t.font.web.fvd,fvd:t.font.web.fvd,isDynamic:!0,kanaOnly:i,opaqueId:t.family.web_id,unicodeRange:r,featureSettings:n}},l.prototype.getExampleText=function(e){return this.exampleText[e.slug]||("en"===e.display_font.default_language?this.exampleText[e.slug]=o.sample(o.pick(this.textSampleData.textSampleOptions,"fez","roger","fox")):"ja"===e.display_font.default_language?this.exampleText[e.slug]=o.sample(o.pick(this.textSampleData.textSampleOptions,"typeface","letters","train","bamboo","typography")):this.exampleText[e.slug]=this.textSampleData.textSamples[e.display_font.default_language].list),this.exampleText[e.slug]},l.prototype.getExampleTextStyle=function(e){if(this.styles[e.slug])return this.styles[e.slug];var t=o.sample(a);return this.styles[e.slug]={"background-color":"#"+t},this.styles[e.slug]},l.prototype.getFamilyFromActivationEvent=function(e){var t=e.target.getAttribute("data-family-slug");return o.find(this.recommendations,(function(e){return e.slug===t}))},l.prototype.getIdentifier=function(e){return e.slug||e.key||e.id.toString()},l.prototype.getInitialRecommendationType=function(){var e;this.$window.location.href.indexOf("/recommendations/")>=0&&(e=(e=this.$window.location.href.split("/recommendations/")[1]).split("/")[0]);var t=o.map(this.recommendationTypes,(function(e){return e.key}));return(!e||t.indexOf(e)<0)&&(e="all"),o.find(this.recommendationTypes,(function(t){return t.key===e}))},l.prototype.getRecommendationTypeDescription=function(){return this.selectedRecommendationType?this.I18nService.getMessage(this.i18n,"recommendations.type_descriptions."+this.selectedRecommendationType.key):""},l.prototype.getSpecimenCardSubtitle=function(e){return"families"===e.type&&e.foundry&&e.foundry.name?this.I18nService.getMessage(this.i18n,"recommendations.family_card_foundry_subheading",{foundry:e.foundry.name}):""},l.prototype.getTagBackgroundClass=function(e){return this.TagsService.TAG_BACKGROUND_CLASS_MAP[e]},l.prototype.getTextDirectionClass=function(e){return e.display_font.rtl?"sample-right":""},l.prototype.handleActivationEvent=function(e){var t=this,n=e.target.getAttribute("data-fontpack-slug");if(n){var r=t.FontpackService.findFontpackBySlug(n),o="recommendations."+t.selectedRecommendationType.key;if(t.FontpackService.isFontpackSynced(n))(i("EnableUseModelV2")?t.FontpackService.useModelUnsyncFontpack(r,o,t.i18n):t.FontpackService.unsyncFontpack(r,o,t.i18n)).then((function(){t.NewrelicService.addPageAction("typekit.recommendations.deactivateFontpack",{recommendationIndex:t._getRecommendationIndexBySlug(n,"fontpacks")})}));else t.FontpackService.syncFontpack(r,o,t.i18n,i("EnableUseModelV2")).then((function(){t.NewrelicService.addPageAction("typekit.recommendations.activateFontpack",{recommendationIndex:t._getRecommendationIndexBySlug(n,"fontpacks")})}))}t.handleFamilyActivationSwitchChange(t.getFamilyFromActivationEvent(e))},l.prototype.handleFamilyActivationSwitchChange=function(e){var t=this;e&&t.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_family",{slug:e.slug}).then((function(){t.isActivated(e)?i("EnableUseModelV2")?t.useModelUnsyncFamily(e):t._deactivateFamily(e):t._activateFamily(e)}))},l.prototype.handleRecommendationClick=function(e){this.NewrelicService.addPageAction("typekit.recommendations.click",{recommendationIndex:this.recommendations.indexOf(e),recommendationType:e.type})},l.prototype.isActivated=function(e){return"fontpacks"===e.type?this.FontpackService.isFontpackSynced(e.slug):o.all(e.fonts,(function(e){return e.font.sync&&(e.font.sync.is_selected||o.contains(e.font.sync.install_state.split(","),"cc"))}))},l.prototype.loadMoreRecommendations=function(e){this.currentPage&&this.selectedRecommendationType&&(e&&this.NewrelicService.addPageAction("typekit.recommendations.loadMoreClick"),this.selectRecommendationType(this.selectedRecommendationType,this.currentPage+1,e))},l.prototype.selectRecommendationType=function(e,t,n){var i=this;if(t=t||1,i.recommendationTypeChanged=!1,i.isInfiniteScrollEnabled||n)if(i.currentPage>0&&i.currentPage%4===0&&!n)i.isInfiniteScrollEnabled=!1;else if(!i.isLoading&&((i.selectedRecommendationType||{}).key!==(e||{}).key&&(i.recommendationTypeChanged=!0),!i.loadedAllRecommendations||i.recommendationTypeChanged)){i.selectedRecommendationType=e;var r=i.$window.location.pathname.split("/").slice(0,2).join("/");i.UrlService.updatePath(r+("all"===e.key?"":"/"+e.key)),i.isLoading=!0,i.RecommendationsService.get(i.selectedRecommendationType.key,t,i.familiesPerPage,i.isPersonalized).then((function(n){i.isInfiniteScrollEnabled=!0,i.recommendationTypeChanged&&(i.recommendations=[],i.recommendationsByColumn={},i.FontpackService.clearFontpacks(),i.recommendationTypeChanged=!1,i.loadedAllRecommendations=!1,i.NewrelicService.addPageAction("typekit.recommendations.typeSelected",{recommendationType:e.key}));var r=Math.max.apply(null,o.map(c,(function(e){return n.data[e].length})));0===r&&0===n.data.families.length&&(i.loadedAllRecommendations=!0);for(var a,s=0,l=0,u=0;u<r;u++){a=c.slice(l,c.length).concat(c.slice(0,l));for(var d=0;d<a.length;d++)n.data[a[d]][u]&&(n.data.families[s]&&(i.recommendations.push(o.assign(n.data.families[s],{type:"families"})),s++),i.recommendations.push(o.assign(n.data[a[d]][u],{type:a[d]})));l+=1,l%=c.length}var f=o.map(n.data.families.slice(s,n.data.families.length),(function(e){return o.assign(e,{type:"families"})}));i.recommendations=i.recommendations.concat(f),i.recommendations=o.uniq(i.recommendations,i.getIdentifier),o.each(i.columns,(function(e){i.recommendationsByColumn[e]=i._dataForColumn(i.recommendations,e)})),i.FontpackService.addFontpacks(n.data.fontpacks),i.textSampleData=n.data.textSampleData,i.currentPage=t,i.isLoading=!1}))}},l.prototype.updateColumns=function(){var e,t=this,n=this.columns?this.columns.length:null;e=t.$window.innerWidth>=1280?3:t.$window.innerWidth>=768?2:1,t.columns=o.range(e),e!==n&&(t.emptyStateClassesByColumn={},t.recommendationsByColumn={},o.each(t.columns,(function(e){t.emptyStateClassesByColumn[e]=t._dataForColumn(s,e),t.recommendationsByColumn[e]=t._dataForColumn(t.recommendations,e)})))},l.prototype._activateFamily=function(e){var t=this;t.SyncService.addSyncedVariations(o.pluck(e.fonts,"id")).then((function(){e.fonts.forEach((function(e){e.font.sync&&(i("EnableUseModelV2")?e.font.sync.install_state="cc":e.font.sync.is_selected=!0)})),t.NewrelicService.addPageAction("typekit.recommendations.activateFamily",{recommendationIndex:t._getRecommendationIndexBySlug(e.slug,"families")}),i("EnableUseModelV2")?t.FirstMileService.onUseModelFontActivationSuccess(t.i18n,{queryParams:{familyName:e.name}}):t.NotificationService.success(t.I18nService.getMessage(t.i18n,"recommendations.activation_success",{family:e.name}))}),(function(){i("EnableUseModelV2")?t.NotificationService.error(t.I18nService.getMessage(t.i18n["neue.browse.family_card"],"error_occurred_adding_some_fonts"),{actionLabel:t.i18n["neue.browse.family_card"].try_again,callbackAction:function(){t._activateFamily(e)}}):t.NotificationService.error(t.I18nService.getMessage(t.i18n,"recommendations.activation_error"))}))},l.prototype._dataForColumn=function(e,t){var n=this.columns.length;return o.filter(e,(function(e,i){return i%n===t}))},l.prototype.useModelUnsyncFamily=function(e){var t=this;t.FirstMileService.shouldShowRemoveFamilyConfirmationDialog().then((function(n){if(n){var i=t.i18n["neue.browse.family_card"].remove_family_confirmation_header,r=t.i18n["neue.browse.family_card"].remove_family_confirmation_description;return t.FirstMileService.showRemoveFamilyConfirmationDialog(i,r,(function(){t._deactivateFamily(e)}))}t._deactivateFamily(e)}))},l.prototype._deactivateFamily=function(e){var t=this;t.SyncService.removeSyncedVariations(o.pluck(e.fonts,"id")).then((function(){e.fonts.forEach((function(e){e.font.sync&&(e.font.sync.is_selected=!1)})),t.NewrelicService.addPageAction("typekit.recommendations.deactivateFamily",{recommendationIndex:t._getRecommendationIndexBySlug(e.slug,"families")}),i("EnableUseModelV2")?t.NotificationService.notice(t.i18n["neue.browse.family_card"].fonts_removed_success_message):t.NotificationService.success(t.I18nService.getMessage(t.i18n,"recommendations.deactivation_success",{family:e.name}))}),(function(){i("EnableUseModelV2")?t.NotificationService.error(t.i18n["neue.browse.family_card"].error_occurred_removing_fonts,{actionLabel:t._i18n["neue.browse.family_card"].try_again,callbackAction:function(){t._deactivateFamily(e)}}):t.NotificationService.error(t.I18nService.getMessage(t.i18n,"recommendations.deactivation_error"))}))},l.prototype._getRecommendationIndexBySlug=function(e,t){return o.findIndex(this.recommendations,{slug:e,type:t})},l.prototype._preloadData=function(){var e=this;return e.currentPage=0,e.exampleText={},e.isInfiniteScrollEnabled=!0,e.emptyStateClassesByColumn={},e.loadedAllRecommendations=!1,e.recommendationsByColumn={},e.recommendationTypeChanged=!1,e.styles={},e.currentPage=null,e.selectedRecommendationType=null,e.updateColumns(),e.$q.all([e.DataService.get("/recommendations/preloaded").then((function(t){e.familiesPerPage=t.familiesPerPage,e.isPersonalized=t.isPersonalized,e.recommendationTypes=t.recommendationTypes,e.textSampleData=t.textSampleData,e.selectRecommendationType(e.getInitialRecommendationType(),1,!1)})),e.DataService.get("/recommendations/i18n").then((function(t){e.i18n=t}))])},l.prototype.showSpecimen=function(e){return""!==this.showSpecimenImageUrl(e)},l.prototype.showSpecimenImageUrl=function(e){return r.getStillImageUrl(e.specimen_images_data)},e.exports=l},1626:function(e,t,n){o.$inject=["$document","$window","DataService","FamilyAutocompleteSearchService","FavoritesService","DialogService","UserPrefsService"];var i=n(304),r=n(121);function o(e,t,n,i,r,o,a){this.$document=e,this.$window=t,this.DataService=n,this.FamilyAutocompleteSearchService=i,this.FavoritesService=r,this.DialogService=o,this.UserPrefsService=a,this._preloadData()}o.prototype.getExampleText=function(e){var t="list";return null!=e.filters&&e.filters.indexOf("ka:ko")>=0&&(t+="_kana"),{size:40,value:this.textSamples[e.display_font.default_language][t]}},o.prototype._webComponents_initSearchBar=function(){var e=this,t=e.$document.find("af-search-bar")[0];t&&t.addEventListener(r.EVENT_NAME,(function(n){e.FamilyAutocompleteSearchService.get(n.detail.searchParam).then((function(e){t.results=e.data}))}))},o.prototype.getVisualSearchTooltipOffset=function(){return this.$window.innerWidth>=1768?null:this.$window.innerWidth>=1280?"32":this.$window.innerWidth>=768?"24":"16"},o.prototype.similarTo=function(e){var t=this.similarity||{};return"variation_identifiers"===this.gptResultType?t[e.display_font.postscript_name]||[]:t[e.name]||[]},o.prototype.openGPTOptionsDialog=function(){var e=this;e.DialogService.show("/angular_templates/dialogs/gpt_search_options.html").then((function(t){t.version=e.gptOptions.version,t.availableDeployments=e.gptDeployments,t.deployment="completions-playground"===e.gptOptions.deployment?"gpt-3":e.gptOptions.deployment,t.systemPrompt=e.gptOptions.system_prompt,t.userPromptPrefix=e.gptOptions.user_prompt_prefix,t.temperature=e.gptOptions.temperature,t.handleCancelButtonClick=function(){t.close()},t.handleConfirmButtonClick=function(){e.gptOptions.version=t.version,e.gptOptions.deployment=t.deployment,e.gptOptions.system_prompt=t.systemPrompt,e.gptOptions.user_prompt_prefix=t.userPromptPrefix,e.gptOptions.temperature=t.temperature,e.UserPrefsService.updatePrefs({gptSearchVersion:t.version,gptSearchDeployment:t.deployment,gptSearchSystemPrompt:t.systemPrompt,gptSearchUserPromptPrefix:t.userPromptPrefix,gptSearchTemperature:t.temperature}),t.close()},t.handleResetButtonClick=function(){t.version=e.gptDefaults.version,t.deployment=e.gptDefaults.deployment,t.systemPrompt=e.gptDefaults.system_prompt,t.userPromptPrefix=e.gptDefaults.user_prompt_prefix,t.temperature=e.gptDefaults.temperature},t.heading="GPT Options"}))},o.prototype.toggleGPTRawResults=function(){this.isGPTRawResultsOpen=!this.isGPTRawResultsOpen},o.prototype._preloadData=function(){var e=this;i.areWebComponentsEnabled()&&e._webComponents_initSearchBar(),e.isGPTRawResultsOpen=!1,e.DataService.get("/neue/preloaded_family_data").then((function(t){e.families=t.familiesData.families,e.textSamplePrimers=t.textSampleData.textSamplePrimers,e.textSamples=t.textSampleData.textSamples,t.gptSearch&&(e.similarity=t.gptSearch.similarity,e.gptDefaults=t.gptSearch.defaults,e.gptOptions=t.gptSearch.options,e.gptResultType=t.gptSearch.resultType,e.gptDeployments=t.gptSearch.deployments)})),e.DataService.get("/spectrum/search_navigation_tabs").then((function(t){for(var n in e.navigationTabs=t.navigationTabs,t.navigationTabs)if(t.navigationTabs[n].id===t.currentTabId){e.currentTab=t.navigationTabs[n];break}}))},e.exports=o},1627:function(e,t){function n(e,t){var n=this;e.get("filters_sidebar_data").then((function(e){n.filtersModel=t.getFilterModel(e.allFamilyFilters,e.familyFilterData,e.languageFilters)}))}n.$inject=["DataService","FilterDataService"],e.exports=n},1628:function(e,t){n.$inject=["AddFontsToWebProjectService","$scope","$timeout"];function n(e,t,n){this.projectSelectorModel=e.getProjectSelectorModel(),this.addFontsToWebProjectModel=e.getAddFontsToWebProjectModel(),this.AddFontsToWebProjectService=e,this.timeout=n,this.projectSelectorModel.getProjectSelectorModelPromise().then((function(){n((function(){t.$apply()}))}))}n.prototype.getSearchResults=function(){return this.projectSelectorModel.getSearchResults()},n.prototype.getterSetterSearchInput=function(e){if(!(arguments.length>0))return this.projectSelectorModel.getProjectName();this.projectSelectorModel.onProjectNameChange(e)},n.prototype.onSelectorButtonClick=function(){this.projectSelectorModel.onSelectorButtonClick()},n.prototype.onSelectProjectClick=function(e){this.AddFontsToWebProjectService.updateProjectDetails(e),this.projectSelectorModel.onSelectProjectClick(e)},n.prototype.isResultListAvailable=function(){return this.projectSelectorModel.isResultListAvailable()},n.prototype.isProjectInvalid=function(e){return!this.projectSelectorModel.isProjectValid(e)},n.prototype.isSelectorDisabled=function(){return this.projectSelectorModel.isSelectorDisabled()},n.prototype.isInputDisabled=function(){return this.projectSelectorModel.isInputDisabled()},n.prototype.getPlaceholder=function(e,t){return this.projectSelectorModel.getPlaceholder(e,t)},n.prototype.isProjectSelected=function(){return this.projectSelectorModel.isProjectSelected()},n.prototype.onCreateProjectClick=function(){var e=document.querySelector("#webfont-project-selector-search-box");this.getterSetterSearchInput(""),this.projectSelectorModel.resetProjectSelection(),this.projectSelectorModel.enableInputBox(),this.timeout((function(){e.focus()}),500)},n.prototype.isDropdownVisible=function(){return this.projectSelectorModel.isDropdownVisible()},n.prototype.isInvalid=function(){return this.projectSelectorModel.isInvalid()},n.prototype.saveProject=function(e){if("Enter"==e.key){var t=document.querySelector("#create-save-web-project");this.timeout((function(){t.click()}))}},n.prototype.onScroll=function(){this.projectSelectorModel.onNextScroll()},e.exports=n},1629:function(e,t){function n(e){this.styleSelectorModel=e.getStyleSelectorModel()}n.$inject=["AddFontsToWebProjectService"],n.prototype.handleShowMoreClicked=function(e){this.styleSelectorModel.setDisplayVariations(e.web_id,e.variations)},n.prototype.handleCheckboxToggled=function(e){this.styleSelectorModel.toggleCheckbox(e)},n.prototype.getShowMoreCount=function(e){return this.styleSelectorModel.getShowMoreCount(e)},n.prototype.getSelectedVariationCount=function(e){return this.styleSelectorModel.getSelectedVariationCount(e)},n.prototype.getTotalVariationCount=function(e){return this.styleSelectorModel.getTotalVariationCount(e)},n.prototype.getExampleText=function(){return this.styleSelectorModel.getExampleText()},n.prototype.getTextDirectionClass=function(e){return e.rtl?"webfont-project-style-selector__font-preview--rtl":""},n.prototype.getSortedFamilies=function(){return this.styleSelectorModel.getSortedFamilies()},n.prototype.getDisplayVariations=function(e){return this.styleSelectorModel.getDisplayVariations(e)},n.prototype.isVariationSelected=function(e){return this.styleSelectorModel.isVariationSelected(e)},e.exports=n},1630:function(e,t){function n(e){var t=this;t.WebfontProjectService=e;var n=t.WebfontProjectService.getWebfontProjectStylesModel();t.fontVariationsDetails=n.getFontVariations()||[]}n.$inject=["AddFontsToWebProjectService"],e.exports=n},1631:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/large_web_project_notice.html",bindToController:{},controller:n(1632),controllerAs:"largeWebProjectNoticeCtrl"}}},1632:function(e,t){e.exports=function(){}},1633:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{allowOverlap:"&",endValue:"&",startValue:"&",label:"@",onChange:"&",max:"&",min:"&",step:"&",value:"&",valueLabel:"&",variant:"@"},controller:n(1634),controllerAs:"spectrumSlider",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/spectrum/slider.html",link:function(e,t,n,i){e.$watch((function(){return{startValue:i.startValue(),endValue:i.endValue()}}),i.updateValues.bind(i),!0)}}}},1634:function(e,t,n){a.$inject=["$element","$scope","$window"];var i=n(6),r="end-handle",o="start-handle";function a(e,t,n){this.$element=e,this.$scope=t,this.$window=n,this.minValue=parseInt(this.min(),10),this.maxValue=parseInt(this.max(),10),this.handleValues={},this.initEvents()}a.prototype.updateValues=function(e){this.isRange()&&(this.handleValues["start-handle"]=e.startValue||1),this.handleValues["end-handle"]=this.isRange()?e.endValue||1:this.value()},a.prototype.calculateHandleValue=function(e){var t=this.$element[0].getBoundingClientRect(),n=(e-t.left)/t.width;return this.minValue+(this.maxValue-this.minValue)*n},a.prototype.findClosestHandle=function(e,t){var n=this,r=n.getHandles(),o=r[0],a=1/0;return i.forEach(r,(function(i){var r=i.getBoundingClientRect(),s=r.top+n.$window.pageYOffset,c=r.left+n.$window.pageXOffset,l=Math.floor(Math.sqrt(Math.pow(e-(c+r.width/2),2)+Math.pow(t-(s+r.height/2),2)));l<a&&(a=l,o=i)})),o},a.prototype.getCenterTrackStyle=function(){return{left:100*this.getRelativePercent(this.getStartHandleValue())+"%",right:100*(1-this.getRelativePercent(this.getEndHandleValue()))+"%"}},a.prototype.getData=function(){return this.isRange()?{end:this.getEndHandleValue(),start:this.getStartHandleValue()}:this.getEndHandleValue()},a.prototype.getEndHandleValue=function(){return this.handleValues["end-handle"]},a.prototype.getEndTrackStyle=function(){var e=100*this.getRelativePercent(this.getEndHandleValue());return{left:e+"%",width:100-e+"%"}},a.prototype.getHandles=function(){return this.$element[0].querySelectorAll(".spectrum-Slider-handle")},a.prototype.getHandleStyle=function(e){return{left:100*this.getRelativePercent(this.handleValues[e])+"%"}},a.prototype.getRelativePercent=function(e){return(e-this.minValue)/(this.maxValue-this.minValue)},a.prototype.getStartHandleValue=function(){return this.handleValues["start-handle"]},a.prototype.getStartTrackStyle=function(){return this.isRange()?{width:100*this.getRelativePercent(this.getStartHandleValue())+"%"}:{left:0,right:0}},a.prototype.getStep=function(){return this.step()||1},a.prototype.getValueLabel=function(){var e=this.valueLabel({$data:this.getData()});return e||(this.isRange()?this.getStartHandleValue()+"\u2013"+this.getEndHandleValue():this.getEndHandleValue())},a.prototype.handleMouseDown=function(e){var t=this,n=function(n){t.handleMouseMove(e,n)};t.$window.addEventListener("mousemove",n),t.$window.addEventListener("mouseup",(function(){t.$window.removeEventListener("mousemove",n)}))},a.prototype.handleMouseMove=function(e,t){var n=this;t.preventDefault();var i=e.dataset.handleId,a=n.calculateHandleValue(t.clientX);i===o&&a>n.getEndHandleValue()&&(a=n.getEndHandleValue(),this.allowOverlap()||(a-=n.getStep())),i===r&&a<n.getStartHandleValue()&&(a=n.getStartHandleValue(),this.allowOverlap()||(a+=n.getStep())),a<n.minValue&&(a=n.minValue),a>n.maxValue&&(a=n.maxValue),n.$scope.$apply((function(){n.handleValues[e.dataset.handleId]=n.snapToStep(a),n.onChange({$data:n.getData()})}))},a.prototype.handlesAreOverlapping=function(){return this.handleValues["start-handle"]===this.handleValues["end-handle"]},a.prototype.initEvents=function(){var e=this;e.$element[0].addEventListener("mousedown",(function(t){t.stopPropagation();var n=e.findClosestHandle(t.pageX,t.pageY);n&&(e.handleMouseMove(n,t),e.handleMouseDown(n))}))},a.prototype.isRange=function(){return"range"===this.variant},a.prototype.isStartHandleVisible=function(){return this.isRange()},a.prototype.snapToStep=function(e){var t=this.getStep();return t?Math.round(e/t)*t:e},e.exports=a},1635:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_subsetting_options.html",scope:{},bindToController:{tkWebProjectCardModel:"=",tkWebProjectFamilyCardModel:"="},controller:n(1636),controllerAs:"tkSubsettingOptionsCtrl"}}},1636:function(e,t,n){var i=n(19);function r(){this.tkffData=this.tkWebProjectFamilyCardModel.getTkffData(),this.typekitFontFamily=this.tkffData.tkff.typekit_font_family,this.isKitDynamic=this.tkWebProjectCardModel.isDynamic(),this.isCJK=this.tkffData.is_CJK,this.tkffUniqueIdentifier=this.typekitFontFamily.slug+this.tkWebProjectCardModel.getProjectId(),this.openTypeFeatureDisplayInfo=this.tkffData.open_type_feature_display_info,this.enabledLanguageTags=this.tkffData.enabled_language_tags,this.langCheckedStates=this.constructLangCheckedStates();var e=i.copy(this.tkffData.supported_languages_all);this.supportedLanguagesHalves=this._reconstructLanguagesForView(e),this.charSetOptionsEnum=this.tkWebProjectCardModel.getCharSetOptionsEnum(),this.subSettingOptions={all:this.charSetOptionsEnum.CHAR_SET_OPTION_ALL,custom:this.charSetOptionsEnum.CHAR_SET_OPTION_CUSTOM,default:this.charSetOptionsEnum.CHAR_SET_OPTION_DEFAULT,dynamic:this.charSetOptionsEnum.CHAR_SET_OPTION_DYNAMIC},this.selectedSubsetting=this.subSettingOptions[this.tkffData.subsetting]}r.prototype.constructLangCheckedStates=function(){var e,t={};for(e=0;e<this.tkffData.supported_languages_all.length;e++)t[this.tkffData.supported_languages_all[e].language.iana_language_tag]=!1;for(e=0;e<this.enabledLanguageTags.length;e++)t[this.enabledLanguageTags[e]]=!0;return t},r.prototype.getTkffUniqueIdentifier=function(){return this.tkffUniqueIdentifier},r.prototype.isVerticalFeaturesOptionShown=function(){return this.isCJK},r.prototype.toggleVerticalFeaturesSelection=function(){this.tkWebProjectCardModel.setIsModified(!0),this.tkffData.is_vertical_features_enabled=!this.tkffData.is_vertical_features_enabled},r.prototype.toggleOpenTypeFeaturesSelection=function(){this.tkWebProjectCardModel.setIsModified(!0),this.tkffData.is_ot_features_enabled=!this.tkffData.is_ot_features_enabled},r.prototype.isDynamicSubsettingOptionShown=function(){return this.isKitDynamic},r.prototype.isAllChecked=function(){return this.selectedSubsetting==this.charSetOptionsEnum.CHAR_SET_OPTION_ALL},r.prototype.isLanguageSubsettingChecked=function(){return this.selectedSubsetting==this.charSetOptionsEnum.CHAR_SET_OPTION_CUSTOM},r.prototype.isDefaultChecked=function(){return this.selectedSubsetting==this.charSetOptionsEnum.CHAR_SET_OPTION_DEFAULT},r.prototype.isDynamicChecked=function(){return this.selectedSubsetting==this.charSetOptionsEnum.CHAR_SET_OPTION_DYNAMIC},r.prototype.handleSubsettingClick=function(e){this.tkWebProjectCardModel.setIsModified(!0),this.selectedSubsetting=e,this.tkffData.subsetting=e,this.tkWebProjectCardModel.updateIsValid()},r.prototype.isOnlyDynamicSubsettingAllowed=function(){return this.isKitDynamic&&this.isCJK},r.prototype.updateEnabledLanguages=function(e){var t;for(this.tkWebProjectCardModel.setIsModified(!0),this.langCheckedStates[e.language.iana_language_tag]=!this.langCheckedStates[e.language.iana_language_tag],this.enabledLanguageTags.splice(0,this.enabledLanguageTags.length),t=0;t<this.tkffData.supported_languages_all.length;t++)this.langCheckedStates[this.tkffData.supported_languages_all[t].language.iana_language_tag]&&this.enabledLanguageTags.push(this.tkffData.supported_languages_all[t].language.iana_language_tag);this.tkWebProjectCardModel.updateIsValid()},r.prototype._reconstructLanguagesForView=function(e){var t=[];return t.push(e.slice(0,Math.ceil(e.length/2))),t.push(e.slice(Math.ceil(e.length/2),e.length)),t},e.exports=r},1637:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_card.html",bindToController:{embedCodeModel:"=",tkWebProjectCardModel:"="},controller:n(1638),controllerAs:"tkWebProjectCardCtrl"}}},1638:function(e,t){r.$inject=["$element","$window","DialogService","TkWebProjectEditorService","NotificationService","DataService"];var n="tk-web-project-card__footer--unstuck",i="tk-web-project-card__footer--stuck";function r(e,t,n,i,r,o){var a=this;a.$element=e,a.$window=t,a.tkWebProjectEditorService=i,a.dialogService=n,a.DataService=o,a.NotificationService=r,a.tkffList=a.tkWebProjectCardModel.getTkffList(),a.projectInfo={id:this.tkWebProjectCardModel.getProjectId(),isDynamic:this.tkWebProjectCardModel.isDynamic()},a.DataService.get("/neue/i18n").then((function(e){a.i18n=e})),a.$window.addEventListener("scroll",(function(){a._handleWindowScroll()})),a.$window.addEventListener("resize",(function(){a._adjustFooterWidth()})),a.tkWebProjectCardModel.isExpanded()&&(a.tkWebProjectCardModel.toggleExpanded(),a.tkWebProjectEditorService.populateCompleteTkffData(this.tkWebProjectCardModel.getProjectDetails().kitToken)),a.busyCursor=!1}r.prototype.toggleExpanded=function(){0==this.tkWebProjectCardModel.getIsDataFetched()?(this.toggleBusyCursor(),this.tkWebProjectEditorService.populateCompleteTkffData(this.tkWebProjectCardModel.getProjectDetails().kitToken,this.toggleBusyCursor)):this.tkWebProjectCardModel.toggleExpanded()},r.prototype.toggleBusyCursor=function(){this.busyCursor=!this.busyCursor},r.prototype.openDeleteConfirmationDialog=function(){this.tkWebProjectEditorService.openDeleteConfirmationDialog(this.tkWebProjectCardModel)},r.prototype.handleSaveClicked=function(){var e=this;e.tkWebProjectEditorService.updateKit(e.tkWebProjectCardModel.getTkffList(),e.tkWebProjectCardModel.getDeletedTkffs(),e.tkWebProjectCardModel.getProjectDetails().kitToken).then((function(t){e.tkWebProjectCardModel.setLastModified(t.last_updated),e.NotificationService.success(e.i18n["kit_editor.kits.publish.update.project_eta_message"].replace("%{web_project_name}",e.tkWebProjectCardModel.getProjectName())),e.tkWebProjectCardModel.updateTkffListBackup()})),e.tkWebProjectCardModel.handleSave()},r.prototype.handleCancelClicked=function(){var e;for(this.tkWebProjectCardModel.handleCancel(),this.tkffList=this.tkWebProjectCardModel.getTkffList(),e=0;e<this.tkffList.length;e++){var t=this.tkWebProjectCardModel.getProjectDetails().kitToken+this.tkffList[e].tkff.typekit_font_family.id;this.tkWebProjectEditorService.getTkWebProjectFamilyCardModel(t).setTkffData(this.tkffList[e]),this.tkWebProjectEditorService.getTkWebProjectEditorStyleSelectorModel(t).setEnabledFontVariationIds(this.tkffList[e].enabled_font_variation_ids)}},r.prototype.getFamilyCardModel=function(e){var t=this.tkWebProjectCardModel.getProjectDetails().kitToken+e;return this.tkWebProjectEditorService.getTkWebProjectFamilyCardModel(t)},r.prototype.getFamilyDisplayModel=function(e){var t=this.tkWebProjectCardModel.getProjectDetails().kitToken+e;return this.tkWebProjectEditorService.getTkWebProjectDisplayFamilyModel(t)},r.prototype.getFooterStickyClass=function(){return this._isFooterActive()&&this._isFooterOutOfView()?(this._adjustFooterWidth(),i):n},r.prototype._getFamiliesEl=function(){return this.$element[0].querySelector(".tk-web-project-card__families")},r.prototype._getFooterEl=function(){return this.$element[0].querySelector(".tk-web-project-card__footer")},r.prototype._adjustFooterWidth=function(){this._isFooterActive()&&(this._getFooterEl().style.width=this.$window.getComputedStyle(this._getFamiliesEl()).width)},r.prototype._handleWindowScroll=function(){this._isFooterActive()&&!this._getFooterEl().classList.contains(this.getFooterStickyClass())&&(this._resetStickyClasses(),this._getFooterEl().classList.add(this.getFooterStickyClass()))},r.prototype._isEntireProjectBelowDisplay=function(){return this._getFamiliesEl().getBoundingClientRect().top>this.$window.innerHeight},r.prototype._isProjectBottomBelowDisplay=function(){return this._getFamiliesEl().getBoundingClientRect().bottom+this._getFooterEl().getBoundingClientRect().height>=this.$window.innerHeight},r.prototype._isFooterOutOfView=function(){return!this._isEntireProjectBelowDisplay()&&this._isProjectBottomBelowDisplay()},r.prototype._isFooterActive=function(){return this.tkWebProjectCardModel.isModified()&&this.tkWebProjectCardModel.isExpanded()&&!!this._getFooterEl()},r.prototype._resetStickyClasses=function(){var e=this._getFooterEl();e.classList.remove(i),e.classList.remove(n)},e.exports=r},1639:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_details.html",bindToController:{webProjectDetails:"&"},controller:n(1640),controllerAs:"tkWebProjectDetailsCtrl"}}},1640:function(e,t){function n(){}n.prototype.getDateString=function(){return Date.parse(this.webProjectDetails().dateModified)},e.exports=n},1641:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_display_family.html",scope:{},bindToController:{tkFontFamily:"&",tkWebProjectDisplayFamilyModel:"="},controller:n(1642),controllerAs:"tkWebProjectDisplayFamilyCtrl"}}},1642:function(e,t){function n(e){var t=this;this.tkFontFamily()&&this.tkFontFamily().is_variable&&requestAnimationFrame((function(){var n=e[0].querySelector(".tk-web-project-display-family__variable-component");n&&t.tkFontFamily().fvd_sorted_variations&&t.tkFontFamily().fvd_sorted_variations.forEach((function(e){var i=document.createElement("af-variable-font-sample-card");i.fontData=e;var r=t.getVariationDisplayData();return i.sampleString=r.textSample,i.fontId=r.opaqueId,i.unicodeRange=r.unicodeRange,n.appendChild(i)}))}))}n.$inject=["$element"],n.prototype.getVariationDisplayData=function(){return this.tkWebProjectDisplayFamilyModel.getVariationDisplayData()},n.prototype.getVariationFamilyName=function(){return this.tkWebProjectDisplayFamilyModel.getVariationFamilyName()},n.prototype.getTypographicFamilySlug=function(){return this.tkWebProjectDisplayFamilyModel.getTypographicFamilySlug()},e.exports=n},1643:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_editor_style_selector.html",scope:{},bindToController:{tkWebProjectCardModel:"=",tkWebProjectEditorStyleSelectorModel:"=",tkWebProjectFamilyCardModel:"="},controller:n(1644),controllerAs:"tkWebProjectEditorStyleSelectorCtrl"}}},1644:function(e,t){function n(){}n.prototype.getRatioOfSelectedToAvailableFonts=function(){return this.tkWebProjectEditorStyleSelectorModel.getEnabledFontVariationIds().length+"/"+this.tkWebProjectEditorStyleSelectorModel.getAvailableFontVariations().length},n.prototype.getAvailableFontVariations=function(){return this.tkWebProjectEditorStyleSelectorModel.getAvailableFontVariations()},n.prototype.getCompleteFontVariationStyle=function(e){var t=this.tkWebProjectFamilyCardModel.getFormattedCssFontStack();return this.tkWebProjectEditorStyleSelectorModel.getCompleteFontVariationStyle(e,t)},n.prototype.isVariationSelected=function(e){return this.tkWebProjectEditorStyleSelectorModel.isVariationSelected(e)},n.prototype.handleCheckboxToggled=function(e){this.tkWebProjectEditorStyleSelectorModel.isVariationSelected(e)?this.tkWebProjectFamilyCardModel.updateVariationsDisabled(e.id):this.tkWebProjectFamilyCardModel.updateVariationsEnabled(e.id),this.tkWebProjectEditorStyleSelectorModel.toggleCheckbox(e),this.tkWebProjectCardModel.setIsModified(!0),this.tkWebProjectCardModel.computeTotalVariations()},n.prototype.isVariationRtl=function(e){return e.rtl},n.prototype.getVariationDisplayData=function(e){return this.tkWebProjectEditorStyleSelectorModel.getVariationDisplayData(e)},n.prototype.getExampleText=function(e){return this.tkWebProjectEditorStyleSelectorModel.getExampleText(e)},e.exports=n},1645:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_embed_code_options.html",scope:{},bindToController:{embedCodeModel:"="},controller:n(1646),controllerAs:"tkWebProjectEmbedCodeOptionsCtrl"}}},1646:function(e,t){function n(){this.isDefaultVisible=!0}n.prototype.isDefaultSnippetVisible=function(){return!this.embedCodeModel.getIsDynamic()&&this.isDefaultVisible},n.prototype.isCssImportSnippetVisible=function(){return!this.embedCodeModel.getIsDynamic()&&!this.isDefaultVisible},n.prototype.isAsyncSnippetVisible=function(){return this.embedCodeModel.getIsDynamic()},n.prototype.getDefaultSnippetEmbedCode=function(){return this.embedCodeModel.getProjectEmbedDetails().css_code},n.prototype.getCssImportSnippetEmbedCode=function(){return this.embedCodeModel.getProjectEmbedDetails().css_import_code},n.prototype.getAsyncSnippetEmbedCode=function(){return this.embedCodeModel.getProjectEmbedDetails().async_javascript_code},n.prototype.showDefaultCssCode=function(){this.isDefaultVisible=!0},n.prototype.showCssImportCode=function(){this.isDefaultVisible=!1},e.exports=n},1647:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_family_card.html",bindToController:{tkWebProjectCardModel:"=",tkWebProjectFamilyCardModel:"="},controller:n(1648),controllerAs:"tkWebProjectFamilyCardCtrl"}}},1648:function(e,t){function n(e,t){this.$window=e,this.tkWebProjectEditorService=t,this._initEventListeners()}n.$inject=["$window","TkWebProjectEditorService"],n.prototype.deleteTkff=function(){this.tkWebProjectFamilyCardModel.isAnyFontRetired?this.tkWebProjectEditorService.openRetiredFontsRemovalConfirmationDialog(this.tkWebProjectCardModel,this.tkWebProjectFamilyCardModel):this.tkWebProjectCardModel.deleteTkff(this.tkWebProjectFamilyCardModel.getTkffData())},n.prototype.getStyleSelectorModel=function(){var e=this.tkWebProjectCardModel.getProjectDetails().kitToken+this.tkWebProjectFamilyCardModel.getTkffData().tkff.typekit_font_family.id;return this.tkWebProjectEditorService.getTkWebProjectEditorStyleSelectorModel(e)},n.prototype.getFontVariations=function(){var e=this.getStyleSelectorModel(),t=this.tkWebProjectFamilyCardModel.getFormattedCssFontStack();return e.webcomponents_getAvailableFontVariations(t)},n.prototype.getSampleText=function(e){return this.getStyleSelectorModel().getTextSamples()[e.defaultLanguage].list},n.prototype.getUnicodeRange=function(e){return this.getStyleSelectorModel().getTextSamples()[e.defaultLanguage].unicode_range},n.prototype._initEventListeners=function(){var e=this;e.$window.addEventListener("web-project.checkbox-checked",(function(t){e.tkWebProjectFamilyCardModel.hasVariationId(t.detail.variationId)&&(t.detail.isChecked?e.tkWebProjectFamilyCardModel.updateVariationsEnabled(t.detail.variationId):e.tkWebProjectFamilyCardModel.updateVariationsDisabled(t.detail.variationId),e.tkWebProjectCardModel.setIsModified(!0),e.tkWebProjectCardModel.computeTotalVariations())}))},e.exports=n},1649:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_list.html",bindToController:{tkWebProjectListModel:"=",sortModes:"="},controller:n(1650),controllerAs:"tkWebProjectListCtrl"}}},1650:function(e,t){n.$inject=["$element","TkWebProjectEditorService"];function n(e,t){var n=this;n.$element=e,n.tkWebProjectEditorService=t,n.currentPage=this.tkWebProjectEditorService.getTkWebProjectListModel().currentPage,n.searchString="",n.selectedSort=this.tkWebProjectEditorService.getTkWebProjectListModel().getSortOrder(),n.$element.on("pagination-change",(function(e){n.currentPage=e.detail.page,n.handlePageNumberChange()}))}n.prototype.handlePageNumberChange=function(){this.tkWebProjectEditorService.updateWebProjects(this.searchString,this.currentPage,!0)},n.prototype.clearAndGetSearchResults=function(){this.searchString="",this.getSearchResults()},n.prototype.getSearchResults=function(){this.tkWebProjectEditorService.getTkWebProjectListModel().setCurrentPage(1),this.tkWebProjectEditorService.updateWebProjects(this.searchString,1,!0)},n.prototype.isSearchBoxShown=function(){return 0!=this.tkWebProjectEditorService.getTkWebProjectListModel().getWebProjectList().length||this.isEmptyResultsState()},n.prototype.isEmptyResultsState=function(){return 0==this.tkWebProjectEditorService.getTkWebProjectListModel().getWebProjectList().length&&""!=this.searchString},n.prototype.handleSortChange=function(){this.tkWebProjectEditorService.getTkWebProjectListModel().setSortOrder(this.selectedSort),this.tkWebProjectEditorService.updateWebProjects(this.searchString,this.currentPage,!0)},e.exports=n},1651:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{autocompleteService:"=",inputPlaceholder:"@",resultDivClasses:"@",resultTitle:"@",resultSeeAllLabel:"@"},controller:n(1652),controllerAs:"adobeFontsAutoCompleteCtrl",restrict:"E",transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_auto_complete.html",link:function(e,t,n,i){i.element=t[0]}}}},1652:function(e,t,n){a.$inject=["$document","$scope","$timeout"];var i=n(19),r=n(6),o=[40,38,27];function a(e,t,n){this.$document=e,this.$scope=t,this.$timeout=n,this.handleInputKeyup=r.debounce(r.bind(this._handleInputKeyup,this),300),this.isResultListVisible=!1,this.results=[],this._selectedIndex=-1,this._initBodyEvents()}a.prototype.handleElementKeyDown=function(e){this._isNavigationKeyEvent(e)&&this._hasResults()&&this._handleNavigationEvent(e)},a.prototype.handleResultFocus=function(e){this._selectedIndex=e},a.prototype.getSearchResultItemLink=function(e){return this.autocompleteService.getItemHyperlink(e)},a.prototype._getCurrentResultElements=function(){return this.element.querySelectorAll(".adobe-fonts-auto-complete__item a")},a.prototype._getInput=function(){return this.element.getElementsByClassName("adobe-fonts-auto-complete__search-field")[0]},a.prototype._handleNavigationEvent=function(e){if(27==e.keyCode)return this.isResultListVisible=!1,this.results=[],this._selectedIndex=-1,void this._getInput().focus();e.preventDefault(),40==e.keyCode?this._selectedIndex=this._selectedIndex+1<this.results.length?this._selectedIndex+1:0:38==e.keyCode&&(this._selectedIndex=this._selectedIndex>0?this._selectedIndex-1:this.results.length-1),this._getCurrentResultElements()[this._selectedIndex].focus()},a.prototype._handleInputKeyup=function(e){var t=this;t._isNavigationKeyEvent(e)||(t._selectedIndex=-1,t.autocompleteService.get(t.searchTerm).then((function(e){t.$timeout((function(){t.results=e.data,t.isResultListVisible=t.results.length>0}))})))},a.prototype._hasResults=function(){return this.results.length>0},a.prototype._initBodyEvents=function(){var e=this;i.element(e.$document[0].body).on("click focus keyup",(function(t){e._isChildOfDirective(t.target)||e.$scope.$apply((function(){e.isResultListVisible=!1}))}))},a.prototype._isChildOfDirective=function(e){return e==this.element||e.parentNode==this.element||e.parentNode&&this._isChildOfDirective(e.parentNode)},a.prototype._isNavigationKeyEvent=function(e){return r.contains(o,e.keyCode)},e.exports=a},1653:function(e,t,n){e.exports=function(){return{bindToController:{alwaysHasCarousel:"@",hidePreviousAndNextButtons:"=?",isFamilyImageCarousel:"@",isRecommendedFontCarousel:"@",layout:"@",links:"@",itemSize:"@"},controller:n(1654),controllerAs:"carouselCtrl",scope:{},restrict:"E",transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_carousel.html"}}},1654:function(e,t,n){a.$inject=["$element","$scope","$timeout","$window"];var i=n(1655).lory,r=n(6),o="adobe-fonts-carousel--active";function a(e,t,n,i){var r=this;r.$element=e,r.$timeout=n,r.$window=i,r.previousSlide=0,r.currentDot=0,r.hidePreviousAndNextButtons=r.hidePreviousAndNextButtons||!1,r.hidePreviousAndNextButtonsInitialSetting=r.hidePreviousAndNextButtons,r._loadAttempts=0,r.areSlidesLoaded=!1,r._currentNumSlidesInViewport=0,i.requestAnimationFrame((function(){r._loadCarousel()})),this.isFamilyImageCarousel&&t.$watch((function(){return r.layout}),(function(){n((function(){r.isCarouselRequired()&&r._activateCarousel()}),1)})),t.$watch((function(){return r._getSlidesHtml()}),(function(e,t){e!==t&&(r.isRecommendedFontCarousel?r._activateCarouselWithSamePosition():(r._activateCarousel(),r.selectDot(0)))})),i.addEventListener("resize",(function(){r.alwaysHasCarousel||(r.isCarouselRequired()?r._activateCarousel():r.carousel&&r._destroyCarousel()),r.isRecommendedFontCarousel&&r._currentNumSlidesInViewport!==r._numSlidesInViewport()&&r._activateCarouselWithSamePosition(),t.$apply((function(){r.isCarouselRequired()})),r._currentNumSlidesInViewport=r._numSlidesInViewport()}))}a.prototype.dotNumbers=function(){return r.range(0,this._numSlides())},a.prototype.getLinkHref=function(){return!this.links||!this.currentDot&&0!==this.currentDot?"":(JSON.parse(this.links)[this.currentDot]||{}).href||""},a.prototype.getLinkName=function(){return!this.links||!this.currentDot&&0!==this.currentDot?"":(JSON.parse(this.links)[this.currentDot]||{}).name||""},a.prototype.shouldShowDotControl=function(){return this.isFamilyImageCarousel?this.itemSize>1&&1===this._numSlidesInViewport()||this.itemSize>3||"grid"===this.layout:!this.isRecommendedFontCarousel&&this.isCarouselRequired()},a.prototype.isCarouselRequired=function(){var e=this._getFrameEl();if(this.isFamilyImageCarousel){if("grid"===this.layout)return this._isContentLoaded()&&(this.areSlidesLoaded=!0),this.areSlidesLoaded;return e.clientWidth<e.scrollWidth-40}return e.clientWidth<e.scrollWidth},a.prototype.isDotActive=function(e){return this.currentDot===e},a.prototype.selectDot=function(e){this.carousel.slideTo(e),this.currentDot=e},a.prototype.shouldShowDot=function(e){return e<this._numDotsVisible()},a.prototype._updatePreviousAndNextButtonsVisibility=function(){this.hidePreviousAndNextButtonsInitialSetting||(this.hidePreviousAndNextButtons=this._numSlidesInViewport()>=this._numSlides())},a.prototype._activateCarousel=function(){var e=this.$element[0].querySelector(".adobe-fonts-carousel");this.isRecommendedFontCarousel?this.carousel=i(e,{slidesToScroll:this._numSlidesInViewport(),rewindOnResize:this.isRecommendedFontCarousel,forceIndexUpdate:!0}):this.carousel=i(e,{rewind:!this.isFamilyImageCarousel,rewindOnResize:!this.alwaysHasCarousel}),this.$element.addClass(o),this.$element[0].addEventListener("before.lory.slide",this._handleSlideEvent.bind(this)),this.isFamilyImageCarousel&&this.selectDot(0),(this.isFamilyImageCarousel||this.isRecommendedFontCarousel)&&this.$element[0].addEventListener("after.lory.slide",this._handleAfterSlideEvent.bind(this)),this._updatePreviousAndNextButtonsVisibility(),this._currentNumSlidesInViewport=this._numSlidesInViewport()},a.prototype._activateCarouselWithSamePosition=function(){var e=0;this.carousel&&(e=this.carousel.returnIndex()),this._activateCarousel(),this.selectDot(e)},a.prototype._destroyCarousel=function(){this.carousel.destroy(),this.carousel=null,this.$element.removeClass(o)},a.prototype._getFrameEl=function(){return this.$element[0].querySelector(".adobe-fonts-carousel__frame")},a.prototype._getSlidesHtml=function(){return[].slice.call(this.$element[0].getElementsByTagName("li")).map((function(e){return e.innerHTML})).join("")},a.prototype._handleSlideEvent=function(e){var t=e.detail.nextSlide;if(this.isFamilyImageCarousel){if(t===this.previousSlide||t===this._numDotsVisible())return;this.previousSlide=t}this.currentDot=this.currentDot===t||t<0?0:t},a.prototype._handleAfterSlideEvent=function(e){var t=e.detail.currentSlide+1,n=this.$element[0].getElementsByClassName("adobe-fonts-carousel__next-button")[0],i=this.$element[0].getElementsByClassName("adobe-fonts-carousel__previous-button")[0];this.isRecommendedFontCarousel?t>=this._numDotsVisible()?(n.classList.add("disabled"),i.classList.remove("disabled")):t<=1?(i.classList.add("disabled"),n.classList.remove("disabled")):(n.classList.remove("disabled"),i.classList.remove("disabled")):"grid"!==this.layout&&t===this._numDotsVisible()?n.classList.add("disabled"):"family-carousel"===this.layout&&t<=this._numDotsVisible()&&n.classList.remove("disabled")},a.prototype._isContentLoaded=function(){var e=this._getFrameEl();return e.scrollWidth>0&&e.scrollWidth!==e.clientWidth},a.prototype._loadCarousel=function(){var e=this;return!e._isContentLoaded()&&e._loadAttempts<10?(e._loadAttempts++,e.$timeout((function(){e._loadCarousel()}),400)):e.isCarouselRequired()?e._activateCarousel():void e._updatePreviousAndNextButtonsVisibility()},a.prototype._numDotsVisible=function(){return this._numSlides()-this._numSlidesInViewport()+1},a.prototype._numSlides=function(){return this.isRecommendedFontCarousel?this.$element[0].getElementsByClassName("adobe-fonts-carousel-item").length:this.$element[0].getElementsByTagName("li").length},a.prototype._numSlidesInViewport=function(){if(this.$element[0].querySelector(".adobe-fonts-carousel")&&this.$element[0].getElementsByTagName("li")&&this.$element[0].getElementsByTagName("li")[0]){var e=this.$element[0].querySelector(".adobe-fonts-carousel").clientWidth,t=this.$element[0].getElementsByTagName("li")[0].clientWidth;return this.isRecommendedFontCarousel&&(t=this.$element[0].getElementsByClassName("adobe-fonts-carousel-item")[0].clientWidth),this.isFamilyImageCarousel||this.isRecommendedFontCarousel?Math.round(e/t):Math.floor(e/t)}},a.prototype.setPreviousTabIndex=function(){return this.$element[0].getElementsByClassName("adobe-fonts-carousel__previous-button")[0].classList.contains("disabled")?-1:0},a.prototype.setNextTabIndex=function(){return this.$element[0].getElementsByClassName("adobe-fonts-carousel__next-button")[0].classList.contains("disabled")?-1:0},e.exports=a},1655:function(e,t,n){var i;i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.lory=function(e,t){var n=void 0,s=void 0,u=void 0,d=void 0,f=void 0,p=void 0,h=void 0,m=void 0,g=void 0,v=void 0,y=0,b={};function _(e,t){var n=b.classNameActiveSlide;e.forEach((function(e,t){e.classList.contains(n)&&e.classList.remove(n)})),e[t].classList.add(n)}function S(t,n,i){(0,o.default)(e,t+".lory."+n,i)}function w(e,t,n){var i=p&&p.style;i&&(i[g.transition+"TimingFunction"]=n,i[g.transition+"Duration"]=t+"ms",g.hasTranslate3d?i[g.transform]="translate3d("+e+"px, 0, 0)":i[g.transform]="translate("+e+"px, 0)")}function C(e,t){var i=b,r=i.slideSpeed,o=i.slidesToScroll,a=i.infinite,l=i.rewind,f=i.rewindSpeed,p=i.ease,h=i.classNameActiveSlide,m=i.forceIndexUpdate,g=r,C=t?y+1:y-1,k=Math.round(s-u);S("before","slide",{index:y,nextSlide:C}),"number"!==typeof e&&(e=t?y+o:y-o),e=Math.min(Math.max(e,0),d.length-1),a&&void 0===t&&(e+=a);var F=Math.min(Math.max(-1*d[e].offsetLeft,-1*k),0);l&&Math.abs(n.x)===k&&t&&(F=0,e=0,g=f),w(F,g,p),n.x=F,(m||d[e].offsetLeft<=k)&&(y=e),!a||e!==d.length-a&&0!==e||(t&&(y=a),t||(y=d.length-2*a),n.x=-1*d[y].offsetLeft,v=function(){w(-1*d[y].offsetLeft,0,void 0)}),h&&_(c.call(d),y),S("after","slide",{currentSlide:y})}function k(){S("before","init"),g=(0,r.default)();var o,s,u,v,w=b=i({},a.default,t),C=w.classNameFrame,k=w.classNameSlideContainer,x=w.classNamePrevCtrl,T=w.classNameNextCtrl,A=w.enableMouseEvents,D=w.classNameActiveSlide;f=e.getElementsByClassName(C)[0],p=f.getElementsByClassName(k)[0],h=e.getElementsByClassName(x)[0],m=e.getElementsByClassName(T)[0],n={x:p.offsetLeft,y:p.offsetTop},b.infinite?(o=c.call(p.children),s=b.infinite,u=o.slice(0,s),v=o.slice(o.length-s,o.length),u.forEach((function(e){var t=e.cloneNode(!0);p.appendChild(t)})),v.reverse().forEach((function(e){var t=e.cloneNode(!0);p.insertBefore(t,p.firstChild)})),p.addEventListener(g.transitionEnd,P),d=c.call(p.children)):d=c.call(p.children),F(),D&&_(d,y),h&&m&&(h.addEventListener("click",E),m.addEventListener("click",$)),f.addEventListener("touchstart",M,!!l&&{passive:!0}),A&&(f.addEventListener("mousedown",M),f.addEventListener("click",L)),b.window.addEventListener("resize",N),S("after","init")}function F(){var e=b,t=e.infinite,i=e.ease,r=e.rewindSpeed,o=e.rewindOnResize,a=e.classNameActiveSlide;s=p.getBoundingClientRect().width||p.offsetWidth,(u=f.getBoundingClientRect().width||f.offsetWidth)===s&&(s=d.reduce((function(e,t){return e+t.getBoundingClientRect().width||t.offsetWidth}),0)),o?y=0:(i=null,r=0),t?(w(-1*d[y+t].offsetLeft,0,null),y+=t,n.x=-1*d[y].offsetLeft):(w(-1*d[y].offsetLeft,r,i),n.x=-1*d[y].offsetLeft),a&&_(c.call(d),y)}function E(){C(!1,!1)}function $(){C(!1,!0)}"undefined"!==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var x=void 0,T=void 0,A=void 0;function P(){v&&(v(),v=void 0)}function M(e){var t=b.enableMouseEvents,n=e.touches?e.touches[0]:e;t&&(f.addEventListener("mousemove",D),f.addEventListener("mouseup",I),f.addEventListener("mouseleave",I)),f.addEventListener("touchmove",D),f.addEventListener("touchend",I,!!l&&{passive:!0});var i=n.pageX,r=n.pageY;x={x:i,y:r,time:Date.now()},A=void 0,T={},S("on","touchstart",{event:e})}function D(e){var t=e.touches?e.touches[0]:e,i=t.pageX,r=t.pageY;T={x:i-x.x,y:r-x.y},"undefined"===typeof A&&(A=!!(A||Math.abs(T.x)<Math.abs(T.y))),!A&&x&&(e.preventDefault(),w(n.x+T.x,0,null)),S("on","touchmove",{event:e})}function I(e){var t=x?Date.now()-x.time:void 0,i=Number(t)<300&&Math.abs(T.x)>25||Math.abs(T.x)>u/3,r=!y&&T.x>0||y===d.length-1&&T.x<0,o=T.x<0;A||(i&&!r?C(!1,o):w(n.x,b.snapBackSpeed)),x=void 0,f.removeEventListener("touchmove",D),f.removeEventListener("touchend",I),f.removeEventListener("mousemove",D),f.removeEventListener("mouseup",I),f.removeEventListener("mouseleave",I),S("on","touchend",{event:e})}function L(e){T.x&&e.preventDefault()}function N(e){F(),S("on","resize",{event:e})}return k(),{setup:k,reset:F,slideTo:function(e){C(e)},returnIndex:function(){return y-b.infinite||0},prev:E,next:$,destroy:function(){S("before","destroy"),f.removeEventListener(g.transitionEnd,P),f.removeEventListener("touchstart",M),f.removeEventListener("touchmove",D),f.removeEventListener("touchend",I),f.removeEventListener("mousemove",D),f.removeEventListener("mousedown",M),f.removeEventListener("mouseup",I),f.removeEventListener("mouseleave",I),f.removeEventListener("click",L),b.window.removeEventListener("resize",N),h&&h.removeEventListener("click",E),m&&m.removeEventListener("click",$),b.infinite&&Array.apply(null,Array(b.infinite)).forEach((function(){p.removeChild(p.firstChild),p.removeChild(p.lastChild)})),S("after","destroy")}}};var r=s(n(2)),o=s(n(3)),a=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}var c=Array.prototype.slice,l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassive",null,u),window.removeEventListener("testPassive",null,u)}catch(d){}},function(e,t){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var t,n,i,r=void 0,o=void 0,a=void 0,s=void 0;return t=document.createElement("_"),n=t.style,i=void 0,""===n[i="webkitTransition"]&&(a="webkitTransitionEnd",o=i),""===n[i="transition"]&&(a="transitionend",o=i),""===n[i="webkitTransform"]&&(r=i),""===n[i="msTransform"]&&(r=i),""===n[i="transform"]&&(r=i),document.body.insertBefore(t,null),n[r]="translate3d(0, 0, 0)",s=!!e.getComputedStyle(t).getPropertyValue(r),document.body.removeChild(t),{transform:r,transition:o,transitionEnd:a,hasTranslate3d:s}}}).call(t,function(){return this}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=new o.default(t,{bubbles:!0,cancelable:!0,detail:n});e.dispatchEvent(i)};var i,r=n(4),o=(i=r)&&i.__esModule?i:{default:i}},function(e,t){(function(t){var n=t.CustomEvent;e.exports=function(){try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(t){}return!1}()?n:"undefined"!==typeof document&&"function"===typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(t,function(){return this}())},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={slidesToScroll:1,slideSpeed:300,rewindSpeed:600,snapBackSpeed:200,ease:"ease",rewind:!1,infinite:!1,classNameFrame:"js_frame",classNameSlideContainer:"js_slides",classNamePrevCtrl:"js_prev",classNameNextCtrl:"js_next",classNameActiveSlide:"active",enableMouseEvents:!1,window:window,rewindOnResize:!0,forceIndexUpdate:!1}}])},e.exports=i()},1656:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{filtersModel:"&",onFiltersChange:"&"},controller:n(1657),controllerAs:"filtersSidebarCtrl",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/spectrum/adobe_fonts_filters_sidebar.html"}}},1657:function(e,t,n){r.$inject=["DataService","NewrelicService"];var i=n(6);function r(e,t){var n=this;e.get("/font_filters_sidebar/i18n").then((function(e){n.i18n=e})),n.NewrelicService=t,n._filterSectionOpenStates={library:!0,classification:!0,"recommended-for":!0,properties:!0,tags:!0,languages:n.isSelectedLanguagesOpen()},n._displayTagsCount=n.getTags()?n.getTags().length:0,n._displayShowMore=!1,this.selectedLanguage=this.getSelectedLanguage()||"all",this.prioritizedLanguage=this.getPrioritizedLanguage()}r.prototype.clearFilters=function(){this.filtersModel().selectLanguageMode("all"),this.filtersModel().clearAll(),this.selectedLanguage="all",this.filtersModel().setShowPaidFonts(!1,!0),this.onFiltersChange()},r.prototype.getPrioritizedLanguage=function(){var e,t=this.filtersModel().getLocale();if(!t)return null;switch(t){case"zh_CN":e="zh-Hans";break;case"zh_TW":e="zh-Hant";break;default:e=t.split(/[-_]+/)[0]}return i.find(this.getLanguages(),(function(t){return t.value===e}))},r.prototype.getCurrentFilters=function(){return this.filtersModel()&&this.filtersModel().getFiltersForCurrentBrowseMode()},r.prototype.getDisplayMoreCount=function(){return this.getTags().length-this.getDisplayTagsCount()},r.prototype.getDisplayTagsCount=function(){return this._displayTagsCount},r.prototype.getFontDisplayData=function(e){return this.filtersModel()&&this.filtersModel().getFontDisplayData(e)},r.prototype.getIconUrlForFilter=function(e){return"#filter-icon-sprite-"+e.slug},r.prototype.getLanguages=function(){return this.filtersModel()&&this.filtersModel().getLanguages()},r.prototype.getSelectedLanguage=function(){if(this.filtersModel())return this.filtersModel().getSelectedLanguages().length>0?this.filtersModel().getSelectedLanguages()[0]:void 0},r.prototype.getStylesSliderLabel=function(e){return e.start===e.end?this.i18n["shared.adobe_fonts_filters_sidebar.number_of_styles_all"]:e.end>25?e.start+"\u201325+":e.start+"\u2013"+e.end},r.prototype.getTags=function(){return this.filtersModel()&&this.filtersModel().getTags()},r.prototype.handleAllClickForSection=function(e){this.filtersModel().clearSelectedFiltersForSection(e),this.onFiltersChange()},r.prototype.handleFilterClick=function(e){this.filtersModel().toggleFilter(e),this.onFiltersChange(),this.NewrelicService.addPageAction("typekit.browse.click",{filterName:e})},r.prototype.handleFilterRadioClick=function(e){this.filtersModel().selectFilter(e),this.onFiltersChange()},r.prototype.handleLanguageClick=function(e){this.filtersModel().toggleLanguage(e),this.onFiltersChange()},r.prototype.handleSectionToggleClick=function(e){this._filterSectionOpenStates[e]=!this._filterSectionOpenStates[e]},r.prototype.handleSelectedLanguageChange=function(){this.filtersModel().setSelectedLanguage(this.selectedLanguage),this.onFiltersChange(),this.onFiltersChange()},r.prototype.handleSelectedLanguageModeChange=function(){this.filtersModel().setSelectedLanguageMode(this.selectedLanguage),this.onFiltersChange()},r.prototype.handleShowPaidFontsChange=function(){this.filtersModel().setShowPaidFonts(!this.filtersModel().getShowPaidFonts(),!0),this.onFiltersChange()},r.prototype.handleStylesSliderChange=function(e){this.filtersModel().setMinStyles(e.start),this.filtersModel().setMaxStyles(e.end),this.onFiltersChange()},r.prototype.getMinStyles=function(){return this.filtersModel()&&this.filtersModel().getMinStyles()},r.prototype.getMaxStyles=function(){return this.filtersModel()&&this.filtersModel().getMaxStyles()},r.prototype.handleTagClick=function(e){this.filtersModel().toggleTag(e),this.onFiltersChange(),this.NewrelicService.addPageAction("typekit.browse.click",{tagName:e})},r.prototype.isAllSelectedForSection=function(e){return!this.filtersModel().isAnyFilterSelectedForSection(e)},r.prototype.isClearFiltersEnabled=function(){return this.filtersModel()&&this.filtersModel().isAnythingSelected()},r.prototype.isFilterSelected=function(e){return this.filtersModel().isFilterSelected(e)},r.prototype.isSectionOpen=function(e){return!!this._filterSectionOpenStates[e]},r.prototype.isSelectedLanguagesOpen=function(){return this.filtersModel()&&this.filtersModel().getSelectedLanguages().length>0},r.prototype.isShowPaidFontsSelected=function(){return this.filtersModel()&&this.filtersModel().getShowPaidFonts()},r.prototype.isLanguageSelected=function(e){return this.filtersModel().isLanguageSelected(e)},r.prototype.isLanguagesSectionVisible=function(){return this.filtersModel()&&"default"==this.filtersModel().getBrowseMode()},r.prototype.isLibrarySectionVisible=function(){return this.filtersModel()&&this.filtersModel().getShowLibraryOption()},r.prototype.isGrouped=function(e){return"group"==e.type},r.prototype.isTagSelected=function(e){return this.filtersModel().isTagSelected(e)},r.prototype.isTagsSectionVisible=function(){return this.filtersModel()&&this.filtersModel().isTagsModuleVisible()},r.prototype.shouldDisplayShowLess=function(){return!this._displayShowMore},r.prototype.shouldDisplayShowMore=function(){return this._displayShowMore&&this.getDisplayMoreCount()>0},r.prototype.shouldDisplayStylesSlider=function(e){return"properties"===e.name},r.prototype.shouldShowDisplayFont=function(e){return Boolean(e.font)&&this.filtersModel()&&"ru_RU"!==this.filtersModel().getLocale()},r.prototype.toggleShowMore=function(){6===this._displayTagsCount?(this._displayTagsCount=this.getTags().length,this._displayShowMore=!1):(this._displayTagsCount=6,this._displayShowMore=!0)},e.exports=r},1658:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{exampleText:"=",textSampleData:"&",fonts:"="},controller:n(1659),controllerAs:"fontVariationListCtrl",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/adobe_fonts_font_variation_list.html"}}},1659:function(e,t){n.$inject=["$element","$scope","$timeout","FontLoaderService"];function n(e,t,n,i){var r=this;r.viewType="list",r.FontLoaderService=i,r.currentPage=1,r.fontsPerPage=12,r.$element=e,r.$scope=t,r.$timeout=n,t.$watch((function(){return r.fonts}),(function(e,t){e!==t&&(r.totalPages=Math.ceil(r.fonts.length/r.fontsPerPage),r.handlePageNumberChange())})),r.$element.on("pagination-change",(function(e){r.currentPage=e.detail.page,r.handlePageNumberChange()}))}n.prototype.fontVariationCardsClass=function(){return"grid"===this.viewType?"font-variations-grid-view":"font-variation-list"},n.prototype.updateFonts=function(){this.FontLoaderService.updateFonts(this.exampleText.value)},n.prototype.familyLink=function(e){return"/fonts/"+e.family.slug},n.prototype.handlePageNumberChange=function(){var e=this,t=e.currentPage*e.fontsPerPage-e.fontsPerPage,n=e.currentPage*e.fontsPerPage;e.visibleFonts=e.fonts.slice(t,n),e.$timeout((function(){e.$scope.$apply()}),1)},e.exports=n},1660:function(e,t,n){i.$inject=["$document"];function i(e){return{scope:{},bindToController:{sampleTextData:"=",warnNonDefaultCharacterSets:"=?"},controller:n(1661),controllerAs:"pangramMenu",require:["adobeFontsPangramMenu","ngModel"],link:function(n,i,r,o){var a=o[0];a.ngModel=o[1],a.userEnteredTextArea=i[0].querySelector(".adobe-fonts-pangram-menu__text"),a.listOptions=i[0].querySelector(".adobe-fonts-pangram-menu__list"),a.popover=i[0].querySelector(".adobe-fonts-pangram-menu__menu-popover"),a.openMenuButton=i[0].querySelector(".adobe-fonts-pangram-menu__open-button"),a.ngModel.$render=function(){a.userEnteredText=a.ngModel.$viewValue},function(n,i,r){e.on("click",(function(e){t(i[0],e.target)||n.$apply((function(){r._closeMenu()}))})),e.on("keyup",(function(e){27==e.keyCode&&n.$apply((function(){r._closeMenu()}))}))}(n,i,a)},replace:!0,restrict:"E",templateUrl:"/angular_templates/directives/adobe_fonts_pangram_menu.html",transclude:!0};function t(e,n){return n==e||!!n.parentNode&&t(e,n.parentNode)}}e.exports=i},1661:function(e,t,n){o.$inject=["$window","DataService","NewrelicService","NotificationService"];var i=n(184),r=n(197);function o(e,t,n,i){var o=this;o.$window=e,o.DataService=t,o.NewrelicService=n,o.NotificationService=i,o.isOpen=!1,o.i18n={};var a=r.parseUnicodeRange(o.sampleTextData.textSamples.en.unicode_range).toRegExp();o.allowedCharset=new RegExp(a+"+"),o.DataService.get("/neue/i18n").then((function(e){o.i18n=e}))}o.prototype.handleEnterYourOwnClick=function(e){"Enter"!==e.key&&"click"!=e.type||(this._closeMenu(),this.userEnteredTextArea.focus(),this.userEnteredTextArea.select())},o.prototype.handleInputBlur=function(){this.$window.dispatchEvent(new Event("sample-text.blur"))},o.prototype.handleInputFocus=function(){this.$window.dispatchEvent(new Event("sample-text.focus"))},o.prototype.handleItemClick=function(e){this.ngModel.$setViewValue(e),this.userEnteredText=e,this._closeMenu(),this.NewrelicService.addPageActionWithDelay("typekit.ui.sampleChanged",{text:e},3e3)},o.prototype.handleSampleChanged=function(){this.warnNonDefaultCharacterSets&&this.userEnteredText.replace(this.allowedCharset,"")&&this.NotificationService.error(this.i18n["frontend.browse_sample_text.characters_not_allowed"],{timeout:1e4}),this.ngModel.$setViewValue(this.userEnteredText),this.NewrelicService.addPageActionWithDelay("typekit.ui.sampleChanged",{text:this.ngModel.$viewValue},3e3)},o.prototype.handleMenuButton=function(){this.isOpen=!this.isOpen,this.popover.ariaExpanded=this.isOpen?"true":"false"},o.prototype.isItemSelected=function(e){return e==this.ngModel.$viewValue},o.prototype._closeMenu=function(){this.popover.ariaExpanded="false",this.isOpen=!1},o.prototype.navigateOptions=function(e){if("Escape"===e.key||"Tab"===e.key)return this.handleMenuButton();i.navigateDropdown(e,this.openMenuButton,this.listOptions)},o.prototype.isOptionDisabled=function(){return!this.isOpen},e.exports=o},1662:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{newrelicActionSource:"@",displayView:"@"},controller:n(1663),controllerAs:"fontpackCardListController",restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_fontpack_card_list.html"}}},1663:function(e,t){n.$inject=["$q","$element","$http","DataService","FontpackService","ScrollService","UrlService"];function n(e,t,n,i,r,o,a){var s=this;s.$q=e,s.$element=t,s.$http=n,s.DataService=i,s.FontpackService=r,s.ScrollService=o,s.UrlService=a,s._preloadData(),s.$element.on("pagination-change",(function(e){s.currentPage=e.detail.page,s.handlePageNumberChange()}))}n.prototype.fontpackItemClass=function(e){return"collection-item"+("draft"===e.status?" collection-item-draft":"")},n.prototype._preloadData=function(){var e=this;return e.$q.all([e.DataService.get("/neue/fontpack_items").then((function(t){e.fontpacks=t.fontpacks,e.FontpackService.addFontpacks(e.fontpacks),e.currentPage=t.currentPage,e.totalPages=t.totalPages}))])},n.prototype.handlePageNumberChange=function(){var e=this;e.$http.get("/collections.json",{params:{page:e.currentPage}}).then((function(t){e.fontpacks=t.data.fontpacks,e.FontpackService.clearFontpacks(),e.FontpackService.addFontpacks(e.fontpacks)})),e.UrlService.updateSearchParams({page:e.currentPage}),e.ScrollService.scrollUpTo(e.$element[0],500)},n.prototype.isEmpty=function(){return!this.fontpacks||this.fontpacks.length<1},e.exports=n},1664:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{newrelicActionSource:"=",fontpackItem:"="},controller:n(1665),controllerAs:"fontpackCardCtrl",restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_fontpack_card.html"}}},1665:function(e,t){function n(e,t){var n=this;n.$q=e,n.DataService=t,n._preloadData()}n.$inject=["$q","DataService"],n.prototype.fontpackCardImageStyle=function(e){return{"background-image":'url("'+(e.thumbnail_url||"/thumbnails/original/missing.png")+'")'}},n.prototype._preloadData=function(){var e=this;return e.$q.all([e.DataService.get("/neue/fontpack_items").then((function(t){e.fontpacks=t.fontpacks})),e.DataService.get("/fontpack_items/i18n").then((function(t){e.i18n=t}))])},e.exports=n},1666:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{familyName:"=",imageItemsData:"=",displayView:"@"},controller:n(1667),controllerAs:"fontImageCardListController",restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_family_image_card_list.html"}}},1667:function(e,t,n){var i=n(416);function r(){}r.prototype._familyImageClass=function(){return 1===this.imageItemsData.length?"adobe-fonts-family-image-card-box-single-image":2===this.imageItemsData.length?"adobe-fonts-family-image-card-box-double-image":"adobe-fonts-family-image-card-box-multiple-image"},r.prototype.familyImageContainerClass=function(){return 1===this.imageItemsData.length?"adobe-font-family-image-card-list-layout":""},r.prototype.cardListMargin=function(){return"family-carousel"===this.displayView?"adobe-fonts-family-image-card-family-list-margin":"adobe-fonts-family-image-card-list-margin"},r.prototype.layoutClass=function(){return"family-carousel"===this.displayView?this._familyImageClass():"adobe-fonts-family-image-card-view"},r.prototype.getImageClass=function(e){return i.getImageClass(e)},e.exports=r},1668:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{familyName:"=",imageItem:"=",displayView:"@",itemSize:"@"},controller:n(1669),controllerAs:"fontImageCardCtrl",restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_family_image_card.html"}}},1669:function(e,t){function n(){}n.prototype.familyImageClass=function(){return"family-carousel"===this.displayView&&this.itemSize<=2?"adobe-fonts-family-image-card--image-family-view":"adobe-fonts-family-image-card--image"},n.prototype.familyImageContainerClass=function(){if("family-carousel"===this.displayView)return this.itemSize>2?"adobe-fonts-family-image-card--container-list":"adobe-fonts-family-image-card--container-list-fewer-images"},e.exports=n},1670:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/font_display_options.html",scope:{},bindToController:{tkWebProjectCardModel:"=",tkWebProjectFamilyCardModel:"="},controller:n(1671),controllerAs:"fontDisplayOptionsCtrl"}}},1671:function(e,t){function n(){this.tkffData=this.tkWebProjectFamilyCardModel.getTkffData(),this.fontDisplayOptions=["auto","block","swap","fallback","optional"],-1===this.fontDisplayOptions.indexOf(this.tkffData.font_display)&&(this.tkffData.font_display="auto"),this.selectedFontDisplay=this.tkffData.font_display}n.prototype.handleFontDisplayClick=function(e){this.tkWebProjectCardModel.setIsModified(!0),this.selectedFontDisplay=e,this.tkffData.font_display=e},n.prototype.isButtonChecked=function(e){return this.selectedFontDisplay===e},e.exports=n},1672:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{families:"=",i18n:"&",textSampleData:"&",isActiveFontsView:"&",loadMoreFamilies:"&"},controller:n(1673),controllerAs:"fontFamilyAccordionCtrl",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/font_family_accordion.html"}}},1673:function(e,t,n){r.$inject=["$scope","AuthenticationService","I18nService","FontCountService","NewrelicService","NotificationService","SyncService"];var i=n(6);function r(e,t,n,i,r,o,a){var s=this;s.$scope=e,s.AuthenticationService=t,s.I18nService=n,s.FontCountService=i,s.NewrelicService=r,s.NotificationService=o,s.SyncService=a,s._init(),s.$scope.$watch((function(){return s.families}),(function(){s._init()}))}r.prototype.loadMoreFamilies=function(){this.loadMoreFamilies()},r.prototype.handleFontVariationSyncButtonClick=function(e){var t=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_font",{font_variation_id:e.id}).then((function(){t.isActiveFontsView()?t._removeSyncedVariation(e):t._addSyncedVariation(e)}))},r.prototype.handleFamilySyncButtonClick=function(e){var t=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_family",{slug:e.slug}).then((function(){t.isActiveFontsView()?t._removeSyncedFamily(e):t._addSyncedFamily(e)}))},r.prototype.familyLink=function(e){return"/fonts/"+e.slug},r.prototype.isSelectedVariation=function(e){return this.selectedFont&&this.selectedFont.id===e.id},r.prototype.isSelectedFamily=function(e){return this.selectedFamily&&this.selectedFamily.slug===e.slug},r.prototype.isCollapsed=function(e){return!!e.isCollapsed},r.prototype.toggleAccordion=function(e){e.isCollapsed=!e.isCollapsed},r.prototype.handleFamilyRowClick=function(e){this.selectedFont=e.fonts[0],this.selectedFamily=e},r.prototype.handleFontVariationRowClick=function(e,t){this.selectedFont=e,this.selectedFamily=t},r.prototype.handleNextButtonClick=function(){var e=this._selectedFontFamilyIndex(),t=this._selectedFontIndex(),n=this._selectedFontFamily();this._memoizeIndices(t,e),++t<n.fonts.length?(this.selectedFont=n.fonts[t],this._memoizeIndices(t,e)):++e<this.families.length&&(this.selectedFamily=this.families[e],this.selectedFont=this.selectedFamily.fonts[0],this._memoizeIndices(0,e))},r.prototype.handlePreviousButtonClick=function(){var e=this._selectedFontFamilyIndex(),t=this._selectedFontIndex();if(this._memoizeIndices(t,e),--t>=0)this.selectedFont=this._selectedFontFamily().fonts[t],this._memoizeIndices(t,e);else if(--e>=0){this.selectedFamily=this.families[e];var n=this.selectedFamily.fonts.length-1;this.selectedFont=this.selectedFamily.fonts[n],this._memoizeIndices(n,e)}},r.prototype.isExpired=function(e){var t=e.font;if(t&&t.sync)return!!t.sync.install_state&&i.contains(t.sync.install_state.split(","),"cc")},r.prototype.reactivate=function(e){var t=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_font",{font_variation_id:e.id}).then((function(){t._reactivateVariation(e)}))},r.prototype.getActionName=function(){return this.isActiveFontsView()?this.I18nService.getMessage(this.i18n(),"my_fonts.accordion_heading.deactivate"):this.I18nService.getMessage(this.i18n(),"my_fonts.accordion_heading.activate")},r.prototype.isMouseOverReinstallIcon=function(e){return e.isMouseOverReinstallIcon},r.prototype.handleReinstallIconMouseOver=function(e){e.isMouseOverReinstallIcon=!0},r.prototype.handleReinstallIconMouseLeave=function(e){e.isMouseOverReinstallIcon=!1},r.prototype.hasVariableFonts=function(e){return i.any(e.fonts,(function(e){return e.is_variable_font}))},r.prototype._reactivateVariation=function(e){var t,n=this;n.NewrelicService.addPageAction("typekit.my-fonts-page.click.reinstall-button",{variationId:e.id}),n.SyncService.addSyncedVariations([e.id]).then((function(r){if("data"in r&&r.data.added_font_ids.indexOf(e.id)>-1){var o=i.findWhere(n.families,{slug:e.family.slug});i.findWhere(o.fonts,{id:e.id}).font.sync.install_state="os"}else t=!0}),(function(){t=!0})),t&&n.NotificationService.error(n.I18nService.getMessage(n.i18n(),"neue.browse.family_card.error_occurred_activating_fonts"))},r.prototype._removeSyncedFamily=function(e){var t=this,n=e.fonts;t.NewrelicService.addPageAction("typekit.click.unsync-all-button",{family:e.name}),t.SyncService.removeSyncedVariations(i.pluck(n,"id")).then((function(r){var o,a=[];n.forEach((function(e){"data"in r&&r.data.removed_font_ids.indexOf(e.id)>-1?a.push(e.id):o=!0})),t.FontCountService.updateActivatedFontsCount(-a.length),o?(t.NotificationService.error(t.I18nService.getMessage(t.i18n(),"neue.browse.family_card.error_occurred_deactivating_some_fonts")),e.fonts=i.filter(n,(function(e){return!i.contains(a,e.id)}))):(a.length>1?t.NotificationService.success(t.I18nService.getMessage(t.i18n(),"neue.browse.family_card.fonts_deactivated_action.other",{count:a.length})):t.NotificationService.success(t.I18nService.getMessage(t.i18n(),"neue.browse.family_card.fonts_deactivated_action.one")),t._removeFamily(e),t.FontCountService.updateFamiliesCount(-1)),t.isSelectedFamily(e)&&t._removeSelections()}),(function(){t.NotificationService.error(t.I18nService.getMessage(t.i18n(),"neue.browse.family_card.error_occurred_deactivating_fonts"))}))},r.prototype._addSyncedFamily=function(e){var t=this,n=e.fonts;t.NewrelicService.addPageAction("typekit.click.sync-all-button",{family:e.name}),t.SyncService.addSyncedVariations(i.pluck(n,"id")).then((function(r){var o,a=[];n.forEach((function(e){"data"in r&&r.data.added_font_ids.indexOf(e.id)>-1?a.push(e.id):o=!0})),t.FontCountService.updatePreviouslyActivatedFontsCount(-a.length),o?(t.NotificationService.error(t.I18nService.getMessage(t.i18n(),"neue.browse.family_card.error_occurred_activating_some_fonts")),e.fonts=i.filter(n,(function(e){return!i.contains(a,e.id)}))):(a.length>1?t.NotificationService.success(t.I18nService.getMessage(t.i18n(),"neue.browse.family_card.fonts_activated_action.other",{count:a.length})):t.NotificationService.success(t.I18nService.getMessage(t.i18n(),"neue.browse.family_card.fonts_activated_action.one")),t._removeFamily(e),t.FontCountService.updateFamiliesCount(-1)),t.isSelectedFamily(e)&&t._removeSelections()}),(function(){t.NotificationService.error(t.I18nService.getMessage(t.i18n(),"neue.browse.family_card.error_occurred_activating_fonts"))}))},r.prototype._selectedFontFamilyIndex=function(){var e=this;return e.selectedFont.familyIndex||i.findIndex(e.families,{slug:e.selectedFont.family.slug})},r.prototype._selectedFontFamily=function(){return this.families[this._selectedFontFamilyIndex()]},r.prototype._selectedFontIndex=function(){var e=this;return e.selectedFont.variationIndex||i.findIndex(e._selectedFontFamily().fonts,{id:e.selectedFont.id})},r.prototype._memoizeIndices=function(e,t){this.selectedFont.familyIndex=t,this.selectedFont.variationIndex=e},r.prototype._removeSyncedVariation=function(e){var t=this;t.NewrelicService.addPageAction("typekit.click.unsync-button"),t.SyncService.removeSyncedVariations([e.id]).then((function(){t.FontCountService.updateActivatedFontsCount(-1),t._removeVariationFromFontFamilyList(e)}))},r.prototype._addSyncedVariation=function(e){var t=this;t.NewrelicService.addPageAction("typekit.click.sync-button"),t.SyncService.addSyncedVariations([e.id]).then((function(){t.FontCountService.updatePreviouslyActivatedFontsCount(-1),t._removeVariationFromFontFamilyList(e)}))},r.prototype._removeVariationFromFontFamilyList=function(e){var t=this,n=i.findIndex(t.families,{slug:e.family.slug}),r=t.families[n];r.fonts=i.without(r.fonts,e),0===r.fonts.length&&(t._removeFamily(r),t.FontCountService.updateFamiliesCount(-1)),t.isSelectedVariation(e)&&t._removeSelections()},r.prototype._removeSelections=function(){this.selectedFont=null,this.selectedFamily=null},r.prototype._removeFamily=function(e){this.families=i.without(this.families,e),this.isFamilyRemovedFromList=!0},r.prototype._init=function(){if(this.isFamilyRemovedFromList)this.isFamilyRemovedFromList=!1;else{this.selectedFamily=this.families[0];var e=this.selectedFamily.fonts[0];e.isFirst=!0,this.selectedFont=e;var t=this.families[this.families.length-1];t.fonts[t.fonts.length-1].isLast=!0}},e.exports=r},1674:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{textSamples:"&",onNext:"&",onPrevious:"&",font:"="},controller:n(1675),controllerAs:"fontPreviewCtrl",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/font_preview.html"}}},1675:function(e,t){function n(){this.exampleText={size:36}}n.prototype.getExampleTextStyle=function(){return{fontSize:this.exampleText.size+"px"}},n.prototype.getExampleText=function(){var e=this.textSamples()[this.font.default_language];return this.exampleText.value=e.kana_only?e.list_kana:e.list,this.exampleText},n.prototype.getFontDisplayData=function(){var e=this.textSamples(),t=e[this.font.default_language].unicode_range,n=e[this.font.default_language].feature_settings,i=e[this.font.default_language].kana_only||!1;return{cssName:this.font.family.web_id+"-"+this.font.font.web.fvd,fvd:this.font.font.web.fvd,isDynamic:!0,opaqueId:this.font.family.web_id,unicodeRange:t,featureSettings:n,kanaOnly:i}},n.prototype.getTextDirectionClass=function(){return this.font.rtl?"sample-right":""},n.prototype.handlePreviousButtonClick=function(){this.onPrevious()},n.prototype.handleNextButtonClick=function(){this.onNext()},e.exports=n},1676:function(e,t){e.exports=function(){return{scope:{showUpgradeToggle:"&",upgradeSelected:"&?",changeRequiredActionToggle:"&onChangeRequiredActionToggle"},restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/required_action_toggle.html",link:function(e){var t=e.upgradeSelected();e.toggleUpgradeAction=function(){var n;n={upgrade:!!(t=!t)},e.changeRequiredActionToggle({filteredActions:n})},e.isUpgradeSelected=function(){return e.showUpgradeToggle()&&t}}}}},1677:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{cardType:"@",showCarousel:"@",exampleText:"&",similarTo:"&",family:"=",familyTemplates:"&",textSamplePrimers:"=",textSamples:"&",noBackground:"&",isPreviouslyActiveView:"&",recommendationIndex:"&",selectedTag:"&",viewType:"&"},controller:n(1678),controllerAs:"familyCard",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/family_card.html",link:function(e){e.$watch("familyCard.familyTemplates()",(function(t){e.familyCard.createCCXSpecimenCards(t)}),!0)}}}},1678:function(e,t,n){o.$inject=["$element","$timeout","$window","AddFontsToWebProjectService","AuthenticationService","DataService","DialogService","FavoritesService","FirstMileService","FontCountService","FontLoaderService","NewrelicService","NotificationService","FamiliesService","RedirectContextService","SyncService"];var i=n(6),r=n(416);function o(e,t,n,i,r,o,a,s,c,l,u,d,f,p,h,m){var g=this;g.$element=e,g.$timeout=t,g.$window=n,g.AddFontsToWebProjectService=i,g.AuthenticationService=r,g.DataService=o,g.DialogService=a,g.FamiliesService=p,g.FavoritesService=s,g.FontCountService=l,g.FontLoaderService=u,g.FirstMileService=c,g.NewrelicService=d,g.NotificationService=f,g.RedirectContextService=h,g.SyncService=m,g.DataService.get("/neue/i18n").then((function(e){g.i18n=e})),g._handleContext()}o.prototype.isAvailableForWeb=function(){return i.some(this.family.fonts,(function(e){var t=((e.font||{}).web||{}).required_action;return!!t&&i.isEmpty(t)}))},o.prototype.getCardType=function(){return this.cardType||"responsive"},o.prototype.getDisplayFont=function(){var e=this.textSamples(),t=e[this.family.display_font.default_language].unicode_range,n=e[this.family.display_font.default_language].feature_settings;return{cssName:this.family.display_font.family.web_id+"-"+this.family.display_font.font.web.fvd,fvd:this.family.display_font.font.web.fvd,isDynamic:!0,opaqueId:this.family.display_font.family.web_id,unicodeRange:t,featureSettings:n}},o.prototype.getTemplates=function(){return this.familyTemplates()&&this.familyTemplates().slice(0,1)},o.prototype.getSampleTextClass=function(){var e=[];return this.family.display_font.rtl&&e.push("sample-right"),this.noBackground()&&e.push("adobe-fonts-family-card__no-background"),e.join(" ")},o.prototype.getTextDirectionClass=function(){return this.family.display_font.rtl?"sample-right":""},o.prototype.getCarouselListClass=function(){return this.family.specimen_images_data.length>2?"adobe-fonts-family-card__carousel-list":""},o.prototype.getSlidesForGrid=function(){var e=[];return this.family.specimen_images_data&&this.family.specimen_images_data.length>0&&(e=this.family.specimen_images_data.slice(0)).push("TextSlide"),e},o.prototype.isTextSlide=function(e){return"TextSlide"===e},o.prototype.getSlideLengthForGrid=function(){return this.family.specimen_images_data&&this.family.specimen_images_data.length>0?this.family.specimen_images_data.length+1:0},o.prototype.getExampleText=function(){var e="list";null!=this.family.filters&&this.family.filters.indexOf("ka:ko")>=0&&(e+="_kana");var t=this.exampleText(),n=t&&t.value?t.value:this.textSamples()[this.family.display_font.default_language][e];return"en"!=this.family.display_font.default_language&&this.FontLoaderService.updateFonts(n),n},o.prototype.getCountMessages=function(){return this.family.card_state.count_messages.join(" \u2022 ")},o.prototype.getMessage=function(e,t){var n=1===t?"one":"other";return this.i18n["neue.browse.family_card"][e][n].replace("%{count}",t)},o.prototype.isCarouselVisible=function(){return this.family.specimen_images_data&&this.family.specimen_images_data.length>0&&"true"===this.showCarousel},o.prototype.getCardInfoClass=function(){if("true"===this.showCarousel&&(!this.family.specimen_images_data||0===this.family.specimen_images_data.length))return"adobe-fonts-family-card__info_with_image"},o.prototype.getCardContainerClass=function(){return this.isCarouselVisible()?"adobe-fonts-family-card--grid-view-with-carousel":"adobe-fonts-family-card--grid-view"},o.prototype.handleFamilyCardClick=function(){this.NewrelicService.addPageAction("typekit.family_card.click",{selectedTag:this.selectedTag(),slug:this.family.slug})},o.prototype.hasVariableFonts=function(){return i.any(this.family.fonts,(function(e){return e.is_variable_font}))},o.prototype.hasUnsyncedFontpacks=function(){return!!this.family.unsynced_fontpacks&&this.family.unsynced_fontpacks.length>0},o.prototype.isToggleOn=function(){return this.family.card_state.toggle_control&&!0===this.family.card_state.toggle_control.value},o.prototype.showToggle=function(){return this.family.card_state.toggle_control&&null!==this.family.card_state.toggle_control.value},o.prototype.toggleMessage=function(){if(this.family.card_state.toggle_control)return this.family.card_state.toggle_control.message},o.prototype.getExampleTextStyle=function(){var e=this.exampleText();return{fontSize:(e&&e.size?e.size:36)+"px"}},o.prototype.getFontCount=function(){return this.family.total_font_count},o.prototype.favoriteToggleClass=function(){return this.family.favorite?"favorite-toggle-icon on":"favorite-toggle-icon"},o.prototype.syncableFonts=function(){return i.filter(this.family.fonts,(function(e){return"sync"in e.font&&0===e.font.sync.required_action.length}))},o.prototype.isAddFamilyButtonAvailable=function(){return!this.isAllSynced(this.syncableFonts())},o.prototype.isRemoveButtonAvailable=function(){return this.isAllSynced(this.syncableFonts())},o.prototype.isAllSynced=function(e){var t=this.syncedFonts(e).length;return t>0&&t===e.length},o.prototype.syncedFonts=function(e){return i.filter(e,(function(e){return"sync"in e.font&&(e.font.sync.is_selected||e.font.sync.install_state.includes("os")||e.font.sync.install_state.includes("cc"))}))},o.prototype.favoriteToggle=function(e){e.preventDefault();var t=this;this.family.favorite?t.FavoritesService.delete(this.family.slug).then((function(){t.family.favorite=!1}),(function(e){t.NotificationService.error(e.data.error)})):t.FavoritesService.post(this.family.slug).then((function(){t.family.favorite=!0}),(function(e){t.NotificationService.error(e.data.error)}))},o.prototype.handleCodeButtonClick=function(e){e&&e.preventDefault(),this.AddFontsToWebProjectService.addFamilyToWebProjectWithAuthentication(this.family.slug)},o.prototype.toggleFamilySync=function(e){e&&e.preventDefault(),this.showToggle()&&(this.isToggleOn()?this.unsyncFamily():this.syncFamily())},o.prototype.useModelSyncFamily=function(){this.syncFamily(!0)},o.prototype.syncFamily=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_family",{slug:t.family.slug}).then((function(){t.NewrelicService.addPageAction("typekit.click.sync-family-button",{family:t.family.name,useModelEnabled:e});var n=i.pluck(t._deactivatedAvailableDesktopFonts(),"id");t.SyncService.addSyncedVariations(n).then((function(r){i.difference(n,r.data.added_font_ids).length>0?e?t.NotificationService.error(t.i18n["neue.browse.family_card"].error_occurred_adding_some_fonts,{actionLabel:t.i18n["neue.browse.family_card"].try_again,callbackAction:function(){t.syncFamily(e)}}):t.NotificationService.error(t.i18n["neue.browse.family_card"].error_occurred_activating_some_fonts):e?t._handleUseModelFamilySyncSuccess(r):t._handleFamilySyncSuccess(r)}),(function(){e?t.NotificationService.error(t.i18n["neue.browse.family_card"].error_occurred_adding_some_fonts,{actionLabel:t.i18n["neue.browse.family_card"].try_again,callbackAction:function(){t.syncFamily(e)}}):t.NotificationService.error(t.i18n["neue.browse.family_card"].error_occurred_activating_some_fonts)}))}))},o.prototype.useModelUnsyncFamily=function(){var e=this;e.FirstMileService.shouldShowRemoveFamilyConfirmationDialog().then((function(t){if(t){var n=e.i18n["neue.browse.family_card"].remove_family_confirmation_header,i=e.i18n["neue.browse.family_card"].remove_family_confirmation_description;return e.FirstMileService.showRemoveFamilyConfirmationDialog(n,i,(function(){e.useModelRemoveFamily()}))}e.useModelRemoveFamily()}))},o.prototype.useModelRemoveFamily=function(){var e=this;e.NewrelicService.addPageAction("typekit.click.unsync-family-button",{family:e.family.name,useModelEnabled:!0});var t=i.pluck(e._activatedDesktopFonts(),"id");e.SyncService.removeSyncedVariations(t).then((function(n){i.difference(t,n.data.removed_font_ids).length>0?e.NotificationService.error(e.i18n["neue.browse.family_card"].error_occurred_removing_some_fonts,{actionLabel:e.i18n["neue.browse.family_card"].try_again,callbackAction:function(){e.useModelRemoveFamily()}}):(e._markFontsAsDeactivated(),e.FontCountService.updateActivatedFontsCount(-n.data.removed_font_ids.length),e.NotificationService.notice(e.i18n["neue.browse.family_card"].fonts_removed_success_message))}),(function(){e.NotificationService.error(e.i18n["neue.browse.family_card"].error_occurred_removing_fonts,{actionLabel:e.i18n["neue.browse.family_card"].try_again,callbackAction:function(){e.useModelRemoveFamily()}})}))},o.prototype.unsyncFamily=function(){var e=this;e.NewrelicService.addPageAction("typekit.click.unsync-family-button",{family:e.family.name,useModelEnabled:!1});var t=i.pluck(e._activatedDesktopFonts(),"id");e.SyncService.removeSyncedVariations(t).then((function(n){i.difference(t,n.data.removed_font_ids).length>0?e.NotificationService.error(e.i18n["neue.browse.family_card"].error_occurred_deactivating_some_fonts):(e._markFontsAsDeactivated(),e._updateToggleControl(!1,e.i18n["neue.browse.family_card"].activate_fonts),e.FontCountService.updateActivatedFontsCount(-n.data.removed_font_ids.length),e.NotificationService.success(e.getMessage("fonts_deactivated_action",n.data.removed_font_ids.length)))}),(function(){e.NotificationService.error(e.i18n["neue.browse.family_card"].error_occurred_deactivating_fonts)}))},o.prototype.createCCXSpecimenCards=function(e){if(e){var t=this;requestAnimationFrame((function(){t.$element[0].querySelectorAll(".ccx-specimen-card-container").forEach((function(t,n){var i=e[n],r=document.createElement("af-ccx-specimen-card");r.templateLink=i.templateLink,r.fontsInfo=i.fonts,r.templateDimensions=i.templateDimensions,r.imageMode=!0,r.premium=i.premium,r.fitMode="constantHeightAndWidth";var o=document.createElement("img");o.src=i.src,r.appendChild(o),t.appendChild(r)}))}))}},o.prototype._activatedDesktopFonts=function(){return i.filter(this.family.fonts,(function(e){var t=(e.font||{}).sync||{};return!!t&&(t.is_selected||!!t.install_state&&i.contains(t.install_state.split(","),"cc"))}))},o.prototype._deactivatedAvailableDesktopFonts=function(){return i.filter(this.family.fonts,(function(e){var t=(e.font||{}).sync||{};return!!t.required_action&&i.isEmpty(t.required_action)&&!t.is_selected}))},o.prototype._markFontsAsActivated=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;i.each(t._deactivatedAvailableDesktopFonts(),(function(t){e?t.font.sync.install_state="cc":t.font.sync.is_selected=!0}))},o.prototype._markFontsAsDeactivated=function(){i.each(this._activatedDesktopFonts(),(function(e){e.font.sync.is_selected=!1,e.font.sync.install_state=""}))},o.prototype._handleContext=function(){return this.RedirectContextService.handleContext()},o.prototype._handleUseModelFamilySyncSuccess=function(e){var t=this;t._markFontsAsActivated(!0),t.FontCountService.updateActivatedFontsCount(e.data.added_font_ids.length),t.FirstMileService.onUseModelFontActivation(t.i18n,{queryParams:{familyName:t.family.name}})},o.prototype._handleFamilySyncSuccess=function(e){var t=this;t._markFontsAsActivated(),t._updateToggleControl(!0,t.getMessage("fonts_active_count",e.data.added_font_ids.length)),t.FontCountService.updateActivatedFontsCount(e.data.added_font_ids.length),t.FirstMileService.shouldShowFontActivationDialog().then((function(n){if(n)return t.FirstMileService.showFontActivationDialog();t.NotificationService.success(t.getMessage("fonts_activated_action",e.data.added_font_ids.length))}))},o.prototype._updateToggleControl=function(e,t){this.family.card_state.toggle_control={value:e,message:t}},o.prototype.getImageClass=function(e){return r.getImageClass(e)},o.prototype.hasSimilarTo=function(){return this.similarTo()&&this.similarTo().length>0},o.prototype.similarToHasFile=function(){return this.similarTo()&&"object"===typeof this.similarTo()[0]&&!!this.similarTo()[0].link},o.prototype.download=function(e){var t=this;t.DialogService.show("/angular_templates/dialogs/gpt_search_file_downloading.html").then((function(n){fetch(e.link).then((function(e){if(!e.ok)return e.json().then((function(e){alert(e.error),n.close()}));var i=e.headers.get("Content-Disposition").match(/filename="([^"]*)"/)[1];return e.blob().then((function(e){var r=t.$window.URL.createObjectURL(e),o=document.createElement("a");o.href=r,o.download=i,document.body.appendChild(o),o.click(),t.$window.URL.revokeObjectURL(r),n.close()}))}))}))},e.exports=o},1679:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{filtersModel:"&",onUserPrefsChange:"&",showNoAccessOnEmptyState:"&",textSampleData:"&",noBackground:"&",showCarousel:"@",disableSort:"&",isPreviouslyActiveView:"&",preloadedSortModes:"&",showReturnToFirstPage:"&"},controller:n(1680),controllerAs:"filteredFamilyList",require:["filteredFamilyList","ngModel"],link:function(e,t,n,i){var r=i[0],o=i[1];r.ngModel=o},restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/filtered_family_list.html"}}},1680:function(e,t,n){a.$inject=["$scope","$element","DataService","FilteredFamilyListStateService","ScrollService","UserPrefsService"];var i=n(6),r=n(19),o={grid:"filtered-family-list--grid-view",list:"filtered-family-list--wide-view"};function a(e,t,n,o,a,s){var c=this;c.$scope=e,c.$element=t,c.DataService=n,c.FilteredFamilyListStateService=o,c.ScrollService=a,c.UserPrefsService=s,c.handleDataChange=i.debounce(r.bind(this,this._handleDataChange),0),c.selectedSort=this.filtersModel().getSortOrder(),c._loadSortModes(),c.DataService.get("/families/i18n").then((function(e){c.i18n=e})),c._initWebComponentPagination(),c._initImagesToggle()}a.prototype.familyCount=function(){if(this.getViewValue().familyCountMessage){var e=this.getViewValue().familyCountMessage.message,t=this.getViewValue().familyCountMessage;return this.i18n["neue.browse.family_counts"][e].replace("%{total_families}",t.total_families).replace("%{more_families_in_cc}",t.more_families_in_cc)}},a.prototype.resetAllFilters=function(){this.filtersModel().clearAll(),this.handleDataChange()},a.prototype.getContainerClasses=function(){var e=[this.getViewTypeClass()];return this.isJapaneseOnlyFamily()&&e.push("filtered-family-list--japanese-only"),e},a.prototype.getFamilyTemplates=function(e){return this.getViewValue().familyTemplates[e.display_font.preferred_family_name]},a.prototype.getSelectedTag=function(){return this.filtersModel().isLoading()?null:this.filtersModel().getSelectedTag()},a.prototype.getViewTypeClass=function(){return o[this.getViewValue().selectedViewType]},a.prototype.getViewValue=function(){return(this.ngModel||{}).$viewValue||{}},a.prototype.handleFontSizeChange=function(){this._handleUserPrefsChange(),this._hideImages()},a.prototype.handlePageNumberChange=function(){this.handleDataChange(),this.ScrollService.scrollUpTo(this.$element[0],500)},a.prototype.handleChangeToFirstPage=function(){this.getViewValue().currentPage=1,this.handlePageNumberChange()},a.prototype.handlePangramMenuChange=function(){this._handleUserPrefsChange(),this._hideImages()},a.prototype.handleSortChange=function(){this.filtersModel().setSortOrder(this.selectedSort),this.handleDataChange()},a.prototype.handleViewTypeChange=function(){this._handleUserPrefsChange()},a.prototype.isEmpty=function(){return!this.getViewValue().families||this.getViewValue().families.length<1},a.prototype.isLastPage=function(){return 1!==this.getViewValue().totalPages&&(this.showReturnToFirstPage()&&this.getViewValue().currentPage>=this.getViewValue().totalPages)},a.prototype.isFavoritesEmptyStateVisible=function(){return this.isEmpty()&&!this.showNoAccessOnEmptyState()&&"favorites"==this.getViewValue().collection},a.prototype.isJapaneseOnlyFamily=function(){var e=i.uniq(i.map(this.getViewValue().families,(function(e){return e.display_font.default_language})));return 1==e.length&&"ja"==e[0]},a.prototype.isNoAccessEmptyStateVisible=function(){return this.isEmpty()&&this.showNoAccessOnEmptyState()},a.prototype.isStandardEmptyStateVisible=function(){return this.isEmpty()&&!this.showNoAccessOnEmptyState()&&"favorites"!=this.getViewValue().collection},a.prototype._handleDataChange=function(){this.ngModel.$setViewValue(r.copy(this.getViewValue()))},a.prototype._handleUserPrefsChange=function(){this.onUserPrefsChange()&&this.$scope.$eval(this.onUserPrefsChange())},a.prototype._hideImages=function(){this.filtersModel().setHideImages(!0),this.showCarousel="false"},a.prototype._initImagesToggle=function(){var e=this;e.UserPrefsService.getUserPrefs().then((function(t){e.filtersModel().setHideImages(e.filtersModel().getHideImages()||t.hideImages),e.showCarousel=(!e.filtersModel().getHideImages()).toString()})),e.$element.on("images-toggle.toggled",(function(t){e.showCarousel=(t.detail.isChecked||!1).toString(),e.filtersModel().setHideImages("false"===e.showCarousel,!0),e.FilteredFamilyListStateService.updateUrl(e.filtersModel().toSearchParams())}))},a.prototype._initWebComponentPagination=function(){var e=this;e.$element.on("pagination-change",(function(t){e.getViewValue().currentPage=t.detail.page,e.handleDataChange(),e.ScrollService.scrollUpTo(e.$element[0],500)}))},a.prototype._loadSortModes=function(){var e=this;e.sortModes=e.preloadedSortModes(),e.sortModes||e.DataService.get("filtered-family-list-sort-modes").then((function(t){e.sortModes=t}))},e.exports=a},1681:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{exampleText:"&",isEnterpriseUser:"&",linkToFamily:"&?",onActivate:"&",onCodeButtonClick:"&",onDeactivate:"&",onDetailsClick:"&?",onSimilarFontsAndPairingsClick:"&",isSimilarCard:"@",textSamplePrimers:"&",textSamples:"&",userLoggedIn:"&",showRequiredAction:"=",variation:"&",originalVariation:"&",selectedFeedback:"="},controller:n(1682),controllerAs:"fontVariation",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/font_variation_card.html"}}},1682:function(e,t,n){a.$inject=["$q","$scope","$window","AddFontsToWebProjectService","AnalyticsService","AuthenticationService","DataService","DialogService","FeedbackService","FirstMileService","I18nService","NewrelicService","NotificationService","SyncService"];var i=n(6),r=n(310).hasPaidCreativeCloud,o="similarity";function a(e,t,n,i,r,o,a,s,c,l,u,d,f,p){var h=this;h.$q=e,h.$scope=t,h.$window=n,h.AddFontsToWebProjectService=i,h.AnalyticsService=r,h.AuthenticationService=o,h.DataService=a,h.DialogService=s,h.FeedbackService=c,h.FirstMileService=l,h.I18nService=u,h.NewrelicService=d,h.NotificationService=f,h.SyncService=p,h.DataService.get("/neue/i18n").then((function(e){h.i18n=e}))}a.prototype.getExampleText=function(){var e=this.exampleText();if(e&&e.value)return e.value;var t=this.variation(),n=this.textSamples()[t.default_language];return n.kana_only?n.list_kana:n.list},a.prototype.getExampleTextStyle=function(){var e=this.exampleText();return{fontSize:(e&&e.size&&!this.isSimilarCard?e.size:36)+"px"}},a.prototype.getFontDisplayData=function(){var e=this.variation(),t=this.textSamples(),n=t[e.default_language].unicode_range,i=t[e.default_language].feature_settings,r=t[e.default_language].kana_only;return r||(r=!1),{cssName:e.family.web_id+"-"+e.font.web.fvd,fvd:e.font.web.fvd,isDynamic:!0,opaqueId:e.family.web_id,unicodeRange:n,featureSettings:i,kanaOnly:r}},a.prototype.getTextDirectionClass=function(){return this.variation().rtl?"sample-right":""},a.prototype.handleCodeButtonClick=function(){this.AddFontsToWebProjectService.addFamilyToWebProjectWithAuthentication(this.variation().family.slug,this.variation().slug)},a.prototype.handleCodeButtonKeydown=function(e){"Enter"==e.key&&this.handleCodeButtonClick()},a.prototype.getDefaultExampleText=function(){var e=this.textSamples()[this.variation().default_language||"en"];return e.kana_only?e.list_kana:e.list},a.prototype.shouldShowFamilyLink=function(){return void 0!==this.linkToFamily},a.prototype.handleSyncButtonClick=function(){this._handleFontSync()},a.prototype.handleUseModelSyncButtonClick=function(){this._handleFontSync(!0)},a.prototype.isAvailableForSync=function(){return this.userLoggedIn()?"sync"in this.variation().font&&0===this.variation().font.sync.required_action.length:this.isUsableForSync()},a.prototype.isAvailableForWeb=function(){return this.userLoggedIn()?"web"in this.variation().font&&0===this.variation().font.web.required_action.length:this.isUsableForWeb()},a.prototype.cardActionClass=function(){return this.isAvailableForWeb()?"with-web-license":"without-web-license"},a.prototype.isPurchased=function(){return this.variation().marketplace&&this.variation().marketplace.is_purchased_by_user},a.prototype.isPurchasedAndSynced=function(){return this.isPurchased()&&this.isVariationSelectedForSync()},a.prototype.isSyncedViaSubscription=function(){return this.isVariationSelectedForSync()&&!this.isPurchased()},a.prototype.isUsableForWeb=function(){return"web"in this.variation().font&&(this.variation().font.web.library_availability.trial||this.variation().font.web.library_availability.full)},a.prototype.isUsableForSync=function(){return"sync"in this.variation().font&&(this.variation().font.sync.library_availability.trial||this.variation().font.sync.library_availability.full)},a.prototype.isVariationSelectedForSync=function(){var e=this.variation().font;return!(!e||!e.sync)&&(e.sync.is_selected||!!e.sync.install_state&&i.contains(e.sync.install_state.split(","),"cc"))},a.prototype.syncOnlyRequiresAction=function(e){var t=((this.variation().font||{}).sync||{}).required_action;return!!t&&i.contains(t,e)&&i.isEmpty(i.without(t,e))&&!this.isAvailableForWeb()},a.prototype.requiresPurchase=function(e){return e in this.variation().font&&this.variation().font[e].required_action.indexOf("purchase")>=0},a.prototype.requiresUpgrade=function(e){return e in this.variation().font&&this.variation().font[e].required_action.indexOf("upgrade")>=0},a.prototype.getFlaggedClass=function(){return this.hasNegativeFeedback()?"flagged":""},a.prototype.shouldShowWebProjectsButton=function(){return this.isAvailableForWeb()&&!this.isSimilarCard},a.prototype.shouldShowSyncButton=function(){return this.isAvailableForSync()&&!this.isVariationSelectedForSync()},a.prototype.shouldShowUnsyncButton=function(){return this.isSyncedViaSubscription()},a.prototype.shouldShowPurchaseButton=function(){return this.syncOnlyRequiresAction("purchase")||this.requiresPurchase("sync")&&"purchase"===this.showRequiredAction},a.prototype.shouldShowWebOnly=function(){return!this.shouldShowPurchaseButton()&&!this.shouldShowUpgradeButton()&&!this.isAvailableForSync()&&this.isAvailableForWeb()},a.prototype.shouldShowWebOnlyRequiresUpgrade=function(){return!this.shouldShowPurchaseButton()&&!this.shouldShowUpgradeButton()&&!this.isUsableForSync()&&!this.isAvailableForWeb()&&this.isUsableForWeb()},a.prototype.shouldShowAdminOnly=function(){return!this.isUsableForSync()&&!this.isUsableForWeb()},a.prototype.shouldShowNotAvailable=function(){return!this.shouldShowPurchaseButton()&&!this.isAvailableForWeb()&&!this.isAvailableForSync()&&!this.shouldShowUpgradeButton()},a.prototype.shouldShowUpgradeButton=function(){return!r()&&(this.syncOnlyRequiresAction("upgrade")||this.requiresUpgrade("sync")&&"upgrade"===this.showRequiredAction)},a.prototype.shouldShowReinstallComponent=function(){if(this.isSimilarCard)return!1;var e=this.variation().font;return!(!e||!e.sync)&&(!!e.sync.install_state&&i.contains(e.sync.install_state.split(","),"cc"))},a.prototype.isMouseOverReinstallIcon=function(){return this.variation().isMouseOverReinstallIcon},a.prototype.handleReinstallIconMouseOver=function(){this.variation().isMouseOverReinstallIcon=!0},a.prototype.handleReinstallIconMouseLeave=function(){this.variation().isMouseOverReinstallIcon=!1},a.prototype.handleFontVariationCardMouseOver=function(){this.variation().isMouseOverFontVariationCard=!0},a.prototype.handleFontVariationCardMouseLeave=function(){this.variation().isMouseOverFontVariationCard=!1},a.prototype.shouldShowSimilarFontsAndPairingsLink=function(){return this.variation().isMouseOverFontVariationCard&&this._hasFontRecommendations()},a.prototype.shouldShowFlagResultIcon=function(){return(this.variation().isMouseOverFontVariationCard||"negative"===this.selectedFeedback)&&this.isSimilarCard&&this.userLoggedIn()},a.prototype.hasNegativeFeedback=function(){return this.isSimilarCard&&"negative"===this.selectedFeedback},a.prototype.handleFontVariationCardClick=function(){this._recordEvent("recommended_font_card_click","positive")},a.prototype.shouldShowOpenFontSpecimenInCCXLink=function(){return!this.isSimilarCard&&(!(this.userLoggedIn()&&!r()&&this.shouldShowUpgradeButton()&&!this.isAvailableForSync())&&this.variation().isMouseOverFontVariationCard)},a.prototype._hasFontRecommendations=function(){return this.variation().has_similar_fonts_or_pairings&&"en"===this.variation().default_language},a.prototype._addSyncedVariation=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.variation().isSyncing=!0;var n=t.variation().font.sync.install_state;t.SyncService.addSyncedVariations([t.variation().id]).then((function(i){if(t.variation().isSyncing=!1,!t._isSyncSuccessResponse(i))return"data"in i?t.$q.reject(i.data):t.$q.reject();e?t._handleVariationUseModelSyncSuccess(t.variation().font.sync.font_id):t._handleVariationSyncSuccess(n)})).catch((function(n){t.variation().isSyncing=!1,n&&n.message?t.NotificationService.error(n.message):e?t.NotificationService.error(t.i18n["neue.browse.family_card"].error_occurred_adding_fonts,{actionLabel:t.i18n["neue.browse.family_card"].try_again,callbackAction:function(){t._addSyncedVariation(e)}}):t.NotificationService.error(t.i18n["neue.browse.family_card"].error_occurred_activating_fonts)}))},a.prototype._handleFontSync=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_font",{font_variation_id:this.variation().id}).then((function(){t.isVariationSelectedForSync()?(t.isSimilarCard&&t._recordEvent("deactivate-button-click","negative",e),t._handleRemoveSyncedVariation(e)):(t.isSimilarCard&&t._recordEvent("activate-button-click","positive",e),t._addSyncedVariation(e))}))},a.prototype._recordEvent=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this;if(i.isSimilarCard){i.NewrelicService.addPageAction("typekit.browse.similarity_and_pairing.feedback",{category:o,subcategory:e,feedback:t,variation_one:i.variation().name,variation_two:i.originalVariation().name,useModelEnabled:n});var r=i.variation().id+"-"+i.originalVariation().id;i.FeedbackService.post(o,e,r,t,null,i.variation().id,i.originalVariation().id)}},a.prototype.reinstall=function(){var e=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_font",{font_variation_id:this.variation().id}).then((function(){e.NewrelicService.addPageAction("typekit.family-page.click.reinstall-button",{variationId:e.variation().id}),e._addSyncedVariation()}))},a.prototype._handleVariationUseModelSyncSuccess=function(e){var t=this;t.variation().font.sync.install_state="cc",t.onActivate()&&t.$scope.$eval(t.onActivate()),t.FirstMileService.onUseModelFontActivation(t.i18n,{queryParams:{tkFontId:e}})},a.prototype._handleVariationSyncSuccess=function(e){var t=this;if(t.variation().font.sync.is_selected=!0,t.variation().font.sync.install_state="os","cc"!==e){var n=t.I18nService.getMessageWithCount(t.i18n["neue.browse.family_card"].fonts_named_activated_action,1,{font:t.variation().name,count:1});t.NotificationService.success(n),t.onActivate()&&t.$scope.$eval(t.onActivate()),t.FirstMileService.shouldShowFontActivationDialog().then((function(e){if(e)return t.FirstMileService.showFontActivationDialog()}))}},a.prototype._isSyncSuccessResponse=function(e){return"data"in e&&-1!==e.data.added_font_ids.indexOf(this.variation().id)},a.prototype._handleRemoveSyncedVariation=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;e?t.FirstMileService.shouldShowRemoveFamilyConfirmationDialog().then((function(e){if(e){var n=t.i18n["neue.browse.family_card"].remove_font_confirmation_header,i=t.i18n["neue.browse.family_card"].remove_font_confirmation_description;return t.FirstMileService.showRemoveFamilyConfirmationDialog(n,i,(function(){t._removeSyncedVariation(!0)}))}t._removeSyncedVariation(!0)})):t._removeSyncedVariation()},a.prototype._removeSyncedVariation=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.NewrelicService.addPageAction("typekit.click.unsync-button",{isUseModelEnabled:e}),t.variation().isSyncing=!0,t.SyncService.removeSyncedVariations([t.variation().id]).then((function(){if(t.variation().isSyncing=!1,t.variation().font.sync.is_selected=!1,t.variation().font.sync.install_state="",t.onDeactivate()&&t.$scope.$eval(t.onDeactivate()),e)t.NotificationService.notice(t.i18n["neue.browse.family_card"].single_font_removed_success_message);else{var n=t.I18nService.getMessageWithCount(t.i18n["neue.browse.family_card"].fonts_named_deactivated_action,1,{font:t.variation().name,count:1});t.NotificationService.success(n)}}),(function(){t.variation().isSyncing=!1}))},e.exports=a},1683:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{exampleText:"&",onActivate:"&",onDeactivate:"&",isInDetailsSection:"&",textSamplePrimers:"&",textSamples:"&",userLoggedIn:"&",showRequiredAction:"=",familySlug:"&",variation:"&",linkHeaderVariationToFamily:"&",pairVariation:"&",selectedFeedback:"=",onVariationHeaderClick:"&",onVariationBodyClick:"&",fontPairId:"&",recommendationIndex:"&"},controller:n(1684),controllerAs:"fontVariation",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/font_pairing_card.html"}}},1684:function(e,t,n){o.$inject=["$q","$scope","$window","AddFontsToWebProjectService","AnalyticsService","AuthenticationService","DataService","DialogService","FeedbackService","FirstMileService","I18nService","NewrelicService","NotificationService","SyncService"];var i=n(6),r=n(310).hasPaidCreativeCloud;function o(e,t,n,i,r,o,a,s,c,l,u,d,f,p){var h=this;h.$q=e,h.$scope=t,h.$window=n,h.AddFontsToWebProjectService=i,h.AnalyticsService=r,h.AuthenticationService=o,h.DataService=a,h.DialogService=s,h.FeedbackService=c,h.FirstMileService=l,h.I18nService=u,h.NewrelicService=d,h.NotificationService=f,h.SyncService=p,h.DataService.get("/neue/i18n").then((function(e){h.i18n=e})),h.isMainVariationNameHighlighted=!1,h.isPairingVariationNameHighlighted=!1}o.prototype.areFeedbackIconsVisible=function(){return this.userLoggedIn()},o.prototype.variations=function(){return[this.variation(),this.pairVariation()]},o.prototype.isMainVariationInFamily=function(){return this.variation().family.slug===this.familySlug()},o.prototype.getExampleText=function(){var e=this.exampleText();if(e&&e.value)return e.value;var t=this.variation(),n=this.textSamples()[t.default_language];return n.kana_only?n.list_kana:n.list},o.prototype.getPairingHeadingText=function(){return"Fudge Brownies"},o.prototype.getPairingBodyText=function(){return"Pure indulgence \u2014 that\u2019s what we\u2019re talking about here. A perfect balance between fudgy and cakey so everyone gets what they want out of these brownies. We\u2019ll leave it to you to fight over who gets the crisp edges versus the ooey-gooey middles. Let\u2019s get baking!"},o.prototype.getExampleTextStyle=function(){var e=this.exampleText();return{fontSize:(e&&e.size?e.size:36)+"px"}},o.prototype.getPairingBodyTextStyle=function(){return{fontSize:"18px"}},o.prototype.getPairingHeadingTextStyle=function(){return{fontSize:"30px"}},o.prototype.getFontDisplayData=function(){var e=this.variation(),t=this.textSamples();return this.getDisplayData(e,t)},o.prototype.getPairingBodyFontDisplayData=function(){var e=this.pairVariation(),t=this.textSamples();return this.getDisplayData(e,t)},o.prototype.getDisplayData=function(e,t){var n=t[e.default_language].unicode_range,i=t[e.default_language].feature_settings,r=t[e.default_language].kana_only;return r||(r=!1),{cssName:e.family.web_id+"-"+e.font.web.fvd,fvd:e.font.web.fvd,isDynamic:!0,opaqueId:e.family.web_id,unicodeRange:n,featureSettings:i,kanaOnly:r}},o.prototype.getFontPairName=function(e){return[this.variation().name,this.pairVariation().name].join([" "," "].join(e))},o.prototype.getTextDirectionClass=function(){return this.variation().rtl?"sample-right":""},o.prototype.handleMainVariationNameMouseOver=function(){this.isMainVariationNameHighlighted=!0},o.prototype.handleMainVariationNameMouseOut=function(){this.isMainVariationNameHighlighted=!1},o.prototype.handlePairingVariationNameMouseOver=function(){this.isPairingVariationNameHighlighted=!0},o.prototype.handlePairingVariationNameMouseOut=function(){this.isPairingVariationNameHighlighted=!1},o.prototype.handleSyncButtonClick=function(){this._handleFontsSync()},o.prototype.isAvailableForSync=function(e){return this.userLoggedIn()?"sync"in e.font&&0===e.font.sync.required_action.length:this.isUsableForSync(e)},o.prototype.isAvailableForWeb=function(e){return this.userLoggedIn()?"web"in this.variation().font&&0===e.font.web.required_action.length:this.isUsableForWeb(e)},o.prototype.isPurchased=function(e){return e.marketplace&&e.marketplace.is_purchased_by_user},o.prototype.isPurchasedAndSynced=function(){var e=this;return i.every(e.variations(),(function(t){return e.isPurchased(t)&&e.isVariationSelectedForSync(t)}))},o.prototype.isSyncedViaSubscription=function(e){return this.isVariationSelectedForSync(e)&&!this.isPurchased(e)},o.prototype.isUsableForWeb=function(e){return"web"in e.font&&(e.font.web.library_availability.trial||e.font.web.library_availability.full)},o.prototype.isUsableForSync=function(e){return"sync"in e.font&&(e.font.sync.library_availability.trial||e.font.sync.library_availability.full)},o.prototype.isVariationSelectedForSync=function(e){var t=e.font;return!(!t||!t.sync)&&(t.sync.is_selected||!!t.sync.install_state&&i.contains(t.sync.install_state.split(","),"cc"))},o.prototype.syncOnlyRequiresAction=function(e,t){var n=((e.font||{}).sync||{}).required_action;return!!n&&i.contains(n,t)&&i.isEmpty(i.without(n,t))&&!this.isAvailableForWeb(e)},o.prototype.requiresUpgrade=function(e,t){return t in e.font&&e.font[t].required_action.indexOf("upgrade")>=0},o.prototype.getFlaggedClass=function(){return this.hasNegativeFeedback()?"flagged":""},o.prototype.shouldShowSyncButton=function(){var e=this,t=i.every(e.variations(),(function(t){return e.isAvailableForSync(t)})),n=i.some(e.variations(),(function(t){return!e.isVariationSelectedForSync(t)}));return t&&n},o.prototype.shouldShowUnsyncButton=function(){var e=this;return i.every(e.variations(),(function(t){return e.isSyncedViaSubscription(t)}))},o.prototype.shouldShowWebOnly=function(){var e=this;return i.some(e.variations(),(function(t){return!e.shouldShowUpgradeButton()&&!e.isAvailableForSync(t)&&e.isAvailableForWeb(t)}))},o.prototype.shouldShowWebOnlyRequiresUpgrade=function(){var e=this;return i.some(e.variations(),(function(t){return!e.shouldShowUpgradeButton(t)&&!e.isUsableForSync(t)&&!e.isAvailableForWeb(t)&&e.isUsableForWeb(t)}))},o.prototype.shouldShowAdminOnly=function(){var e=this;return i.some(e.variations(),(function(t){return!e.isUsableForSync(t)&&!e.isUsableForWeb(t)}))},o.prototype.shouldShowNotAvailable=function(){var e=this;return i.some(e.variations(),(function(t){return!e.isAvailableForWeb(t)&&!e.isAvailableForSync(t)&&!e.shouldShowUpgradeButton()}))},o.prototype.shouldShowUpgradeButton=function(){if(r())return!1;var e=this;return i.some(e.variations(),(function(t){return e.syncOnlyRequiresAction(t,"upgrade")||e.requiresUpgrade(t,"sync")&&"upgrade"===e.showRequiredAction}))},o.prototype.shouldShowFlagResultIcon=function(){return this.hasNegativeFeedback()},o.prototype.hasNegativeFeedback=function(){return"negative"===this.selectedFeedback},o.prototype.handleFontPairCardClick=function(){this._recordEvent("recommended_font_card_click","positive")},o.prototype.handleFontClick=function(e){this.isMainVariationInFamily()?e.id!==this.variation().id||this.isInDetailsSection()?(this._recordEvent("recommended_font_card_click","positive"),this.$window.location.href="/fonts/".concat(e.family.slug)):this.$scope.$eval(this.onVariationHeaderClick()):e.id===this.variation().id||this.isInDetailsSection()?(this._recordEvent("recommended_font_card_click","positive"),this.$window.location.href="/fonts/".concat(e.family.slug)):this.$scope.$eval(this.onVariationBodyClick())},o.prototype.getDetailsHighlightClass=function(e){return this.isInDetailsSection()?this.isMainVariationInFamily()?e.id===this.variation().id?"font-pairing-card--details-highlight":"":e.id===this.variation().id?"":"font-pairing-card--details-highlight":""},o.prototype.isSyncingDisabled=function(){return this.hasNegativeFeedback()},o.prototype.handleUseModelSyncButtonClick=function(){this._handleFontsSync(!0)},o.prototype._addSyncedVariations=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.variations().forEach((function(e){e.isSyncing=!0}));var n=i.map(t.variations(),(function(e){return e.font.sync.install_state}));t.SyncService.addSyncedVariations(i.pluck(t.variations(),"id"),{font_pair_id:t.fontPairId()}).then((function(i){if(t.variations().forEach((function(e){e.isSyncing=!1})),!t._isSyncSuccessResponse(i))return"data"in i?t.$q.reject(i.data):t.$q.reject();e?t._handleVariationUseModelSyncSuccess(n):t._handleVariationSyncSuccess(n)})).catch((function(n){t.variations().forEach((function(e){e.isSyncing=!1})),n&&n.message?t.NotificationService.error(n.message):e?t.NotificationService.error(t.i18n["neue.browse.family_card"].error_occurred_adding_fonts,{actionLabel:t.i18n["neue.browse.family_card"].try_again,callbackAction:function(){t._addSyncedVariations(e)}}):t.NotificationService.error(t.i18n["neue.browse.family_card"].error_occurred_activating_fonts)}))},o.prototype._handleFontsSync=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_fonts",{font_ids:i.pluck(t.variations(),"id")}).then((function(){i.every(t.variations(),(function(e){return t.isVariationSelectedForSync(e)}))?(t._recordEvent("deactivate-button-click","negative",e),t._handleRemoveSyncedVariation(e)):(t._recordEvent("activate-button-click","positive",e),t._addSyncedVariations(e))}))},o.prototype._recordEvent=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this;i.NewrelicService.addPageAction("typekit.browse.similarity_and_pairing.feedback",{category:"pairing",subcategory:e,feedback:t,variation_one:i.variation().name,variation_two:i.pairVariation().name,useModelEnabled:n});var r=i.variation().id+"-"+i.pairVariation().id;i.FeedbackService.post("pairing",e,r,t,null,i.variation().id,i.pairVariation().id)},o.prototype._handleVariationUseModelSyncSuccess=function(e){var t,n=this,i=[];n.variations().forEach((function(e){e.font.sync.is_selected||i.push(e),e.font.sync.is_selected=!0,e.font.sync.install_state="cc"})),e.every((function(e){return"cc"===e}))||(n.onActivate()&&n.$scope.$eval(n.onActivate()),void 0!==n.recommendationIndex()&&n.NewrelicService.addPageAction("typekit.recommendations.activateFontPair",{recommendationIndex:n.recommendationIndex()}),n.FirstMileService.onUseModelFontActivation(n.i18n,{queryParams:{tkFontId:null===(t=n.variations()[0])||void 0===t?void 0:t.font.sync.font_id}}))},o.prototype._handleVariationSyncSuccess=function(e){var t=this,n=[];if(t.variations().forEach((function(e){e.font.sync.is_selected||n.push(e),e.font.sync.is_selected=!0,e.font.sync.install_state="os"})),!e.every((function(e){return"cc"===e}))){if(n.length>0){var i=t.I18nService.getMessageWithCount(t.i18n["neue.browse.family_card"].fonts_named_activated_action,n.length,{font:n[0].name,count:n.length});t.NotificationService.success(i)}t.onActivate()&&t.$scope.$eval(t.onActivate()),void 0!==t.recommendationIndex()&&t.NewrelicService.addPageAction("typekit.recommendations.activateFontPair",{recommendationIndex:t.recommendationIndex()}),t.FirstMileService.shouldShowFontActivationDialog().then((function(e){if(e)return t.FirstMileService.showFontActivationDialog()}))}},o.prototype._isSyncSuccessResponse=function(e){return"data"in e&&i.every(this.variations(),(function(t){return-1!==e.data.added_font_ids.indexOf(t.id)}))},o.prototype._handleRemoveSyncedVariation=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;e?t.FirstMileService.shouldShowRemoveFamilyConfirmationDialog().then((function(e){if(e){var n=t.i18n["neue.browse.family_card"].remove_font_confirmation_header,i=t.i18n["neue.browse.family_card"].remove_font_confirmation_description;return t.FirstMileService.showRemoveFamilyConfirmationDialog(n,i,(function(){t._removeSyncedVariations(!0)}))}t._removeSyncedVariations(!0)})):t._removeSyncedVariations()},o.prototype._removeSyncedVariations=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.NewrelicService.addPageAction("typekit.click.unsync-button",{useModelEnabled:e}),t.variations().forEach((function(e){e.isSyncing=!0})),t.SyncService.removeSyncedVariations(i.pluck(t.variations(),"id"),{font_pair_id:t.fontPairId()}).then((function(){var n=[];if(t.variations().forEach((function(e){e.font.sync.is_selected&&n.push(e),e.isSyncing=!1,e.font.sync.is_selected=!1,e.font.sync.install_state=""})),t.onDeactivate()&&t.$scope.$eval(t.onDeactivate()),void 0!==t.recommendationIndex()&&t.NewrelicService.addPageAction("typekit.recommendations.deactivateFontPair",{recommendationIndex:t.recommendationIndex()}),n.length>0)if(e)t.NotificationService.notice(t.i18n["neue.browse.family_card"].fonts_removed_success_message);else{var i=t.I18nService.getMessageWithCount(t.i18n["neue.browse.family_card"].fonts_named_deactivated_action,n.length,{font:n[0].name,count:n.length});t.NotificationService.success(i)}}),(function(){t.variations().forEach((function(e){e.isSyncing=!1}))}))},e.exports=o},1685:function(e,t){e.exports=function(){return{scope:{},require:"ngModel",link:function(e,t,n,i){e.handleSizeChange=function(){i.$setViewValue(e.fontSize)},i.$render=function(){e.fontSize=i.$viewValue}},restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/font_size_control.html"}}},1686:function(e,t,n){function i(e,t){return{restrict:"A",scope:{},bindToController:{disabled:"&?"},controller:n(1687),controllerAs:"stickyNavCtrl",link:function(e,n,i,r){var o=n[0].querySelector(".sticky-nav__unstick-button");o&&o.addEventListener("click",(function(){e.$apply((function(){r.forceUnstick()}))})),t.addEventListener("resize",(function(){e.$apply((function(){r.handleResize()}))})),t.addEventListener("scroll",(function(){e.$apply((function(){r.handleScroll()}))}))}}}i.$inject=["$document","$window"],e.exports=i},1687:function(e,t){a.$inject=["$document","$element","$scope"];var n="spectrum-grid-start-xs",i="spectrum-grid-center-xs",r="sticky-nav--stuck",o="sticky-nav--unstuck";function a(e,t,n){this.$element=t,this.$document=e,this.$scope=n,this._stickyElement=t[0],this._pushElement=this._getPushElement(),this._isStuck=!1,this._updateDimensions(),this._initWatchers()}a.prototype.forceUnstick=function(){this._stickyElement.classList.remove(n),this._stickyElement.classList.remove(r),this._stickyElement.classList.add(i),this._stickyElement.classList.add(o),this._pushElement.style.display="none",this._forceUnstuck=!0,this._isStuck=!1},a.prototype.handleResize=function(){this._updateDimensions()},a.prototype.handleScroll=function(){this._getScrollTop()>=this._initialTotalOffset&&this.isActive()?(this._stickyElement.classList.add(n),this._stickyElement.classList.add(r),this._stickyElement.classList.remove(i),this._pushElement.style.display="block",this._isStuck=!0):this._getScrollTop()<this._initialTotalOffset&&(this._stickyElement.classList.remove(r),this._stickyElement.classList.remove(o),this._stickyElement.classList.add(i),this._stickyElement.classList.remove(n),this._pushElement.style.display="none",this._forceUnstuck=!1,this._isStuck=!1)},a.prototype.isActive=function(){return!this._forceUnstuck&&!this.disabled()},a.prototype._getScrollTop=function(){return this.$document[0].documentElement.scrollTop||this.$document[0].body.scrollTop},a.prototype._getPushElement=function(){var e=document.createElement("div");return e.style.display="none",e.style.height=this._stickyElement.offsetHeight+"px",this._stickyElement.parentNode.insertBefore(e,this._stickyElement),e},a.prototype._getTotalOffset=function(){return this._getScrollTop()+this._stickyElement.getBoundingClientRect().top},a.prototype._initWatchers=function(){var e=this;e.$scope.$watch((function(){return e._stickyElement.offsetHeight}),(function(){e._updateDimensions()})),e.$scope.$watch((function(){return e.isActive()}),(function(t){e._stickyElement.classList.toggle("sticky-nav--sticky",t),e._updateDimensions()}))},a.prototype._updateDimensions=function(){this._initialTotalOffset=this._getTotalOffset(),this._pushElement.style.height=this._stickyElement.offsetHeight+"px"},e.exports=a},1688:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tab_navigation.html",bindToController:{navigationTabs:"=",currentTab:"=",defaultTabWidth:"=?",onTabChange:"&"},controller:n(1689),controllerAs:"tabNavigation"}}},1689:function(e,t){n.$inject=["$scope","$timeout","$window"];function n(e,t,n){var i=this;i.$scope=e,i.$timeout=t,i.$window=n,i.indicatorWidth=this.defaultTabWidth||0,i.indicatorLeft=0,i._loadAttempts=0,i._loadDefaultTab(this.currentTab),i.$scope.$watch((function(){return i.currentTab}),(function(){i._updateTabStyling()}))}n.prototype.indicatorStyle=function(){return{width:this.indicatorWidth+"px",left:this.indicatorLeft+"px",bottom:"0"}},n.prototype.isTabSelected=function(e){return this.currentTab===e},n.prototype.selectTab=function(e){var t=this;t.currentTab=e,t._updateTabStyling(),t.$timeout((function(){t.onTabChange()}),0,!1)},n.prototype.handleTabChange=function(e){e.link?(this.$window.history.replaceState(null,null,e.link),this.$window.location.reload()):this.$window.history.replaceState({navigationTabClicked:!0},null,"#"+e.id+"-section"),this.selectTab(e)},n.prototype.getWidthOfTab=function(e){var t=0;try{t=document.getElementById(e.id).clientWidth}catch(n){return t}return t},n.prototype._isTabLoaded=function(e){return this.getWidthOfTab(e)>0},n.prototype._loadDefaultTab=function(e){var t=this;if(!t._isTabLoaded(e)&&t._loadAttempts<7)return t._loadAttempts++,t.$timeout((function(){t._loadDefaultTab()}));t.selectTab(this.currentTab),t._updateTabStyling()},n.prototype._updateTabStyling=function(){var e=this;e.indicatorWidth=e.getWidthOfTab(e.currentTab);var t=0;for(var n in this.navigationTabs){if(e.navigationTabs[n]===e.currentTab)break;t+=24,t+=e.getWidthOfTab(this.navigationTabs[n])}this.indicatorLeft=t},e.exports=n},1690:function(e,t){function n(e){return{scope:{ngModel:"=",onChanged:"&"},link:function(t){t.handleViewTypeButtonClick=function(n){t.ngModel=n,e((function(){t.onChanged()}))},t.isViewTypeSelected=function(e){return t.ngModel==e}},restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/view_type_control.html"}}n.$inject=["$timeout"],e.exports=n},1691:function(e,t){function n(e){return{scope:{onScrolledToEnd:"&"},link:function(t,n){var i=!0;n.on("wheel",(function(){n[0].scrollTop+n[0].offsetHeight==n[0].scrollHeight&&i&&(i=!1,e((function(){t.onScrolledToEnd(),i=!0}),100))}))}}}n.$inject=["$timeout"],e.exports=n},1692:function(e,t){function n(e){return{getFamilies:function(t,n){return e.get("/designers/"+t+"/families",{params:n})}}}n.$inject=["$http"],e.exports=n},1693:function(e,t){function n(e){return{get:function(t){return e.get("/fonts.json",{params:t})}}}n.$inject=["$http"],e.exports=n},1694:function(e,t){function n(e){return{post:function(t){return e.post("/fonts/"+t+"/typographic_favorites")},delete:function(t){return e.post("/fonts/"+t+"/typographic_favorites/destroy")}}}n.$inject=["$http"],e.exports=n},1695:function(e,t,n){s.$inject=["DialogService","UserPrefsService"];var i=n(6),r=n(304),o="default",a="featured_rank";function s(e,t){function n(e){e=e||{},this._allFilters=e.allFilters,this._browseMode=o,this._collection=e.collection,this._currentPage=1,this._filterDataIndex=e.filterData,this._hideImages=e.hideImages,this._hideLibraryOption=e.hideLibraryOption,this._isLoading=!1,this._isTagsModuleVisible=e.isTagsModuleVisible,this._languages=e.languages,this._locale=e.locale,this._selectedFilters=[],this._selectedLanguages=[],this._selectedTag=null,this._selectedFontTechnology=null,this._sortOrder=e.sortOrder||a,this._showPaidFonts=e._showPaidFonts,this._minStyles=e.minStyles,this._maxStyles=e.maxStyles,this._signedOutState=e.signedOutState,this._tags=e.tags,this._textSamples=e.textSamples,this.bridge=r,e.changeCallback&&(this._changeCallback=e.changeCallback)}return n.prototype.clearAll=function(){this.clearSelectedFilters(),this.clearSelectedLanguages(),this.clearSelectedTag(),this.clearSelectedFontTechnology(),this.clearNumberOfStyles(),this.setCurrentPage(1),this._triggerChangeCallback()},n.prototype.clearSelectedFilters=function(){this._selectedFilters=[],this.setCurrentPage(1)},n.prototype.clearSelectedFiltersForSection=function(e){var t=this,n=t.getSelectedFiltersForSection(e);t._selectedFilters=i.reject(t._selectedFilters,(function(e){return i.contains(n,e)})),this.setCurrentPage(1)},n.prototype.clearSelectedLanguages=function(){this._selectedLanguages=[],this.setCurrentPage(1)},n.prototype.clearSelectedTag=function(){this._selectedTag=null,this.setCurrentPage(1)},n.prototype.clearSelectedFontTechnology=function(){this._selectedFontTechnology=null,this.setCurrentPage(1)},n.prototype.clearNumberOfStyles=function(){this._minStyles=1,this._maxStyles=26,this.setCurrentPage(1)},n.prototype.deselectFilter=function(e){this._selectedFilters=i.without(this._selectedFilters,e),this.setCurrentPage(1)},n.prototype.deselectLanguage=function(e){this._selectedLanguages=i.without(this._selectedLanguages,e),this.setCurrentPage(1)},n.prototype.getBrowseMode=function(){return this._browseMode},n.prototype.getCurrentPage=function(){return this._currentPage},n.prototype.getDataForFilter=function(e){return i.find(this._filterDataIndex,(function(t){return t.key==e}))},n.prototype.getDataForFilterBySlug=function(e){return i.find(this._filterDataIndex,(function(t){return t.slug==e}))},n.prototype.getFiltersForCurrentBrowseMode=function(){return this._allFilters[this._browseMode]},n.prototype.getFontDisplayData=function(e){if(e.font){var t=e.font.default_language||"en",n=this._textSamples[t].unicode_range,i=this._textSamples[t].feature_settings,r=this._textSamples[t].kana_only||!1;return{cssName:e.font.family.web_id+"-"+e.font.font.web.fvd,fvd:e.font.font.web.fvd,isDynamic:!1,opaqueId:e.font.family.web_id,unicodeRange:n,featureSettings:i,kanaOnly:r}}},n.prototype.getHideImages=function(){return this._hideImages},n.prototype.getLanguages=function(){return this._languages},n.prototype.getMinStyles=function(){return this._minStyles},n.prototype.getMaxStyles=function(){return this._maxStyles},n.prototype.getIconUrlForFilter=function(e){var t=this.getDataForFilterBySlug(e);if(t)return t.icon_url},n.prototype.getLocale=function(){return this._locale},n.prototype.getSelectedFilters=function(){return this._selectedFilters},n.prototype.getSelectedFiltersForSection=function(e){var t=this;return i.filter(t.getSelectedFilters(),(function(n){return t.getDataForFilter(n).name==e.name}))},n.prototype.getSelectedLanguages=function(){return this._selectedLanguages},n.prototype.getSelectedTag=function(){return this._selectedTag},n.prototype.getSelectedFontTechnology=function(){return this._selectedFontTechnology},n.prototype.getShowLibraryOption=function(){return"trial"===this._collection&&!this._hideLibraryOption},n.prototype.getShowBasicLibrary=function(){return this._showBasicLibrary},n.prototype.getShowPaidFonts=function(){return this._showPaidFonts},n.prototype.getSortOrder=function(){return this._sortOrder},n.prototype.getTagByKey=function(e){return i.find(this.getTags(),(function(t){return t.key===e}))},n.prototype.getTags=function(){return this._tags},n.prototype.isAnyFilterSelected=function(){return this._selectedFilters.length>0},n.prototype.isAnyFilterSelectedForSection=function(e){return this.getSelectedFiltersForSection(e).length>0},n.prototype.isAnyLanguageSelected=function(){return this._selectedLanguages.length>0},n.prototype.isAnyTagSelected=function(){return null!==this._selectedTag},n.prototype.isAnyFontTechnologySelected=function(){return null!==this._selectedFontTechnology},n.prototype.isNumberOfFontsSelected=function(){return 1!==this._minStyles||26!==this._maxStyles},n.prototype.isAnythingSelected=function(){return this.isAnyFilterSelected()||this.isAnyLanguageSelected()||this.isAnyTagSelected()||this.isNumberOfFontsSelected()},n.prototype.isAnyFilterSelectedForName=function(e){for(var t=this.getSelectedFilters(),n=0,i=t.length;n<i;n++){var r=this.getDataForFilter(t[n]);if(r&&r.name==e)return!0}return!1},n.prototype.browseModeSupportsTags=function(){return this.getBrowseMode()&&this.getBrowseMode()===o},n.prototype.isTagsModuleVisible=function(){return this._isTagsModuleVisible&&this.getTags()&&this.getTags().length>0&&this.browseModeSupportsTags()},n.prototype.isFilterSelected=function(e){return i.contains(this.getSelectedFilters(),e)},n.prototype.isLanguageSelected=function(e){return i.contains(this.getSelectedLanguages(),e)},n.prototype.isLoading=function(){return this._isLoading},n.prototype.isTagSelected=function(e){return e===this._selectedTag},n.prototype.setSelectedFilters=function(e){var t=this;i.each(e,(function(e){t.selectFilter(e)}))},n.prototype.selectFilter=function(e){var t=this,n=t.getDataForFilter(e);n&&(n.allowMultiple||(t._selectedFilters=i.reject(t._selectedFilters,(function(e){return t.getDataForFilter(e).name==n.name}))),t._selectedFilters.push(e),this.setCurrentPage(1))},n.prototype.setBrowseMode=function(e){this._browseMode=e,this.clearAll()},n.prototype.selectLanguage=function(e){this._selectedLanguages.push(e),this.setCurrentPage(1)},n.prototype.selectLanguageMode=function(e){var n;switch(e){case"ja":n="japanese";break;case"zh-Hant":case"zh-Hans":case"ko":n=e;break;default:n="default"}n!==this.getBrowseMode()&&(this.setBrowseMode(n),t.updatePrefs({browseMode:n})),"all"!==e&&this.selectLanguage(e),this.setCurrentPage(1)},n.prototype.selectTag=function(e){this._selectedTag=e,this.setCurrentPage(1)},n.prototype.selectFontTechnology=function(e){this._selectedFontTechnology=e,this.setCurrentPage(1)},n.prototype.setCurrentPage=function(e){this._currentPage=Math.max(1,e)},n.prototype.setHideImages=function(e,n){this._hideImages=e,n&&t.updatePrefs({hideImages:e})},n.prototype.setLoading=function(e){this._isLoading=e},n.prototype.setSelectedFontTechnology=function(e){this._selectedFontTechnology===e?this.clearSelectedFontTechnology():(this.clearSelectedFontTechnology(),this.selectFontTechnology(e))},n.prototype.setSelectedLanguage=function(e){this.clearSelectedLanguages(),this.selectLanguage(e)},n.prototype.setSelectedLanguageMode=function(e){this.clearSelectedLanguages(),this.selectLanguageMode(e)},n.prototype.setShowPaidFonts=function(e,n){this._showPaidFonts=e,n&&t.updatePrefs({showPaidFonts:e}),this.setCurrentPage(1)},n.prototype.setMinStyles=function(e){this._minStyles=e||1,this.setCurrentPage(1)},n.prototype.setMaxStyles=function(e){this._maxStyles=e||26,this.setCurrentPage(1)},n.prototype.setShowBasicLibrary=function(e){this._showBasicLibrary=e,this.setCurrentPage(1)},n.prototype.setSortOrder=function(e){this._sortOrder=e,this.setCurrentPage(1)},n.prototype.toggleFilter=function(e){this.isFilterSelected(e)?this.deselectFilter(e):this.selectFilter(e)},n.prototype.toggleLanguage=function(e){this.isLanguageSelected(e)?this.deselectLanguage(e):this.selectLanguage(e)},n.prototype.toggleTag=function(e){this.isTagSelected(e)?this.clearSelectedTag():this.selectTag(e)},n.prototype.toSearchParams=function(){var e=this._getEmptySearchParams();return e.browse_mode=this._browseMode,this._showPaidFonts&&(e.cc=!0),this._minStyles&&(e.min_styles=this._minStyles),this._maxStyles&&(e.max_styles=this._maxStyles),this._showBasicLibrary&&(e.library="basic"),this.isAnyFilterSelected()&&(e.filters=this.getSelectedFilters().join(",")),this.isAnyLanguageSelected()&&(e.languages=this.getSelectedLanguages().join(",")),this.isAnyTagSelected()&&(e.tag=this.getSelectedTag()),this.isAnyFontTechnologySelected()&&(e.font_technology=this.getSelectedFontTechnology()),this.getCurrentPage()>1&&(e.page=this.getCurrentPage()),this._purpose&&this._purpose.length>0&&(e.purpose=this.purpose.join(",")),this.getSortOrder()!=a&&(e.sort=this.getSortOrder()),this.getHideImages()&&(e.hide_images=!0),e},n.prototype._getEmptySearchParams=function(){return{browse_mode:null,collection:null,cc:null,mp:null,filters:null,hide_images:null,languages:null,tag:null,page:null,purpose:null,sort:null,min_styles:null,max_styles:null,font_technology:null}},n.prototype.webComponents_getTagDataForFilterSidebar=function(){var e=this;return this._tags.map((function(t){var n={label:"ko_KR"===e.getLocale()&&t.english_label||t.label,tag:t.key},i=e.bridge.modules.get("FVDHelper");return t.font&&(n.font={style:i.getStyleFromFVD(t.font.font.web.fvd),weight:i.getWeightFromFVD(t.font.font.web.fvd),webId:t.font.family.web_id,unicodeRange:e._textSamples[t.font.default_language||"en"].unicode_range}),n}))},n.prototype.webComponents_getI18nForFilters=function(){var e={};for(var t in this._allFilters)e=i.extend(e,this.webComponents_getI18nForFilterList(this._allFilters[t]));return e},n.prototype.webComponents_getI18nForFilterList=function(e){var t={};for(var n in e)for(var i=e[n].values||this.__webComponents_getFiltersFromFilterGroup(e[n]),r=0;r<i.length;r++){t["filter-sidebar.filter-label."+i[r].slug]=i[r].label}return t},n.prototype.__webComponents_getFiltersFromFilterGroup=function(e){var t=[];return e.filters.forEach((function(e){e.values.forEach((function(e){t.push(e)}))})),t},n.prototype._triggerChangeCallback=function(){this._changeCallback&&this._changeCallback()},{DEFAULT_PAGE:1,getFilterModel:function(e){return new n(e)}}}e.exports=s},1696:function(e,t,n){var i=n(6),r=n(19);e.exports=function(){return{filterFontsByRequiredActions:function(t,n){var r=n||e(t,{}).filters;return i.filter(t,(function(e){var t=r.upgrade&&c("upgrade",e);return c("preview_only",e)||function(e){var t=(!s(e)||c("preview_only",e))&&!!l,n=a(e)&&!o(e);return t||n}(e)||!!s(e)&&(i.isEmpty(s(e))||t)}))},filterRequiredActionsByToggles:e,hasUpgradeFilterOption:n};function e(e,o){var a=i.pick(o||{},i.identity),s=r.extend({},function(e){return{upgrade:t("upgrade",e)&&!n(e)}}(e),a);return{filters:s,preferred:i.isEmpty(a)?s.upgrade?"upgrade":null:a.upgrade?"upgrade":null}}function t(e,t){return i.some(t,c.bind(null,e))}function n(e){return function(e){return i.some(e,o)||i.some(e,a)}(e)&&t("upgrade",e)}function o(e){return!!s(e)&&i.isEmpty(s(e))}function a(e){return!!l(e)&&i.isEmpty(l(e))}function s(e){return((e.font||{}).sync||{}).required_action}function c(e,t){return!!s(t)&&i.contains(s(t),e)}function l(e){return((e.font||{}).web||{}).required_action}}},1697:function(e,t,n){r.$inject=["UrlService"];var i=n(19);function r(e){return{getDefaultStateObject:t,getEmptySearchParams:n,getSearchParamsFromFamilyListData:r,getState:function(e,t){var n=o(e),r=i.merge(s(t,!0),s(n,!0));return i.merge({browseMode:"default",collection:"full",currentPage:1,familyTemplates:{},hideImages:!1,purpose:[],selectedLanguages:[],selectedTag:null,selectedViewType:"grid",sort:"featured_rank"},r)},getStateFromUrl:o,updateUrl:a,updateState:function(e){a(r(e))}};function t(){return{browseMode:"default",collection:"full",currentPage:1,familyTemplates:{},hideImages:!1,purpose:[],selectedLanguages:[],selectedTag:null,selectedViewType:"grid",sort:"featured_rank"}}function n(){return{browse_mode:null,cc:null,mp:null,collection:null,filters:null,hideImages:null,languages:null,page:null,purpose:null,sort:null}}function r(e){var t={browse_mode:null,cc:null,mp:null,collection:null,filters:null,hideImages:null,languages:null,page:null,purpose:null,sort:null};return(e=e||{}).browseMode&&"default"!=e.browseMode&&(t.browse_mode=e.browseMode),e.showPaidFonts&&(t.cc=!0),e.selectedFilters&&e.selectedFilters.length>0&&(t.filters=e.selectedFilters.join(",")),e.hideImages&&(t.hideImages="true"===e.hideImages),e.selectedLanguages&&e.selectedLanguages.length>0&&(t.languages=e.selectedLanguages.join(",")),e.currentPage&&e.currentPage>1&&(t.page=e.currentPage),e.purpose&&e.purpose.length>0&&(t.purpose=e.purpose.join(",")),e.sort&&"featured_rank"!=e.sort&&(t.sort=e.sort),t}function o(t){var n=e.getSearchParams(),i={};return n.browse_mode&&(i.browseMode=n.browse_mode),t&&t.plan&&(i.collection=t.plan),n.cc&&(i.showPaidFonts=!0),n.filters&&(i.selectedFilters=n.filters.split(",")),n.hide_images&&(i.hideImages="true"===n.hide_images),n.languages&&(i.selectedLanguages=n.languages.split(",")),n.tag&&(i.selectedTag=n.tag),n.page&&(i.currentPage=Math.max(1,n.page)),n.purpose&&(i.purpose=n.purpose.split(",")),n.sort&&(i.sort=n.sort),n.max_styles&&(i.maxStyles=n.max_styles),n.min_styles&&(i.minStyles=n.min_styles),i}function a(t){e.updateSearchParams(t)}function s(e,t){for(var n in e)null===e[n]||void 0===e[n]?delete e[n]:t&&"object"===typeof e[n]&&s(e[n],t);return e}}e.exports=r},1698:function(e,t,n){r.$inject=["$cookies","$q","AuthenticationService","FirstMileService","NewrelicService","NotificationService","SyncService"];var i=n(6);function r(e,t,n,r,o,a,s){var c;return{addFontpacks:function(e){c=i.union(c||[],e)},clearFontpacks:function(){c=null},findFontpackBySlug:function(e){return i.find(c,(function(t){return t.slug===e}))},isFontpackSynced:function(e){if(!c)return!1;var t=this.findFontpackBySlug(e);return!!t&&i.all(t.font_variations,(function(e){return e.sync.is_selected||!!e.sync.install_state&&i.contains(e.sync.install_state.split(","),"cc")}))},markFontsInFontpackAsSynced:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=d(e);i.each(c,(function(e){i.each(e.font_variations,(function(e){i.contains(n,e.variation_id)&&(t?e.sync.install_state="cc":e.sync.is_selected=!0)}))}))},notSyncedCount:l,requiresUpgrade:function(e){if(!c)return!1;var t=this.findFontpackBySlug(e);return!!t&&i.any(t.font_variations,(function(e){return e.sync.required_action.indexOf("upgrade")>=0}))},syncFontpack:function(t,s,c){var l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=this;return n.handleAuthenticationWithPostLoginAction("activate_collection",{slug:t.slug,name:t.name}).then((function(){var n=i.countBy(t.font_variations,(function(e){return!0===e.sync.is_selected||i.contains(e.sync.install_state.split(","),"cc")?"activated":"notActivated"})).activated||0;return o.addPageAction("typekit.click.sync-fontpack."+s,{activatedCount:n,fontpack:t.slug,sawFontpacksOnBrowsePage:e.get("sawCollections")||!1,useModelEnabled:l}),u.syncFontsInFontpack(t).then((function(){u.markFontsInFontpackAsSynced(t,l),l?r.onUseModelFontActivation(c,{namespace:"neue.fontpacks"}):a.success(t.sync_success_message)}),(function(){l?a.error(c["neue.fontpacks"].adding_font_pack_error_message,{actionLabel:c["neue.fontpacks"].try_again,callbackAction:function(){u.syncFontpack(t,s,c,l)}}):a.error(c["neue.fontpacks"].sync_error_message)}))}))},syncFontsInFontpack:function(e){var n=d(e);return t((function(t,r){s.addSyncedVariations(n,{fontpack_id:e.id},l(e)).then((function(e){!function(e,t){if(200!==e.status)return!1;return i.every(t,(function(t){return"data"in e&&e.data.added_font_ids.indexOf(t)>=0}))}(e,n)?r():t()}),(function(){r()}))}))},unsyncFontpack:function(n,i,r){return o.addPageAction("typekit.click.unsync-fontpack."+i,{fontpack:n.slug,sawFontpacksOnBrowsePage:e.get("sawCollections")||!1,useModelEnabled:!1}),t((function(e,t){return s.removeSyncedVariations(d(n),{fontpack_id:n.id}).then((function(){u(n),a.success(n.unsync_success_message),e()}),(function(){a.error(r["neue.fontpacks"].unsync_error_message),t()}))}))},unsyncFontsInFontpack:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(i){var o=this;r.shouldShowRemoveFamilyConfirmationDialog().then((function(i){if(i){var a=n["neue.fontpacks"].remove_font_pack_confirmation_header,s=n["neue.fontpacks"].remove_font_pack_confirmation_description;return r.showRemoveFamilyConfirmationDialog(a,s,(function(){o.useModelUnsyncFontpack(e,t,n)}))}o.useModelUnsyncFontpack(e,t,n)}))}else this.unsyncFontpack(e,t,n)},useModelUnsyncFontpack:function(t,n,i){var r=this;o.addPageAction("typekit.click.unsync-fontpack."+n,{fontpack:t.slug,sawFontpacksOnBrowsePage:e.get("sawCollections")||!1,useModelEnabled:!0}),s.removeSyncedVariations(d(t),{fontpack_id:t.id}).then((function(){u(t),a.notice(i["neue.fontpacks"].fonts_removed_success_message)}),(function(){a.error(i["neue.fontpacks"].removing_font_pack_error_message,{actionLabel:i["neue.fontpacks"].try_again,callbackAction:function(){r.useModelUnsyncFontpack(t,n,i)}})}))}};function l(e){return e&&i.countBy(e.font_variations,(function(e){return e.sync.is_selected||!!e.sync.install_state&&i.contains(e.sync.install_state.split(","),"cc")})).false||0}function u(e){var t=d(e);i.each(c,(function(e){i.each(e.font_variations,(function(e){i.contains(t,e.variation_id)&&(e.sync.is_selected=!1,e.sync.install_state="")}))}))}function d(e){return i.map(e.font_variations,(function(e){return e.variation_id}))}}e.exports=r},1699:function(e,t){function n(e){return{getFamilies:function(t,n){return e.get("/foundries/"+t+"/families",{params:n})}}}n.$inject=["$http"],e.exports=n},1700:function(e,t){function n(e){return{deactivateFonts:function(t){return e.put("/my_fonts/deactivate_fonts.json",t)},get:function(t){return e.get("/my_fonts/families_data.json",{params:t})}}}n.$inject=["$http"],e.exports=n},1701:function(e,t){function n(e,t){return{get:function(n,i,r,o){var a=this;if(a.cache=a.cache||{},a.cache[n]=a.cache[n]||{},a.cache[n][i])return t((function(e){e(a.cache[n][i])}));var s="?page="+i+"&families_per_page="+r+"&personalized="+o;return e.get("/recommendations/"+n+s).then((function(e){return a.cache[n][i]=e,e}))},pairedFonts:function(t,n,i){return e.get("/font_recommendations/paired_fonts?font_variation_id="+t+"&per_page="+n+"&page="+i)},similarFonts:function(t,n,i){return e.get("/font_recommendations/similar_fonts?font_variation_id="+t+"&per_page="+n+"&page="+i)},familyFontPairings:function(t,n,i){return e.get("/font_recommendations/family_font_pairings?slug="+t+"&per_page="+n+"&page="+i)},familyFontSimilarities:function(t,n,i){return e.get("/font_recommendations/family_font_similarities?slug="+t+"&per_page="+n+"&page="+i)}}}n.$inject=["$http","$q"],e.exports=n},1702:function(e,t){function n(e){return{put:function(t,n){return e.put("/fonts/vs/"+t,n)}}}n.$inject=["$http"],e.exports=n},1703:function(e,t){function n(e,t,n,i,r){return{scrollTo:function(e,o,a){return n((function(n){a=a||0;var s=e.getBoundingClientRect().top;t.scrollTop(s+r.pageYOffset+a,o),i(n,o)}))},scrollUpTo:function(e,n){var i=e.getBoundingClientRect().top;i<0&&t.scrollTop(i+r.pageYOffset,n)},setCookieIfSawElement:function(t,n){if(!t)return;if(o(t)&&!e.get(n))return void e.put(n,!0);r.addEventListener("scroll",(function(){o(t)&&!e.get(n)&&e.put(n,!0)}))}};function o(e){var t=e.getBoundingClientRect();return t.top>=0&&t.bottom<=r.innerHeight}}n.$inject=["$cookies","$document","$q","$timeout","$window"],e.exports=n},1704:function(e,t){e.exports=function(){return{TAG_BACKGROUND_CLASS_MAP:{"art-deco":"tag-background--art-deco-horror",blackletter:"tag-background--blackletter-inline","brush-pen":"tag-background--brush-pen-luxury",calligraphic:"tag-background--calligraphic-marker",clean:"tag-background--clean-ornaments",college:"tag-background--college-rough",comic:"tag-background--comic-rounded",cursive:"tag-background--cursive-school",friendly:"tag-background--friendly-shaded",fun:"tag-background--fun-stencil",funky:"tag-background--funky-typewriter",futuristic:"tag-background--futuristic-wedding",geometric:"tag-background--geometric",horror:"tag-background--art-deco-horror",inline:"tag-background--blackletter-inline",luxury:"tag-background--brush-pen-luxury",marker:"tag-background--calligraphic-marker",ornaments:"tag-background--clean-ornaments",rough:"tag-background--college-rough",rounded:"tag-background--comic-rounded",school:"tag-background--cursive-school",shaded:"tag-background--friendly-shaded",stencil:"tag-background--fun-stencil",typewriter:"tag-background--funky-typewriter",wedding:"tag-background--futuristic-wedding",western:"tag-background--western"}}}},1705:function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m.$inject=["$http","$document","DialogService","UrlService"];var a=n(19),s=n(6),c=n(1706),l=n(1707),u=n(1708),d=n(1709),f=n(1711),p=n(199),h="body__progress";function m(e,t,n,i){var o,m={},g={},v={},y={},b={},_=a.element(t.find("body")),S=function(e,t){var n,r=i.getSearchParam("project_id");!m[e]&&t&&(n=t.kit.kit.token===r,m[e]=new l(t,n))},w=function(e,t){g[e]=new u(t)},C=function(e){return m[e]},k=function(t){return e.delete("/kit_editor/kits/"+t,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){return e.data}))},F=function(e){return s.map(e,(function(e){return r(r({},s.pick(e,["enabled_language_tags","font_display","is_ot_features_enabled","is_vertical_features_enabled","subsetting","variationsEnabled","variationsDisabled"])),{},{typekit_font_family:{slug:((e.tkff||{}).typekit_font_family||{}).slug}})}))},E=function(e,t,n,i){v[e]||(v[e]=new d(t,n,i))},$=function(e,t,n,i){y[e]||(y[e]=new f(t,n,i))},x=function(e,t,n){!b[e]&&n&&(b[e]=new p(t,n))},T=function(e,t,n){var i=C(e);i.setTkffList(t),function(e,t){var n;for(n=0;n<t.length;n++){var i=t[n],r=e.getProjectDetails().kitToken+i.tkff.typekit_font_family.id;w(r,i),E(r,i.fvd_sorted_variations,i.enabled_font_variation_ids,i.text_samples)}}(i,t),i.setIsDataFetched(!0),n&&i.toggleExpanded()};return{initTkWebProjectListModel:function(e){o||(o=new c(e))},initTkWebProjectCardModel:S,initTkWebProjectFamilyCardModel:function(e,t){!g[e]&&t&&this.setTkWebProjectFamilyCardModel(e,t)},initTkWebProjectEditorStyleSelectorModel:E,initTkWebProjectDisplayFamilyModel:$,initEmbedCodeModel:x,getTkWebProjectListModel:function(){return o},getTkWebProjectCardModel:C,getTkWebProjectFamilyCardModel:function(e){return g[e]},setTkWebProjectFamilyCardModel:w,deleteKit:k,updateKit:function(t,n,i){return e.post("/kit_editor/kits/"+i+"/update_kit",{tkffData:F(t),deletedTkffs:F(n)}).then((function(e){return e.data}))},updateWebProjects:function(t,n,i){var r=this;return 1==i&&_.addClass(h),e.get("/my_fonts/web_projects_data.json",{params:{searchString:t,page:n,sortOrder:o.getSortOrder()}}).then((function(e){o.setWebProjectList(e.data.kitsData),o.setTotalPages(e.data.totalPages),e.data.kitsData.forEach((function(e){S(e.kit.kit.token,e),x(e.kit.kit.token,e.is_dynamic,e.project_embed_details),e.tkff_list.forEach((function(t){var n=e.kit.kit.token+t.tkff.typekit_font_family.id;$(n,t.display_variation,t.text_samples,t.tktf_slug)}))})),_.removeClass(h),r.populateCompleteWebProjectsData(n)}))},getTkWebProjectEditorStyleSelectorModel:function(e){return v[e]},getTkWebProjectDisplayFamilyModel:function(e){return y[e]},getEmbedCodeModel:function(e){return b[e]},openDeleteConfirmationDialog:function(e){n.show("/angular_templates/dialogs/delete_web_project_confirmation.html").then((function(t){t.projectName=e.getProjectName(),t.handleDelete=function(){o.deleteWebProject(e.getWebProjectData()),k(e.getProjectDetails().kitToken),t.close()}}))},openRetiredFontsRemovalConfirmationDialog:function(e,t){n.show("/angular_templates/dialogs/remove_retired_fonts_confirmation.html").then((function(n){n.familyName=t.getTkffData().tkff.typekit_font_family.name,n.isFamilyRetired=t.isFamilyRetired,n.handleDelete=function(){e.deleteTkff(t.getTkffData()),n.close()}}))},getCompleteWebProjectData:function(t){return e.get("/my_fonts/web_project_data.json",{params:{token:t}}).then((function(e){return e.data}))},getCompleteWebProjectsData:function(t){var n=null;return o&&(n=o.getSortOrder()),e.get("/my_fonts/complete_web_projects_data.json",{params:{page:t,sortOrder:n}}).then((function(e){return e.data}))},populateCompleteWebProjectsData:function(e){this.getCompleteWebProjectsData(e).then((function(e){var t;for(t=0;t<e.length;t++){var n=e[t].tkff_list,i=e[t].kit_token;T(i,n)}}))},populateCompleteTkffData:function(e,t){_.addClass(h),this.getCompleteWebProjectData(e).then((function(n){T(e,n,!0),_.removeClass(h),t&&t()}))}}}e.exports=m},1706:function(e,t){n.$inject=["webProjectListResponse"];function n(e){this._webProjectList=e.kitsData,this._totalPages=e.totalPages,this.currentPage=1,this._sortOrder="last_updated"}n.prototype.getWebProjectList=function(){return this._webProjectList},n.prototype.getTotalPages=function(){return this._totalPages},n.prototype.setWebProjectList=function(e){this._webProjectList=e},n.prototype.setTotalPages=function(e){this._totalPages=e},n.prototype.setCurrentPage=function(e){this.currentPage=e},n.prototype.deleteWebProject=function(e){var t=this._webProjectList.indexOf(e);t>-1&&this._webProjectList.splice(t,1)},n.prototype.getSortOrder=function(){return this._sortOrder},n.prototype.setSortOrder=function(e){this._sortOrder=e,this.setCurrentPage(1)},e.exports=n},1707:function(e,t,n){o.$inject=["webProjectData","isExpanded"];var i=n(19),r=Object.freeze({CHAR_SET_OPTION_ALL:"all",CHAR_SET_OPTION_CUSTOM:"custom",CHAR_SET_OPTION_DEFAULT:"default",CHAR_SET_OPTION_DYNAMIC:"dynamic"});function o(e,t){this._webProjectData=e,this._isExpanded=t,this._projectId=e.kit.kit.id,this._projectName=e.kit.kit.name,this._projectDetails={kitToken:e.kit.kit.token,dateModified:e.kit.kit.updated_at},this._tkffList=e.tkff_list,this._tkffListBackup=i.copy(e.tkff_list),this._isDynamic=e.is_dynamic,this.computeTotalVariations(),this.computeTotalFamilies(),this._isModified=!1,this._isValid=!0,this._deletedTkffs=[],this._isDataFetched=!1}o.prototype.getIsDataFetched=function(){return this._isDataFetched},o.prototype.setIsDataFetched=function(e){this._isDataFetched=e},o.prototype.getCharSetOptionsEnum=function(){return r},o.prototype.getWebProjectData=function(){return this._webProjectData},o.prototype.getProjectId=function(){return this._projectId},o.prototype.getProjectName=function(){return this._projectName},o.prototype.getProjectDetails=function(){return this._projectDetails},o.prototype.setLastModified=function(e){this._projectDetails.dateModified=e},o.prototype.isDynamic=function(){return this._isDynamic},o.prototype.getTotalVariations=function(){return this._totalVariations},o.prototype.computeTotalVariations=function(){var e,t=0;for(e=0;e<this._tkffList.length;e++)t+=this._tkffList[e].enabled_font_variation_ids.length;this._totalVariations=t},o.prototype.getTotalFamilies=function(){return this._totalFamilies},o.prototype.computeTotalFamilies=function(){this._totalFamilies=this._tkffList.length},o.prototype.getTkffList=function(){return this._tkffList?this._tkffList:[]},o.prototype.getVariableFonts=function(){return this.getTkffList().filter((function(e){return e.is_variable}))},o.prototype.getNonVariableFonts=function(){return this.getTkffList().filter((function(e){return!e.is_variable}))},o.prototype.hasVariableFonts=function(){return this.getVariableFonts().length>0},o.prototype.hasNonVariableFonts=function(){return this.getNonVariableFonts().length>0},o.prototype.setTkffList=function(e){this._tkffList=e,this._tkffListBackup=i.copy(e)},o.prototype.isLargeWebProject=function(){return this._totalVariations>8||!1},o.prototype.isExpanded=function(){return this._isExpanded},o.prototype.isCancelDisabled=function(){return!this._isModified},o.prototype.isSaveDisabled=function(){return!this._isValid},o.prototype.setIsValid=function(e){this._isValid=e},o.prototype.setIsModified=function(e){this._isModified=e},o.prototype.isModified=function(){return this._isModified},o.prototype.toggleExpanded=function(){this._isExpanded=!this._isExpanded},o.prototype.handleSave=function(){this.setIsModified(!1),this._deletedTkffs=[]},o.prototype.handleCancel=function(){this.toggleExpanded(),this._tkffList=i.copy(this._tkffListBackup),this.computeTotalFamilies(),this.computeTotalVariations(),this.setIsModified(!1),this._isValid=!0,this._deletedTkffs=[]},o.prototype.updateTkffListBackup=function(){this._tkffListBackup=i.copy(this._tkffList)},o.prototype.deleteTkff=function(e){this.setIsModified(!0),this._deletedTkffs.push(e);var t=this._tkffList.indexOf(e);t>-1&&this._tkffList.splice(t,1),this.updateIsValid(),this.computeTotalFamilies(),this.computeTotalVariations(),0==this._tkffList.length&&(this._isValid=!1)},o.prototype.getDeletedTkffs=function(){return this._deletedTkffs},o.prototype.updateIsValid=function(){var e=!0;this._tkffList.forEach((function(t){if(t.subsetting==r.CHAR_SET_OPTION_CUSTOM&&(!t.enabled_language_tags||0==t.enabled_language_tags.length))return e=!1,!0})),this.setIsValid(e)},e.exports=o},1708:function(e,t){function n(e){this._tkffData=e,this._formattedCssFontStack=this.formatCssFontStack(e.css_font_stack),this.initializeEnableDisableVariationArrays(),e.fvd_sorted_variations&&this.initializeIsFamilyRetired()}n.$inject=["tkffData"],n.prototype.getTkffData=function(){return this._tkffData},n.prototype.setTkffData=function(e){this._tkffData=e,this.initializeEnableDisableVariationArrays()},n.prototype.hasVariationId=function(e){return this._tkffData.fvd_sorted_variations.map((function(e){return e.id})).includes(e)},n.prototype.initializeEnableDisableVariationArrays=function(){this._tkffData.variationsEnabled=[],this._tkffData.variationsDisabled=[]},n.prototype.updateVariationsEnabled=function(e){var t=this._tkffData.variationsDisabled.indexOf(e);t>-1&&this._tkffData.variationsDisabled.splice(t,1),this._tkffData.variationsEnabled.push(e)},n.prototype.updateVariationsDisabled=function(e){var t=this._tkffData.variationsEnabled.indexOf(e);t>-1&&this._tkffData.variationsEnabled.splice(t,1),this._tkffData.variationsDisabled.push(e)},n.prototype.formatCssFontStack=function(e){return e.replace(/['"]/g,"").replace(",",", ")},n.prototype.getFormattedCssFontStack=function(){return this._formattedCssFontStack},n.prototype.initializeIsFamilyRetired=function(){var e;for(this.isFamilyRetired=!0,this.isAnyFontRetired=!1,e=0;e<this._tkffData.fvd_sorted_variations.length;e++)this._tkffData.fvd_sorted_variations[e].is_retired?this.isAnyFontRetired=!0:this.isFamilyRetired=!1},e.exports=n},1709:function(e,t,n){o.$inject=["availableFontVariations","enabledFontVariationIds","textSamples"];var i=n(198),r=n(1710);function o(e,t,n){this._availableFontVariations=e.sort((function(e,t){return i.compareFvds(e.fvd,t.fvd)})),this._enabledFontVariationIds=t,this._textSamples=n}o.prototype.getEnabledFontVariationIds=function(){return this._enabledFontVariationIds},o.prototype.setEnabledFontVariationIds=function(e){this._enabledFontVariationIds=e},o.prototype.getAvailableFontVariations=function(){return this._availableFontVariations},o.prototype.isVariationSelected=function(e){return this._enabledFontVariationIds.indexOf(e.id)>-1},o.prototype.toggleCheckbox=function(e){var t=this._enabledFontVariationIds.indexOf(e.id);t>-1?this._enabledFontVariationIds.splice(t,1):this._enabledFontVariationIds.push(e.id)},o.prototype.getVariationDisplayData=function(e){var t=this._textSamples[e.default_language].unicode_range,n=this._textSamples[e.default_language].feature_settings,i=this._textSamples[e.default_language].kana_only;return i||(i=!1),{cssName:e.web_id+"-"+e.fvd,fvd:e.fvd,isDynamic:!1,opaqueId:e.web_id,unicodeRange:t,featureSettings:n,kanaOnly:i}},o.prototype.getExampleText=function(e){return this._textSamples[e.default_language].list},o.prototype.getCompleteFontVariationStyle=function(e,t){return"font-family: "+t+";\nfont-weight: "+e.weight+";\nfont-style: "+e.style+";"},o.prototype.getTextSamples=function(){return this._textSamples},o.prototype.hasVariableFont=function(){return"undefined"===typeof this._hasVariableFont&&(this._hasVariableFont=this._availableFontVariations.map((function(e){return e.is_variable})).includes(!0)),this._hasVariableFont},o.prototype.webcomponents_getAvailableFontVariations=function(e){var t=this;return"undefined"===typeof this._webcomponentsAvailableFontVariations&&(this._webcomponentsAvailableFontVariations=this._availableFontVariations.map((function(n){return r.convertToVariation(n,e,t._textSamples)}))),this._webcomponentsAvailableFontVariations},e.exports=o},171:function(e,t,n){o.$inject=["$q"];var i=n(19),r={};function o(e){return{get:function(t){return e((function(e,n){r[t]?e(r[t]):n()}))},loadDataFromTemplate:function(e){i.forEach(e.find("script"),(function(e){"text/ng-data"==e.type&&function(e){t=e.attr("id"),n=JSON.parse(e.text()),r[t]=n;var t,n}(i.element(e))}))}}}e.exports=o},1710:function(e,t){e.exports={convertToVariation:function(e,t,n){return{axes:e.axes||[],cssFontStack:t,defaultLanguage:e.default_language,familyWebId:e.web_id,fontName:e.fontName,id:e.id,instances:e.instances||[],name:e.name,postscriptName:e.postscriptName,preferredSubfamilyName:e.preferred_subfamily_name,style:e.style,unicodeRange:n[e.default_language].unicode_range,weight:e.weight}}}},1711:function(e,t){function n(e,t,n){this._fontVariation=e,this._textSamples=t,this._typographicFamilySlug=n}n.$inject=["fontVariation","textSamples","typographicFamilySlug"],n.prototype.getVariationFamilyName=function(){return this._fontVariation.family_name},n.prototype.getTypographicFamilySlug=function(){return this._typographicFamilySlug},n.prototype.getVariationDisplayData=function(){var e=this._textSamples[this._fontVariation.default_language].unicode_range,t=this._textSamples[this._fontVariation.default_language].feature_settings,n=this._textSamples[this._fontVariation.default_language].kana_only,i=this._textSamples[this._fontVariation.default_language].grid;return n||(n=!1),{cssName:this._fontVariation.web_id+"-"+this._fontVariation.fvd,fvd:this._fontVariation.fvd,isDynamic:!0,opaqueId:this._fontVariation.web_id,unicodeRange:e,featureSettings:t,kanaOnly:n,textSample:i}},e.exports=n},1712:function(e,t,n){r.$inject=["$document","$q","$window"];var i=n(19);function r(e,t,n){var r=!1,o="https://www.youtube.com/player_api";return{init:function(){return t((function(a){r?a():t((function(t){n.onYouTubeIframeAPIReady=t;var r=i.element("<script><\/script>");r.attr("src",o),e.find("head").append(r)})).then((function(){r=!0,a()}))}))},load:function(e,i,r){return t((function(t){var o=new n.YT.Player(e,{height:r.height,events:{onReady:function(){t(o)},onStateChange:function(e){r.onPlayerStateChangeCallback&&r.onPlayerStateChangeCallback(e)}},playerVars:{rel:0},videoId:i,width:r.width})}))}}}e.exports=r},172:function(e,t){function n(e,t){return{getMessage:n,getMessageWithCount:function(e,t,i){return n(e,1===t?"one":"other",i)},getLocaleInfo:function(){return t.get("/locale_info")},setLocale:function(t){return e.post("/set_locale",{locale:t})}};function n(e,t,n){var i=e[t];if(n)for(var r in n)i=i.replace("%{"+r+"}",n[r]);return i}}n.$inject=["$http","DataService"],e.exports=n},173:function(e,t,n){var i=n(79);e.exports=function(){return{addOnReadyHandler:function(e){i.addOnReadyHandler(e)}}}},174:function(e,t,n){r.$inject=["$timeout","$window"];var i=n(6);function r(e,t){var n={};return{addPageAction:r,addPageActionWithDelay:function(t,i,o){n[t]&&e.cancel(n[t]);n[t]=e((function(){r(t,i),delete n[t]}),o)},init:function(){if(!t.addEventListener)return;var e=this;t.addEventListener("af-analytics",(function(t){var n=["af-analytics",t.detail.componentName,t.detail.eventName].join(".");e.addPageAction(n,i.omit(t.detail,"componentName","eventName"))}))},setCustomAttribute:function(e,n){if("undefined"==typeof t.newrelic||!t.newrelic)return;t.newrelic.setCustomAttribute(e,n)}};function r(e,n){"undefined"!=typeof t.newrelic&&t.newrelic&&t.newrelic.addPageAction(e,n)}}e.exports=r},175:function(e,t,n){r.$inject=["$httpParamSerializer","$window"];var i=n(6);function r(e,t){return{getSearchParam:function(e){return n(t.location.search)[e]},getSearchParams:function(){return n(t.location.search)},parseSearchParams:n,pushState:function(e,n,i){t.history.pushState(e,n,i)},removeSearchParam:function(e){var i=n(t.location.search);delete i[e],r(i)},setSearchParams:r,updateSearchParams:function(e){var o=n(t.location.search);i.extend(o,e),r(o)},updatePath:function(e){t.history.replaceState(null,null,e)}};function n(e){var t=e.replace(/^\?/,"").split("&");return i.reduce(t,(function(e,t){var n=t.split("=");return n[0]&&(e[n[0]]=function(e){if(!e.match(/[a-z]/i)&&parseInt(e))return parseInt(e);return decodeURIComponent(e)}(n[1])),e}),{})}function r(n){var r=e(n),o=i.isEmpty(r)?t.location.pathname:"?"+r;t.location.hash&&(o+=t.location.hash),t.history.replaceState(null,null,o)}}e.exports=r},176:function(e,t,n){o.$inject=["$q","$httpParamSerializer","$timeout","$window","PostLoginActionCreatorService","UrlService"];var i=n(6),r=n(59);function o(e,t,n,o,a,s){return{handleAuthenticationWithPostLoginAction:function(t,i){return e((function(e){n((function(){r.isSignedInUser()?e():a.createPostLoginAction(t,i).then(c)}))}))}};function c(e){var n=t(i.extend(s.getSearchParams(),a.getPostLoginActionParamsForUrl(e)));o.location="/login/sso?back_to="+encodeURIComponent(o.location.pathname+"?"+n)}}e.exports=o},177:function(e,t){n.$inject=["$http"];function n(e){return{createPostLoginAction:function(t,n){return e.post("/post_login_actions",{name:t,data:n}).then((function(e){return e.data.postLoginActionId}))},getPostLoginActionParamsForUrl:function(e){var t={};return t.post_login_action_id=e,t}}}e.exports=n},183:function(e,t){!function(e,t,n){"use strict";function i(e,t){return t=t||Error,function(){var n,i,r=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",c=o[1];for(s+=c.replace(/\{\d+\}/g,(function(e){var t=+e.slice(1,-1)+r;return t<o.length?Ve(o[t]):e})),s+="\nhttp://errors.angularjs.org/1.4.14/"+(e?e+"/":"")+a,i=r,n="?";i<o.length;i++,n="&")s+=n+"p"+(i-r)+"="+encodeURIComponent(Ve(o[i]));return new t(s)}}var r=/^\/(.+)\/([a-z]*)$/,o="validity",a=function(e){return V(e)?e.toLowerCase():e},s=Object.prototype.hasOwnProperty,c=function(e){return V(e)?e.toUpperCase():e};"i"!=="I".toLowerCase()&&(a=function(e){return V(e)?e.replace(/[A-Z]/g,(function(e){return String.fromCharCode(32|e.charCodeAt(0))})):e},c=function(e){return V(e)?e.replace(/[a-z]/g,(function(e){return String.fromCharCode(-33&e.charCodeAt(0))})):e});var l,u,d,f,p=[].slice,h=[].splice,m=[].push,g=Object.prototype.toString,v=Object.getPrototypeOf,y=i("ng"),b=e.angular||(e.angular={}),_=0;function S(e){if(null==e||q(e))return!1;if(W(e)||V(e)||u&&e instanceof u)return!0;var t="length"in Object(e)&&e.length;return U(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function w(e,t,n){var i,r;if(e)if(z(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i,e);else if(W(e)||S(e)){var o="object"!==typeof e;for(i=0,r=e.length;i<r;i++)(o||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==w)e.forEach(t,n,e);else if(j(e))for(i in e)t.call(n,e[i],i,e);else if("function"===typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)s.call(e,i)&&t.call(n,e[i],i,e);return e}function C(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function k(e){return function(t,n){e(n,t)}}function F(){return++_}function E(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function $(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;r<o;++r){var a=t[r];if(O(a)||z(a))for(var s=Object.keys(a),c=0,l=s.length;c<l;c++){var u=s[c],d=a[u];n&&O(d)?B(d)?e[u]=new Date(d.valueOf()):H(d)?e[u]=new RegExp(d):d.nodeName?e[u]=d.cloneNode(!0):te(d)?e[u]=d.clone():(O(e[u])||(e[u]=W(d)?[]:{}),$(e[u],[d],!0)):e[u]=d}}return E(e,i),e}function x(e){return $(e,p.call(arguments,1),!1)}function T(e){return $(e,p.call(arguments,1),!0)}function A(e){return parseInt(e,10)}function P(e,t){return x(Object.create(e),t)}function M(){}function D(e){return e}function I(e){return function(){return e}}function L(e){return z(e.toString)&&e.toString!==g}function N(e){return"undefined"===typeof e}function R(e){return"undefined"!==typeof e}function O(e){return null!==e&&"object"===typeof e}function j(e){return null!==e&&"object"===typeof e&&!v(e)}function V(e){return"string"===typeof e}function U(e){return"number"===typeof e}function B(e){return"[object Date]"===g.call(e)}l=t.documentMode,M.$inject=[],D.$inject=[];var W=Array.isArray;function z(e){return"function"===typeof e}function H(e){return"[object RegExp]"===g.call(e)}function q(e){return e&&e.window===e}function G(e){return e&&e.$evalAsync&&e.$watch}function Z(e){return"[object Blob]"===g.call(e)}function Y(e){return"boolean"===typeof e}function X(e){return e&&z(e.then)}var K=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function J(e){return e&&U(e.length)&&K.test(g.call(e))}var Q=function(e){return V(e)?e.trim():e},ee=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function te(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function ne(e){return a(e.nodeName||e[0]&&e[0].nodeName)}function ie(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function re(e,t){var n=[],i=[];if(t){if(J(t))throw y("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw y("cpi","Can't copy! Source and destination are identical.");return W(t)?t.length=0:w(t,(function(e,n){"$$hashKey"!==n&&delete t[n]})),n.push(e),i.push(t),r(e,t)}return o(e);function r(e,t){var n,i=t.$$hashKey;if(W(e))for(var r=0,a=e.length;r<a;r++)t.push(o(e[r]));else if(j(e))for(n in e)t[n]=o(e[n]);else if(e&&"function"===typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=o(e[n]));else for(n in e)s.call(e,n)&&(t[n]=o(e[n]));return E(t,i),t}function o(e){if(!O(e))return e;var t=n.indexOf(e);if(-1!==t)return i[t];if(q(e)||G(e))throw y("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var o,a=!1;return W(e)?(o=[],a=!0):J(e)?o=new e.constructor(e):B(e)?o=new Date(e.getTime()):H(e)?(o=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0])).lastIndex=e.lastIndex:Z(e)?o=new e.constructor([e],{type:e.type}):z(e.cloneNode)?o=e.cloneNode(!0):(o=Object.create(v(e)),a=!0),n.push(e),i.push(o),a?r(e,o):o}}function oe(e,t){if(W(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(O(e))for(var r in t=t||{},e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r]);return t||e}function ae(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,i,r,o=typeof e;if(o==typeof t&&"object"==o){if(!W(e)){if(B(e))return!!B(t)&&ae(e.getTime(),t.getTime());if(H(e))return!!H(t)&&e.toString()==t.toString();if(G(e)||G(t)||q(e)||q(t)||W(t)||B(t)||H(t))return!1;for(i in r=Oe(),e)if("$"!==i.charAt(0)&&!z(e[i])){if(!ae(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&R(t[i])&&!z(t[i]))return!1;return!0}if(!W(t))return!1;if((n=e.length)==t.length){for(i=0;i<n;i++)if(!ae(e[i],t[i]))return!1;return!0}}return!1}var se=function(){if(!R(se.rules)){var e=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");se.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else se.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return se.rules},ce=function(){if(R(ce.name_))return ce.name_;var e,n,i,r,o=ke.length;for(n=0;n<o;++n)if(i=ke[n],e=t.querySelector("["+i.replace(":","\\:")+"jq]")){r=e.getAttribute(i+"jq");break}return ce.name_=r};function le(e,t,n){return e.concat(p.call(t,n))}function ue(e,t){return p.call(e,t||0)}function de(e,t){var n=arguments.length>2?ue(arguments,2):[];return!z(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,le(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function fe(e,i){var r=i;return"string"===typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=n:q(i)?r="$WINDOW":i&&t===i?r="$DOCUMENT":G(i)&&(r="$SCOPE"),r}function pe(e,t){return N(e)?n:(U(t)||(t=t?2:null),JSON.stringify(e,fe,t))}function he(e){return V(e)?JSON.parse(e):e}var me=/:/g;function ge(e,t){e=e.replace(me,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ve(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,n*(ge(t,i)-i))}function ye(e){e=u(e).clone();try{e.empty()}catch(n){}var t=u("<div>").append(e).html();try{return e[0].nodeType===je?a(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,(function(e,t){return"<"+a(t)}))}catch(n){return a(t)}}function be(e){try{return decodeURIComponent(e)}catch(t){}}function _e(e){var t={};return w((e||"").split("&"),(function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),-1!==(n=e.indexOf("="))&&(i=e.substring(0,n),r=e.substring(n+1)),R(i=be(i))&&(r=!R(r)||be(r),s.call(t,i)?W(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))})),t}function Se(e){var t=[];return w(e,(function(e,n){W(e)?w(e,(function(e){t.push(Ce(n,!0)+(!0===e?"":"="+Ce(e,!0)))})):t.push(Ce(n,!0)+(!0===e?"":"="+Ce(e,!0)))})),t.length?t.join("&"):""}function we(e){return Ce(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ce(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var ke=["ng-","data-ng-","ng:","x-ng-"];function Fe(e,t){var n,i,r={};w(ke,(function(t){var r=t+"app";!n&&e.hasAttribute&&e.hasAttribute(r)&&(n=e,i=e.getAttribute(r))})),w(ke,(function(t){var r,o=t+"app";!n&&(r=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(o))})),n&&(r.strictDi=null!==function(e,t){var n,i,r=ke.length;for(i=0;i<r;++i)if(n=ke[i]+t,V(n=e.getAttribute(n)))return n;return null}(n,"strict-di"),t(n,i?[i]:[],r))}function Ee(n,i,r){O(r)||(r={});r=x({strictDi:!1},r);var o=function(){if((n=u(n)).injector()){var e=n[0]===t?"document":ye(n);throw y("btstrpd","App already bootstrapped with this element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}(i=i||[]).unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),i.unshift("ng");var o=Ot(i,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply((function(){t.data("$injector",i),n(t)(e)}))}]),o},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(e&&a.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!s.test(e.name))return o();e.name=e.name.replace(s,""),b.resumeBootstrap=function(e){return w(e,(function(e){i.push(e)})),o()},z(b.resumeDeferredBootstrap)&&b.resumeDeferredBootstrap()}function $e(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function xe(e){var t=b.element(e).injector();if(!t)throw y("test","no injector found for element argument to getTestability");return t.get("$$testability")}var Te=/[A-Z]/g;function Ae(e,t){return t=t||"_",e.replace(Te,(function(e,n){return(n?t:"")+e.toLowerCase()}))}var Pe,Me=!1;function De(e,t,n){if(!e)throw y("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function Ie(e,t,n){return n&&W(e)&&(e=e[e.length-1]),De(z(e),t,"not a function, got "+(e&&"object"===typeof e?e.constructor.name||"Object":typeof e)),e}function Le(e,t){if("hasOwnProperty"===e)throw y("badname","hasOwnProperty is not a valid {0} name",t)}function Ne(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,a=r.length,s=0;s<a;s++)i=r[s],e&&(e=(o=e)[i]);return!n&&z(e)?de(o,e):e}function Re(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=u(p.call(e,0,r))),t.push(n));return t||e}function Oe(){return Object.create(null)}var je=3;function Ve(e){return"function"===typeof e?e.toString().replace(/ \{[\s\S]*$/,""):N(e)?"undefined":"string"!==typeof e?function(e){var t=[];return JSON.stringify(e,(function(e,n){if(O(n=fe(e,n))){if(t.indexOf(n)>=0)return"...";t.push(n)}return n}))}(e):e}var Ue={full:"1.4.14",major:1,minor:4,dot:14,codeName:"material-distinction"};st.expando="ng339";var Be=st.cache={},We=1,ze=function(e,t,n){e.addEventListener(t,n,!1)},He=function(e,t,n){e.removeEventListener(t,n,!1)};st._data=function(e){return this.cache[e[this.expando]]||{}};var qe=/([\:\-\_]+(.))/g,Ge=/^moz([A-Z])/,Ze={mouseleave:"mouseout",mouseenter:"mouseover"},Ye=i("jqLite");function Xe(e){return e.replace(qe,(function(e,t,n,i){return i?n.toUpperCase():n})).replace(Ge,"Moz$1")}var Ke=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Je=/<|&#?\w+;/,Qe=/<([\w:-]+)/,et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,tt={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function nt(e){return!Je.test(e)}function it(e){var t=e.nodeType;return 1===t||!t||9===t}function rt(e,t){var n,i,r,o,a=t.createDocumentFragment(),s=[];if(nt(e))s.push(t.createTextNode(e));else{for(n=n||a.appendChild(t.createElement("div")),i=(Qe.exec(e)||["",""])[1].toLowerCase(),r=tt[i]||tt._default,n.innerHTML=r[1]+e.replace(et,"<$1></$2>")+r[2],o=r[0];o--;)n=n.lastChild;s=le(s,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",w(s,(function(e){a.appendChild(e)})),a}function ot(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}tt.optgroup=tt.option,tt.tbody=tt.tfoot=tt.colgroup=tt.caption=tt.thead,tt.th=tt.td;var at=Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function st(e){if(e instanceof st)return e;var n,i,r,o;if(V(e)&&(e=Q(e),n=!0),!(this instanceof st)){if(n&&"<"!=e.charAt(0))throw Ye("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new st(e)}vt(this,n?(i=e,r=r||t,(o=Ke.exec(i))?[r.createElement(o[1])]:(o=rt(i,r))?o.childNodes:[]):e)}function ct(e){return e.cloneNode(!0)}function lt(e,t){if(t||dt(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,r=n.length;i<r;i++)dt(n[i])}function ut(e,t,n,i){if(R(i))throw Ye("offargs","jqLite#off() does not support the `selector` argument");var r=ft(e),o=r&&r.events,a=r&&r.handle;if(a)if(t){var s=function(t){var i=o[t];R(n)&&ie(i||[],n),R(n)&&i&&i.length>0||(He(e,t,a),delete o[t])};w(t.split(" "),(function(e){s(e),Ze[e]&&s(Ze[e])}))}else for(t in o)"$destroy"!==t&&He(e,t,a),delete o[t]}function dt(e,t){var i=e.ng339,r=i&&Be[i];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),ut(e)),delete Be[i],e.ng339=n}}function ft(e,t){var i=e.ng339,r=i&&Be[i];return t&&!r&&(e.ng339=i=++We,r=Be[i]={events:{},data:{},handle:n}),r}function pt(e,t,n){if(it(e)){var i=R(n),r=!i&&t&&!O(t),o=!t,a=ft(e,!r),s=a&&a.data;if(i)s[t]=n;else{if(o)return s;if(r)return s&&s[t];x(s,t)}}}function ht(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function mt(e,t){t&&e.setAttribute&&w(t.split(" "),(function(t){e.setAttribute("class",Q((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Q(t)+" "," ")))}))}function gt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");w(t.split(" "),(function(e){e=Q(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")})),e.setAttribute("class",Q(n))}}function vt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"===typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function yt(e,t){return bt(e,"$"+(t||"ngController")+"Controller")}function bt(e,t,n){9==e.nodeType&&(e=e.documentElement);for(var i=W(t)?t:[t];e;){for(var r=0,o=i.length;r<o;r++)if(R(n=u.data(e,i[r])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function _t(e){for(lt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function St(e,t){t||lt(e);var n=e.parentNode;n&&n.removeChild(e)}var wt=st.prototype={ready:function(n){var i=!1;function r(){i||(i=!0,n())}"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),st(e).on("load",r))},toString:function(){var e=[];return w(this,(function(t){e.push(""+t)})),"["+e.join(", ")+"]"},eq:function(e){return u(e>=0?this[e]:this[this.length+e])},length:0,push:m,sort:[].sort,splice:[].splice},Ct={};w("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(e){Ct[a(e)]=e}));var kt={};w("input,select,option,textarea,button,form,details".split(","),(function(e){kt[e]=!0}));var Ft={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};function Et(e,t){var n=Ct[t.toLowerCase()];return n&&kt[ne(e)]&&n}function $t(e,t,n){n.call(e,t)}function xt(e,t,n){var i=t.relatedTarget;i&&(i===e||at.call(e,i))||n.call(e,t)}function Tt(){this.$get=function(){return x(st,{hasClass:function(e,t){return e.attr&&(e=e[0]),ht(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),gt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),mt(e,t)}})}}function At(e,t){var n=e&&e.$$hashKey;if(n)return"function"===typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"==i||"object"==i&&null!==e?e.$$hashKey=i+":"+(t||F)():i+":"+e}function Pt(e,t){if(t){var n=0;this.nextUid=function(){return++n}}w(e,this.put,this)}w({data:pt,removeData:dt,hasData:function(e){for(var t in Be[e.ng339])return!0;return!1}},(function(e,t){st[t]=e})),w({data:pt,inheritedData:bt,scope:function(e){return u.data(e,"$scope")||bt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return u.data(e,"$isolateScope")||u.data(e,"$isolateScopeNoTemplate")},controller:yt,injector:function(e){return bt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:ht,css:function(e,t,n){if(t=Xe(t),!R(n))return e.style[t];e.style[t]=n},attr:function(e,t,i){var r=e.nodeType;if(r!==je&&2!==r&&8!==r){var o=a(t);if(Ct[o]){if(!R(i))return e[t]||(e.attributes.getNamedItem(t)||M).specified?o:n;i?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if(R(i))e.setAttribute(t,i);else if(e.getAttribute){var s=e.getAttribute(t,2);return null===s?n:s}}},prop:function(e,t,n){if(!R(n))return e[t];e[t]=n},text:function(){return e.$dv="",e;function e(e,t){if(N(t)){var n=e.nodeType;return 1===n||n===je?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(N(t)){if(e.multiple&&"select"===ne(e)){var n=[];return w(e.options,(function(e){e.selected&&n.push(e.value||e.text)})),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(N(t))return e.innerHTML;lt(e,!0),e.innerHTML=t},empty:_t},(function(e,t){st.prototype[t]=function(t,n){var i,r,o=this.length;if(e!==_t&&N(2==e.length&&e!==ht&&e!==yt?t:n)){if(O(t)){for(i=0;i<o;i++)if(e===pt)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(var a=e.$dv,s=N(a)?Math.min(o,1):o,c=0;c<s;c++){var l=e(this[c],t,n);a=a?a+l:l}return a}for(i=0;i<o;i++)e(this[i],t,n);return this}})),w({removeData:dt,on:function(e,t,i,r){if(R(r))throw Ye("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(it(e)){var o=ft(e,!0),a=o.events,s=o.handle;s||(s=o.handle=function(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(N(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=r.specialHandlerWrapper||$t;o>1&&(r=oe(r));for(var c=0;c<o;c++)n.isImmediatePropagationStopped()||s(e,n,r[c])}};return n.elem=e,n}(e,a));for(var c=t.indexOf(" ")>=0?t.split(" "):[t],l=c.length,u=function(t,n,r){var o=a[t];o||((o=a[t]=[]).specialHandlerWrapper=n,"$destroy"===t||r||ze(e,t,s)),o.push(i)};l--;)t=c[l],Ze[t]?(u(Ze[t],xt),u(t,n,!0)):u(t)}},off:ut,one:function(e,t,n){(e=u(e)).on(t,(function i(){e.off(t,n),e.off(t,i)})),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;lt(e),w(new st(t),(function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t}))},children:function(e){var t=[];return w(e.childNodes,(function(e){1===e.nodeType&&t.push(e)})),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n)for(var i=0,r=(t=new st(t)).length;i<r;i++){var o=t[i];e.appendChild(o)}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;w(new st(t),(function(t){e.insertBefore(t,n)}))}},wrap:function(e,t){ot(e,u(t).eq(0).clone()[0])},remove:St,detach:function(e){St(e,!0)},after:function(e,t){for(var n=e,i=e.parentNode,r=0,o=(t=new st(t)).length;r<o;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:gt,removeClass:mt,toggleClass:function(e,t,n){t&&w(t.split(" "),(function(t){var i=n;N(i)&&(i=!ht(e,t)),(i?gt:mt)(e,t)}))},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ct,triggerHandler:function(e,t,n){var i,r,o,a=t.type||t,s=ft(e),c=s&&s.events,l=c&&c[a];l&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:M,type:a,target:e},t.type&&(i=x(i,t)),r=oe(l),o=n?[i].concat(n):[i],w(r,(function(t){i.isImmediatePropagationStopped()||t.apply(e,o)})))}},(function(e,t){st.prototype[t]=function(t,n,i){for(var r,o=0,a=this.length;o<a;o++)N(r)?R(r=e(this[o],t,n,i))&&(r=u(r)):vt(r,e(this[o],t,n,i));return R(r)?r:this},st.prototype.bind=st.prototype.on,st.prototype.unbind=st.prototype.off})),Pt.prototype={put:function(e,t){this[At(e,this.nextUid)]=t},get:function(e){return this[At(e,this.nextUid)]},remove:function(e){var t=this[e=At(e,this.nextUid)];return delete this[e],t}};var Mt=[function(){this.$get=[function(){return Pt}]}],Dt=/^[^\(]*\(\s*([^\)]*)\)/m,It=/,/,Lt=/^\s*(_?)(\S+?)\1\s*$/,Nt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Rt=i("$injector");function Ot(e,t){t=!0===t;var i={},r="Provider",o=[],a=new Pt([],!0),s={$provide:{provider:d(p),factory:d(m),service:d((function(e,t){return m(e,["$injector",function(e){return e.instantiate(t)}])})),value:d((function(e,t){return m(e,I(t),!1)})),constant:d((function(e,t){Le(e,"constant"),s[e]=t,l[e]=t})),decorator:function(e,t){var n=c.get(e+r),i=n.$get;n.$get=function(){var e=u.invoke(i,n);return u.invoke(t,null,{$delegate:e})}}}},c=s.$injector=g(s,(function(e,t){throw b.isString(t)&&o.push(t),Rt("unpr","Unknown provider: {0}",o.join(" <- "))})),l={},u=l.$injector=g(l,(function(e,t){var i=c.get(e+r,t);return u.invoke(i.$get,i,n,e)}));return w(function e(t){De(N(t)||W(t),"modulesToLoad","not an array");var n,i=[];return w(t,(function(t){if(!a.get(t)){a.put(t,!0);try{V(t)?(n=f(t),i=i.concat(e(n.requires)).concat(n._runBlocks),r(n._invokeQueue),r(n._configBlocks)):z(t)||W(t)?i.push(c.invoke(t)):Ie(t,"module")}catch(o){throw W(t)&&(t=t[t.length-1]),o.message&&o.stack&&-1==o.stack.indexOf(o.message)&&(o=o.message+"\n"+o.stack),Rt("modulerr","Failed to instantiate module {0} due to:\n{1}",t,o.stack||o.message||o)}}function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=c.get(i[0]);r[i[1]].apply(r,i[2])}}})),i}(e),(function(e){e&&u.invoke(e)})),u;function d(e){return function(t,n){if(!O(t))return e(t,n);w(t,k(e))}}function p(e,t){if(Le(e,"service"),(z(t)||W(t))&&(t=c.instantiate(t)),!t.$get)throw Rt("pget","Provider '{0}' must define $get factory method.",e);return s[e+r]=t}function h(e,t){return function(){var n=u.invoke(t,this);if(N(n))throw Rt("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function m(e,t,n){return p(e,{$get:!1!==n?h(e,t):t})}function g(e,n){function a(t,r){if(e.hasOwnProperty(t)){if(e[t]===i)throw Rt("cdep","Circular dependency found: {0}",t+" <- "+o.join(" <- "));return e[t]}try{return o.unshift(t),e[t]=i,e[t]=n(t,r)}catch(a){throw e[t]===i&&delete e[t],a}finally{o.shift()}}function c(e,n,i,r){"string"===typeof i&&(r=i,i=null);var o,s,c,l=[],u=Ot.$$annotate(e,t,r);for(s=0,o=u.length;s<o;s++){if("string"!==typeof(c=u[s]))throw Rt("itkn","Incorrect injection token! Expected service name as string, got {0}",c);l.push(i&&i.hasOwnProperty(c)?i[c]:a(c,r))}return W(e)&&(e=e[o]),e.apply(n,l)}return{invoke:c,instantiate:function(e,t,n){var i=Object.create((W(e)?e[e.length-1]:e).prototype||null),r=c(e,i,t,n);return O(r)||z(r)?r:i},get:a,annotate:Ot.$$annotate,has:function(t){return s.hasOwnProperty(t+r)||e.hasOwnProperty(t)}}}}function jt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,i,r){var o=n.document;function a(e){if(e){e.scrollIntoView();var t=function(){var e=s.yOffset;if(z(e))e=e();else if(te(e)){var t=e[0];e="fixed"!==n.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else U(e)||(e=0);return e}();if(t){var i=e.getBoundingClientRect().top;n.scrollBy(0,i-t)}}else n.scrollTo(0,0)}function s(e){var t,n,r;(e=V(e)?e:i.hash())?(t=o.getElementById(e))?a(t):(n=o.getElementsByName(e),r=null,Array.prototype.some.call(n,(function(e){if("a"===ne(e))return r=e,!0})),(t=r)?a(t):"top"===e&&a(null)):a(null)}return t&&r.$watch((function(){return i.hash()}),(function(t,n){var i,o;t===n&&""===t||(i=function(){r.$evalAsync(s)},"complete"===(o=o||e).document.readyState?o.setTimeout(i):u(o).on("load",i))})),s}]}Ot.$$annotate=function(e,t,n){var i,r;if("function"===typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw V(n)&&n||(n=e.name||function(e){var t=e.toString().replace(Nt,"").match(Dt);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(e)),Rt("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);w(e.toString().replace(Nt,"").match(Dt)[1].split(It),(function(e){e.replace(Lt,(function(e,t,n){i.push(n)}))}))}e.$inject=i}}else W(e)?(Ie(e[r=e.length-1],"fn"),i=e.slice(0,r)):Ie(e,"fn",!0);return i};var Vt=i("$animate"),Ut="ng-animate";function Bt(e,t){return e||t?e?t?(W(e)&&(e=e.join(" ")),W(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Wt(e){return O(e)?e:{}}var zt=function(){this.$get=function(){}},Ht=function(){var e=new Pt,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){return{enabled:M,on:M,off:M,pin:M,push:function(a,s,c,l){l&&l(),(c=c||{}).from&&a.css(c.from),c.to&&a.css(c.to),(c.addClass||c.removeClass)&&function(n,a,s){var c=e.get(n)||{},l=r(c,a,!0),u=r(c,s,!1);(l||u)&&(e.put(n,c),t.push(n),1===t.length&&i.$$postDigest(o))}(a,c.addClass,c.removeClass);var u=new n;return u.complete(),u}};function r(e,t,n){var i=!1;return t&&w(t=V(t)?t.split(" "):W(t)?t:[],(function(t){t&&(i=!0,e[t]=n)})),i}function o(){w(t,(function(t){var n=e.get(t);if(n){var i=function(e){V(e)&&(e=e.split(" "));var t=Oe();return w(e,(function(e){e.length&&(t[e]=!0)})),t}(t.attr("class")),r="",o="";w(n,(function(e,t){e!==!!i[t]&&(e?r+=(r.length?" ":"")+t:o+=(o.length?" ":"")+t)})),w(t,(function(e){r&&gt(e,r),o&&mt(e,o)})),e.remove(t)}})),t.length=0}}]},qt=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Vt("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)ng-animate(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Vt("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Ut)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,r,o){return i=i&&u(i),r=r&&u(r),t(n,i=i||r.parent(),r),e.push(n,"enter",Wt(o))},move:function(n,i,r,o){return i=i&&u(i),r=r&&u(r),t(n,i=i||r.parent(),r),e.push(n,"move",Wt(o))},leave:function(t,n){return e.push(t,"leave",Wt(n),(function(){t.remove()}))},addClass:function(t,n,i){return(i=Wt(i)).addClass=Bt(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return(i=Wt(i)).removeClass=Bt(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return(r=Wt(r)).addClass=Bt(r.addClass,n),r.removeClass=Bt(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,o){return(o=Wt(o)).from=o.from?x(o.from,n):n,o.to=o.to?x(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=Bt(o.tempClasses,r),e.push(t,"animate",o)}}}]}],Gt=function(){this.$get=["$$rAF",function(e){var t=[];function n(n){t.push(n),t.length>1||e((function(){for(var e=0;e<t.length;e++)t[e]();t=[]}))}return function(){var e=!1;return n((function(){e=!0})),function(t){e?t():n(t)}}}]},Zt=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,i,r){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){var n=i[0];n&&n.hidden?function(e){r(e,0,!1)}(e):t(e)},this._state=0}return o.chain=function(e,t){var n=0;!function i(){if(n===e.length)return void t(!0);e[n]((function(e){!1!==e?(n++,i()):t(!1)}))}()},o.all=function(e,t){var n=0,i=!0;function r(r){i=i&&r,++n===e.length&&t(i)}w(e,(function(e){e.done(r)}))},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:M,getPromise:function(){if(!this.promise){var t=this;this.promise=e((function(e,n){t.done((function(t){!1===t?n():e()}))}))}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick((function(){t._resolve(e)})))},_resolve:function(e){2!==this._state&&(w(this._doneCallbacks,(function(t){t(e)})),this._doneCallbacks.length=0,this._state=2)}},o}]},Yt=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){var r=i||{};r.$$prepared||(r=re(r)),r.cleanupStyles&&(r.from=r.to=null),r.from&&(t.css(r.from),r.from=null);var o,a=new n;return{start:s,end:s};function s(){return e((function(){!function(){r.addClass&&(t.addClass(r.addClass),r.addClass=null);r.removeClass&&(t.removeClass(r.removeClass),r.removeClass=null);r.to&&(t.css(r.to),r.to=null)}(),o||a.complete(),o=!0})),a}}}]};function Xt(e,t,n,i){var r=this,o=(t[0],e.location),a=e.history,s=e.setTimeout,c=e.clearTimeout,l={};r.isMock=!1;var d=0,f=[];function p(e){try{e.apply(null,ue(arguments,1))}finally{if(0===--d)for(;f.length;)try{f.pop()()}catch(t){n.error(t)}}}r.$$completeOutstandingRequest=p,r.$$incOutstandingRequestCount=function(){d++},r.notifyWhenNoOutstandingRequests=function(e){0===d?e():f.push(e)};var h,m,g=o.href,v=t.find("base"),y=null;k(),m=h,r.url=function(t,n,s){if(N(s)&&(s=null),o!==e.location&&(o=e.location),a!==e.history&&(a=e.history),t){var c=m===s;if(g===t&&(!i.history||c))return r;var l=g&&Un(g)===Un(t);return g=t,m=s,!i.history||l&&c?(l&&!y||(y=t),n?o.replace(t):l?o.hash=function(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}(t):o.href=t,o.href!==t&&(y=t)):(a[n?"replaceState":"pushState"](s,"",t),k(),m=h),r}return y||o.href.replace(/%27/g,"'")},r.state=function(){return h};var b=[],_=!1;function S(){y=null,k(),F()}var C=null;function k(){ae(h=N(h=function(){try{return a.state}catch(e){}}())?null:h,C)&&(h=C),C=h}function F(){g===r.url()&&m===h||(g=r.url(),m=h,w(b,(function(e){e(r.url(),h)})))}r.onUrlChange=function(t){return _||(i.history&&u(e).on("popstate",S),u(e).on("hashchange",S),_=!0),b.push(t),t},r.$$applicationDestroyed=function(){u(e).off("hashchange popstate",S)},r.$$checkUrlChange=F,r.baseHref=function(){var e=v.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},r.defer=function(e,t){var n;return d++,n=s((function(){delete l[n],p(e)}),t||0),l[n]=!0,n},r.defer.cancel=function(e){return!!l[e]&&(delete l[e],c(e),p(M),!0)}}function Kt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new Xt(e,i,t,n)}]}function Jt(){this.$get=function(){var e={};function t(t,n){if(t in e)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var r=0,o=x({},n,{id:t}),a=Oe(),s=n&&n.capacity||Number.MAX_VALUE,c=Oe(),l=null,u=null;return e[t]={put:function(e,t){if(!N(t)){if(s<Number.MAX_VALUE)d(c[e]||(c[e]={key:e}));return e in a||r++,a[e]=t,r>s&&this.remove(u.key),t}},get:function(e){if(s<Number.MAX_VALUE){var t=c[e];if(!t)return;d(t)}return a[e]},remove:function(e){if(s<Number.MAX_VALUE){var t=c[e];if(!t)return;t==l&&(l=t.p),t==u&&(u=t.n),f(t.n,t.p),delete c[e]}e in a&&(delete a[e],r--)},removeAll:function(){a=Oe(),r=0,c=Oe(),l=u=null},destroy:function(){a=null,o=null,c=null,delete e[t]},info:function(){return x({},o,{size:r})}};function d(e){e!=l&&(u?u==e&&(u=e.n):u=e,f(e.n,e.p),f(e,l),(l=e).n=null)}function f(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}}return t.info=function(){var t={};return w(e,(function(e,n){t[n]=e.info()})),t},t.get=function(t){return e[t]},t}}function Qt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var en=i("$compile");function tn(e,i){var r={},o="Directive",c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,p=function(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,m=/^(on[a-z]+|formaction)$/,g=Oe();function v(e,t,n){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r=Oe();return w(e,(function(e,o){if(e in g)r[o]=g[e];else{var a=e.match(i);if(!a)throw en("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");r[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(g[e]=r[o])}})),r}function y(e,t){var n={isolateScope:null,bindToController:null};if(O(e.scope)&&(!0===e.bindToController?(n.bindToController=v(e.scope,t,!0),n.isolateScope={}):n.isolateScope=v(e.scope,t,!1)),O(e.bindToController)&&(n.bindToController=v(e.bindToController,t,!0)),O(n.bindToController)){var i=e.controller,r=e.controllerAs;if(!i)throw en("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!function(e,t){if(t&&V(t))return t;if(V(e)){var n=cn.exec(e);if(n)return n[3]}}(i,r))throw en("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}this.directive=function t(n,i){return Le(n,"directive"),V(n)?(!function(e){var t=e.charAt(0);if(!t||t!==a(t))throw en("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw en("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(n),De(i,"directiveFactory"),r.hasOwnProperty(n)||(r[n]=[],e.factory(n+o,["$injector","$exceptionHandler",function(e,t){var i=[];return w(r[n],(function(r,o){try{var a=e.invoke(r);z(a)?a={compile:I(a)}:!a.compile&&a.link&&(a.compile=I(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",a.$$moduleName=r.$$moduleName,i.push(a)}catch(s){t(s)}})),i}])),r[n].push(i)):w(n,k(t)),this},this.aHrefSanitizationWhitelist=function(e){return R(e)?(i.aHrefSanitizationWhitelist(e),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return R(e)?(i.imgSrcSanitizationWhitelist(e),this):i.imgSrcSanitizationWhitelist()};var b=!0;this.debugInfoEnabled=function(e){return R(e)?(b=e,this):b},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,i,g,v,_,S,C,k,F,E){var $=function(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;n<i;n++)this[r=o[n]]=t[r]}else this.$attr={};this.$$element=e};function T(e,t){try{e.addClass(t)}catch(n){}}$.prototype={$normalize:rn,$addClass:function(e){e&&e.length>0&&F.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&F.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=on(e,t);n&&n.length&&F.addClass(this.$$element,n);var i=on(t,e);i&&i.length&&F.removeClass(this.$$element,i)},$set:function(e,t,n,i){var r,o=Et(this.$$element[0],e),a=Ft[e],s=e;if(o?(this.$$element.prop(e,t),i=o):a&&(this[a]=t,s=a),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=Ae(e,"-")),"a"===(r=ne(this.$$element))&&"href"===e||"img"===r&&"src"===e)this[e]=t=E(t,"src"===e);else if("img"===r&&"srcset"===e&&R(t)){for(var c="",l=Q(t),u=/\s/.test(l)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,d=l.split(u),f=Math.floor(d.length/2),p=0;p<f;p++){var h=2*p;c+=E(Q(d[h]),!0),c+=" "+Q(d[h+1])}var m=Q(d[2*p]).split(/\s/);c+=E(Q(m[0]),!0),2===m.length&&(c+=" "+Q(m[1])),this[e]=t=c}!1!==n&&(null===t||N(t)?this.$$element.removeAttr(i):this.$$element.attr(i,t));var v=this.$$observers;v&&w(v[s],(function(e){try{e(t)}catch(n){g(n)}}))},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=Oe()),r=i[e]||(i[e]=[]);return r.push(t),C.$evalAsync((function(){r.$$inter||!n.hasOwnProperty(e)||N(n[e])||t(n[e])})),function(){ie(r,t)}}};var A=i.startSymbol(),I=i.endSymbol(),L="{{"==A&&"}}"==I?D:function(e){return e.replace(/\{\{/g,A).replace(/}}/g,I)},j=/^ngAttr[A-Z]/,U=/^(.+)Start$/;return B.$$addBindingInfo=b?function(e,t){var n=e.data("$binding")||[];W(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:M,B.$$addBindingClass=b?function(e){T(e,"ng-binding")}:M,B.$$addScopeInfo=b?function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:M,B.$$addScopeClass=b?function(e,t){T(e,t?"ng-isolate-scope":"ng-scope")}:M,B;function B(e,n,i,r,o){e instanceof u||(e=u(e));for(var a=/\S+/,s=0,c=e.length;s<c;s++){var l=e[s];l.nodeType===je&&l.nodeValue.match(a)&&ot(l,e[s]=t.createElement("span"))}var d=H(e,n,e,i,r,o);B.$$addScopeClass(e);var f=null;return function(t,n,i){De(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new());var r,a,s,c=(i=i||{}).parentBoundTranscludeFn,l=i.transcludeControllers,p=i.futureParentElement;if(c&&c.$$boundTransclude&&(c=c.$$boundTransclude),f||(a=(r=p)&&r[0],f=a&&"foreignobject"!==ne(a)&&a.toString().match(/SVG/)?"svg":"html"),s="html"!==f?u(de(f,u("<div>").append(e).html())):n?wt.clone.call(e):e,l)for(var h in l)s.data("$"+h+"Controller",l[h].instance);return B.$$addScopeInfo(s,t),n&&n(s,t),d&&d(t,s,s,c),s}}function H(e,t,i,r,o,a){for(var s,c,l,d,f,p,h,m=[],g=0;g<e.length;g++)s=new $,(l=(c=Z(e[g],[],s,0===g?r:n,o)).length?J(c,e[g],s,t,i,null,[],[],a):null)&&l.scope&&B.$$addScopeClass(s.$$element),f=l&&l.terminal||!(d=e[g].childNodes)||!d.length?null:H(d,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:t),(l||f)&&(m.push(g,l,f),p=!0,h=h||l),a=null;return p?function(e,i,r,o){var a,s,c,l,d,f,p,g,v;if(h){var y=i.length;for(v=new Array(y),d=0;d<m.length;d+=3)p=m[d],v[p]=i[p]}else v=i;for(d=0,f=m.length;d<f;)c=v[m[d++]],a=m[d++],s=m[d++],a?(a.scope?(l=e.$new(),B.$$addScopeInfo(u(c),l)):l=e,g=a.transcludeOnThisElement?q(e,a.transclude,o):!a.templateOnThisElement&&o?o:!o&&t?q(e,t):null,a(s,l,c,r,g)):s&&s(e,c.childNodes,n,o)}:null}function q(e,t,n){return function(i,r,o,a,s){return i||((i=e.$new(!1,s)).$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}}function Z(e,t,n,r,o){var a,s,u,d=e.nodeType,p=n.$attr;switch(d){case 1:te(t,rn(s=ne(e)),"E",r,o);for(var h,m,g,v,y,b,_=e.attributes,S=0,w=_&&_.length;S<w;S++){var C=!1,k=!1;m=(h=_[S]).name,y=Q(h.value),v=rn(m),(b=j.test(v))&&(m=m.replace(nn,"").substr(8).replace(/_(.)/g,(function(e,t){return t.toUpperCase()})));var F=v.match(U);F&&re(F[1])&&(C=m,k=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6)),p[g=rn(m.toLowerCase())]=m,!b&&n.hasOwnProperty(g)||(n[g]=y,Et(e,g)&&(n[g]=!0)),fe(e,t,y,g,b),te(t,g,"A",r,o,C,k)}if("input"===s&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),O(u=e.className)&&(u=u.animVal),V(u)&&""!==u)for(;a=f.exec(u);)te(t,g=rn(a[2]),"C",r,o)&&(n[g]=Q(a[3])),u=u.substr(a.index+a[0].length);break;case je:if(11===l)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===je;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);!function(e,t){var n=i(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),i=!!t.length;return i&&B.$$addBindingClass(t),function(e,t){var r=t.parent();i||B.$$addBindingClass(r),B.$$addBindingInfo(r,n.expressions),e.$watch(n,(function(e){t[0].nodeValue=e}))}}})}(t,e.nodeValue);break;case 8:try{(a=c.exec(e.nodeValue))&&te(t,g=rn(a[1]),"M",r,o)&&(n[g]=Q(a[2]))}catch(E){}}return t.sort(ce),t}function X(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw en("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1==e.nodeType&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0);else i.push(e);return u(i)}function K(e,t,n){return function(i,r,o,a,s){return r=X(r[0],t,n),e(i,r,o,a,s)}}function J(e,i,r,o,a,s,c,l,d){d=d||{};for(var f,p,m,v,y,b=-Number.MAX_VALUE,_=d.newScopeDirective,w=d.controllerDirectives,C=d.newIsolateScopeDirective,k=d.templateDirective,F=d.nonTlbTranscludeDirective,E=!1,x=!1,T=d.hasElementTranscludeDirective,A=r.$$element=u(i),P=s,M=o,D=0,I=e.length;D<I;D++){var N=(f=e[D]).$$start,R=f.$$end;if(N&&(A=X(i,N,R)),m=n,b>f.priority)break;if((y=f.scope)&&(f.templateUrl||(O(y)?(le("new/isolated scope",C||_,f,A),C=f):le("new/isolated scope",C,f,A)),_=_||f),p=f.name,!f.templateUrl&&f.controller&&(y=f.controller,w=w||Oe(),le("'"+p+"' controller",w[p],f,A),w[p]=f),(y=f.transclude)&&(E=!0,f.$$tlb||(le("transclusion",F,f,A),F=f),"element"==y?(T=!0,b=f.priority,m=A,A=r.$$element=u(t.createComment(" "+p+": "+r[p]+" ")),i=A[0],pe(a,ue(m),i),M=B(m,o,b,P&&P.name,{nonTlbTranscludeDirective:F})):(m=u(ct(i)).contents(),A.empty(),M=B(m,o,n,n,{needsNewScope:f.$$isolateScope||f.$$newScope}))),f.template)if(x=!0,le("template",k,f,A),k=f,y=z(f.template)?f.template(A,r):f.template,y=L(y),f.replace){if(P=f,m=nt(y)?[]:an(de(f.templateNamespace,Q(y))),i=m[0],1!=m.length||1!==i.nodeType)throw en("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p,"");pe(a,A,i);var j={$attr:{}},U=Z(i,[],j),H=e.splice(D+1,e.length-(D+1));(C||_)&&ee(U,C,_),e=e.concat(U).concat(H),oe(r,j),I=e.length}else A.html(y);if(f.templateUrl)x=!0,le("template",k,f,A),k=f,f.replace&&(P=f),J=se(e.splice(D,e.length-D),A,r,a,E&&M,c,l,{controllerDirectives:w,newScopeDirective:_!==f&&_,newIsolateScopeDirective:C,templateDirective:k,nonTlbTranscludeDirective:F}),I=e.length;else if(f.compile)try{z(v=f.compile(A,r,M))?q(null,v,N,R):v&&q(v.pre,v.post,N,R)}catch(te){g(te,ye(A))}f.terminal&&(J.terminal=!0,b=Math.max(b,f.priority))}return J.scope=_&&!0===_.scope,J.transcludeOnThisElement=E,J.templateOnThisElement=x,J.transclude=M,d.hasElementTranscludeDirective=T,J;function q(e,t,n,i){e&&(n&&(e=K(e,n,i)),e.require=f.require,e.directiveName=p,(C===f||f.$$isolateScope)&&(e=he(e,{isolateScope:!0})),c.push(e)),t&&(n&&(t=K(t,n,i)),t.require=f.require,t.directiveName=p,(C===f||f.$$isolateScope)&&(t=he(t,{isolateScope:!0})),l.push(t))}function Y(e,t,n,i){var r;if(V(t)){var o=t.match(h),a=t.substring(o[0].length),s=o[1]||o[3],c="?"===o[2];if("^^"===s?n=n.parent():r=(r=i&&i[a])&&r.instance,!r){var l="$"+a+"Controller";r=s?n.inheritedData(l):n.data(l)}if(!r&&!c)throw en("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(W(t)){r=[];for(var u=0,d=t.length;u<d;u++)r[u]=Y(e,t[u],n,i)}return r||null}function J(e,t,o,a,s){var d,f,p,h,m,g,v,y,b;for(var F in i===o?(v=r,g=r.$$element):(g=u(o),v=new $(g,r)),p=t,C?f=t.$new(!0):_&&(p=t.$parent),s&&(m=function(e,t,i){var r;G(e)||(i=t,t=e,e=n);T&&(r=h);i||(i=T?g.parent():g);return s(e,t,r,i,M)},m.$$boundTransclude=s),w&&(h=function(e,t,n,i,r,o){var a=Oe();for(var s in i){var c=i[s],l={$scope:c===C||c.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},u=c.controller;"@"==u&&(u=t[c.name]);var d=S(u,l,!0,c.controllerAs);a[c.name]=d,e.data("$"+c.name+"Controller",d.instance)}return a}(g,v,m,w,f,t)),C&&(B.$$addScopeInfo(g,f,!0,!(k&&(k===C||k===C.$$originalDirective))),B.$$addScopeClass(g,!0),f.$$isolateBindings=C.$$isolateBindings,(y=ge(t,v,f,f.$$isolateBindings,C))&&f.$on("$destroy",y)),h){var E=w[F],x=h[F],A=E.$$bindings.bindToController;x.identifier&&A&&(b=ge(p,v,x.instance,A,E));var P=x();P!==x.instance&&(x.instance=P,g.data("$"+E.name+"Controller",P),b&&b(),b=ge(p,v,x.instance,A,E))}for(D=0,I=c.length;D<I;D++)me(d=c[D],d.isolateScope?f:t,g,v,d.require&&Y(d.directiveName,d.require,g,h),m);var M=t;for(C&&(C.template||null===C.templateUrl)&&(M=f),e&&e(M,o.childNodes,n,s),D=l.length-1;D>=0;D--)me(d=l[D],d.isolateScope?f:t,g,v,d.require&&Y(d.directiveName,d.require,g,h),m)}}function ee(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=P(e[i],{$$isolateScope:t,$$newScope:n})}function te(t,n,i,a,s,c,l){if(n===s)return null;var u=null;if(r.hasOwnProperty(n))for(var d,f=e.get(n+o),p=0,h=f.length;p<h;p++)try{if(d=f[p],(N(a)||a>d.priority)&&-1!=d.restrict.indexOf(i)){if(c&&(d=P(d,{$$start:c,$$end:l})),!d.$$bindings){var m=d.$$bindings=y(d,d.name);O(m.isolateScope)&&(d.$$isolateBindings=m.isolateScope)}t.push(d),u=d}}catch(v){g(v)}return u}function re(t){if(r.hasOwnProperty(t))for(var n=e.get(t+o),i=0,a=n.length;i<a;i++)if(n[i].multiElement)return!0;return!1}function oe(e,t){var n=t.$attr,i=e.$attr,r=e.$$element;w(e,(function(i,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))})),w(t,(function(t,o){"class"==o?(T(r,t),e.class=(e.class?e.class+" ":"")+t):"style"==o?(r.attr("style",r.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,i[o]=n[o])}))}function se(e,t,n,i,r,o,a,s){var c,l,d=[],f=t[0],p=e.shift(),h=P(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),m=z(p.templateUrl)?p.templateUrl(t,n):p.templateUrl,g=p.templateNamespace;return t.empty(),v(m).then((function(v){var y,b,_,S;if(v=L(v),p.replace){if(_=nt(v)?[]:an(de(g,Q(v))),y=_[0],1!=_.length||1!==y.nodeType)throw en("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,m);b={$attr:{}},pe(i,t,y);var C=Z(y,[],b);O(p.scope)&&ee(C,!0),e=C.concat(e),oe(n,b)}else y=f,t.html(v);for(e.unshift(h),c=J(e,y,n,r,t,p,o,a,s),w(i,(function(e,n){e==y&&(i[n]=t[0])})),l=H(t[0].childNodes,r);d.length;){var k=d.shift(),F=d.shift(),E=d.shift(),$=d.shift(),x=t[0];if(!k.$$destroyed){if(F!==f){var A=F.className;s.hasElementTranscludeDirective&&p.replace||(x=ct(y)),pe(E,u(F),x),T(u(x),A)}S=c.transcludeOnThisElement?q(k,c.transclude,$):$,c(l,k,x,i,S)}}d=null})),function(e,t,n,i,r){var o=r;t.$$destroyed||(d?d.push(t,n,i,o):(c.transcludeOnThisElement&&(o=q(t,c.transclude,r)),c(l,t,n,i,o)))}}function ce(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function le(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw en("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,ye(i))}function de(e,n){switch(e=a(e||"html")){case"svg":case"math":var i=t.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function fe(e,t,n,r,o){var a=function(e,t){if("srcdoc"==t)return k.HTML;var n=ne(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?k.RESOURCE_URL:void 0}(e,r);o=p[r]||o;var s=i(n,!0,a,o);if(s){if("multiple"===r&&"select"===ne(e))throw en("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",ye(e));t.push({priority:100,compile:function(){return{pre:function(e,t,c){var l=c.$$observers||(c.$$observers=Oe());if(m.test(r))throw en("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=c[r];u!==n&&(s=u&&i(u,!0,a,o),n=u),s&&(c[r]=s(e),(l[r]||(l[r]=[])).$$inter=!0,(c.$$observers&&c.$$observers[r].$$scope||e).$watch(s,(function(e,t){"class"===r&&e!=t?c.$updateClass(e,t):c.$set(r,e)})))}}}})}}function pe(e,n,i){var r,o,a=n[0],s=n.length,c=a.parentNode;if(e)for(r=0,o=e.length;r<o;r++)if(e[r]==a){e[r++]=i;for(var l=r,f=l+s-1,p=e.length;l<p;l++,f++)f<p?e[l]=e[f]:delete e[l];e.length-=s-1,e.context===a&&(e.context=i);break}c&&c.replaceChild(i,a);var h=t.createDocumentFragment();h.appendChild(a),u.hasData(a)&&(u.data(i,u.data(a)),d?(Pe=!0,d.cleanData([a])):delete u.cache[a[u.expando]]);for(var m=1,g=n.length;m<g;m++){var v=n[m];u(v).remove(),h.appendChild(v),delete n[m]}n[0]=i,n.length=1}function he(e,t){return x((function(){return e.apply(null,arguments)}),e,t)}function me(e,t,n,i,r,o){try{e(t,n,i,r,o)}catch(a){g(a,ye(n))}}function ge(e,t,n,r,o){var a=[];return w(r,(function(r,c){var l,u,d,f,p=r.attrName,h=r.optional;switch(r.mode){case"@":h||s.call(t,p)||(n[c]=t[p]=void 0),t.$observe(p,(function(e){V(e)&&(n[c]=e)})),t.$$observers[p].$$scope=e,V(l=t[p])?n[c]=i(l)(e):Y(l)&&(n[c]=l);break;case"=":if(!s.call(t,p)){if(h)break;t[p]=void 0}if(h&&!t[p])break;u=_(t[p]),f=u.literal?ae:function(e,t){return e===t||e!==e&&t!==t},d=u.assign||function(){throw l=n[c]=u(e),en("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[p],p,o.name)},l=n[c]=u(e);var m,g=function(t){return f(t,n[c])||(f(t,l)?d(e,t=n[c]):n[c]=t),l=t};g.$stateful=!0,m=r.collection?e.$watchCollection(t[p],g):e.$watch(_(t[p],g),null,u.literal),a.push(m);break;case"&":if((u=t.hasOwnProperty(p)?_(t[p]):M)===M&&h)break;n[c]=function(t){return u(e,t)}}})),a.length&&function(){for(var e=0,t=a.length;e<t;++e)a[e]()}}}]}tn.$inject=["$provide","$$sanitizeUriProvider"];var nn=/^((?:x|data)[\:\-_])/i;function rn(e){return Xe(e.replace(nn,""))}function on(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a==r[s])continue e;n+=(n.length>0?" ":"")+a}return n}function an(e){var t=(e=u(e)).length;if(t<=1)return e;for(;t--;){8===e[t].nodeType&&h.call(e,t,1)}return e}var sn=i("$controller"),cn=/^(\S+)(\s+as\s+([\w$]+))?$/;function ln(){var e={},t=!1;this.register=function(t,n){Le(t,"controller"),O(t)?x(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(r,o){return function(i,s,c,l){var u,d,f,p;if(c=!0===c,l&&V(l)&&(p=l),V(i)){if(!(d=i.match(cn)))throw sn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);f=d[1],p=p||d[3],Ie(i=e.hasOwnProperty(f)?e[f]:Ne(s.$scope,f,!0)||(t?Ne(o,f,!0):n),f,!0)}if(c){var h=(W(i)?i[i.length-1]:i).prototype;return u=Object.create(h||null),p&&a(s,p,u,f||i.name),x((function(){var e=r.invoke(i,u,s,f);return e!==u&&(O(e)||z(e))&&(u=e,p&&a(s,p,u,f||i.name)),u}),{instance:u,identifier:p})}return u=r.instantiate(i,s,f),p&&a(s,p,u,f||i.name),u};function a(e,t,n,r){if(!e||!O(e.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}}]}function un(){this.$get=["$window",function(e){return u(e.document)}]}function dn(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}var fn=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof u&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},pn="application/json",hn={"Content-Type":"application/json;charset=utf-8"},mn=/^\[|^\{(?!\{)/,gn={"[":/]$/,"{":/}$/},vn=/^\)\]\}',?\n/,yn=i("$http"),bn=function(e){return function(){throw yn("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}};function _n(e){return O(e)?B(e)?e.toISOString():pe(e):e}function Sn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return C(e,(function(e,n){null===e||N(e)||(W(e)?w(e,(function(e,i){t.push(Ce(n)+"="+Ce(_n(e)))})):t.push(Ce(n)+"="+Ce(_n(e))))})),t.join("&")}}}function wn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(n,i,r){if(null===n||N(n))return;W(n)?w(n,(function(t,n){e(t,i+"["+(O(t)?n:"")+"]")})):O(n)&&!B(n)?C(n,(function(t,n){e(t,i+(r?"":"[")+n+(r?"":"]"))})):t.push(Ce(i)+"="+Ce(_n(n)))}(e,"",!0),t.join("&")}}}function Cn(e,t){if(V(e)){var n=e.replace(vn,"").trim();if(n){var i=t("Content-Type");(i&&0===i.indexOf(pn)||(o=(r=n).match(mn))&&gn[o[0]].test(r))&&(e=he(n))}}var r,o;return e}function kn(e){var t,n=Oe();function i(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return V(e)?w(e.split("\n"),(function(e){t=e.indexOf(":"),i(a(Q(e.substr(0,t))),Q(e.substr(t+1)))})):O(e)&&w(e,(function(e,t){i(a(t),Q(e))})),n}function Fn(e){var t;return function(n){if(t||(t=kn(e)),n){var i=t[a(n)];return void 0===i&&(i=null),i}return t}}function En(e,t,n,i){return z(i)?i(e,t,n):(w(i,(function(i){e=i(e,t,n)})),e)}function $n(e){return 200<=e&&e<300}function xn(){var e=this.defaults={transformResponse:[Cn],transformRequest:[function(e){return!O(e)||(t=e,"[object File]"===g.call(t))||Z(e)||function(e){return"[object FormData]"===g.call(e)}(e)?e:pe(e);var t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:oe(hn),put:oe(hn),patch:oe(hn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return R(e)?(t=!!e,this):t};var r=!0;this.useLegacyPromiseExtensions=function(e){return R(e)?(r=!!e,this):r};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,l,u,d,f,p){var h=u("$http");e.paramSerializer=V(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var m=[];function g(o){if(!b.isObject(o))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",o);if(!V(o.url))throw i("$http")("badreq","Http request configuration url must be a string.  Received: {0}",o.url);var u=x({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},o);u.headers=function(t){var n,i,r,o=e.headers,s=x({},t.headers);o=x({},o.common,o[a(t.method)]);e:for(n in o){for(r in i=a(n),s)if(a(r)===i)continue e;s[n]=o[n]}return function(e,t){var n,i={};return w(e,(function(e,r){z(e)?null!=(n=e(t))&&(i[r]=n):i[r]=e})),i}(s,oe(t))}(o),u.method=c(u.method),u.paramSerializer=V(u.paramSerializer)?p.get(u.paramSerializer):u.paramSerializer;var v=[function(i){var r=i.headers,o=En(i.data,Fn(r),n,i.transformRequest);return N(o)&&w(r,(function(e,t){"content-type"===a(t)&&delete r[t]})),N(i.withCredentials)&&!N(e.withCredentials)&&(i.withCredentials=e.withCredentials),function(i,r){var o,a,c=f.defer(),u=c.promise,p=i.headers,m=function(e,t){t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t);return e}(i.url,i.paramSerializer(i.params));g.pendingRequests.push(i),u.then(S,S),!i.cache&&!e.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(o=O(i.cache)?i.cache:O(e.cache)?e.cache:h);o&&(R(a=o.get(m))?X(a)?a.then(_,_):W(a)?b(a[1],a[0],oe(a[2]),a[3]):b(a,200,{},"OK"):o.put(m,u));if(N(a)){var v=zi(i.url)?l()[i.xsrfCookieName||e.xsrfCookieName]:n;v&&(p[i.xsrfHeaderName||e.xsrfHeaderName]=v),s(i.method,m,r,y,p,i.timeout,i.withCredentials,i.responseType)}return u;function y(e,n,i,r){function a(){b(n,e,i,r)}o&&($n(e)?o.put(m,[e,n,kn(i),r]):o.remove(m)),t?d.$applyAsync(a):(a(),d.$$phase||d.$apply())}function b(e,t,n,r){($n(t=t>=-1?t:0)?c.resolve:c.reject)({data:e,status:t,headers:Fn(n),config:i,statusText:r})}function _(e){b(e.data,e.status,oe(e.headers()),e.statusText)}function S(){var e=g.pendingRequests.indexOf(i);-1!==e&&g.pendingRequests.splice(e,1)}}(i,o).then(C,C)},n],y=f.when(u);for(w(m,(function(e){(e.request||e.requestError)&&v.unshift(e.request,e.requestError),(e.response||e.responseError)&&v.push(e.response,e.responseError)}));v.length;){var _=v.shift(),S=v.shift();y=y.then(_,S)}return r?(y.success=function(e){return Ie(e,"fn"),y.then((function(t){e(t.data,t.status,t.headers,u)})),y},y.error=function(e){return Ie(e,"fn"),y.then(null,(function(t){e(t.data,t.status,t.headers,u)})),y}):(y.success=bn("success"),y.error=bn("error")),y;function C(e){var t=x({},e);return t.data=En(e.data,e.headers,e.status,u.transformResponse),$n(e.status)?t:f.reject(t)}}return w(o,(function(e){m.unshift(V(e)?p.get(e):p.invoke(e))})),g.pendingRequests=[],function(e){w(arguments,(function(e){g[e]=function(t,n){return g(x({},n||{},{method:e,url:t}))}}))}("get","delete","head","jsonp"),function(e){w(arguments,(function(e){g[e]=function(t,n,i){return g(x({},i||{},{method:e,url:t,data:n}))}}))}("post","put","patch"),g.defaults=e,g}]}function Tn(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function An(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,i){return function(e,t,n,i,r){return function(r,s,c,l,u,d,f,p){if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==a(r)){var h="_"+(i.counter++).toString(36);i[h]=function(e){i[h].data=e,i[h].called=!0};var m=o(s.replace("JSON_CALLBACK","angular.callbacks."+h),h,(function(e,t){_(l,e,i[h].data,"",t),i[h]=M}))}else{var g=t(r,s);g.open(r,s,!0),w(u,(function(e,t){R(e)&&g.setRequestHeader(t,e)})),g.onload=function(){var e=g.statusText||"",t="response"in g?g.response:g.responseText,n=1223===g.status?204:g.status;0===n&&(n=t?200:"file"==Wi(s).protocol?404:0),_(l,n,t,g.getAllResponseHeaders(),e)};var v=function(){_(l,-1,null,null,"")};if(g.onerror=v,g.onabort=v,f&&(g.withCredentials=!0),p)try{g.responseType=p}catch(S){if("json"!==p)throw S}g.send(N(c)?null:c)}if(d>0)var y=n(b,d);else X(d)&&d.then(b);function b(){m&&m(),g&&g.abort()}function _(t,i,r,o,a){R(y)&&n.cancel(y),m=g=null,t(i,r,o,a),e.$$completeOutstandingRequest(M)}};function o(e,t,n){var o=r.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){He(o,"load",a),He(o,"error",a),r.body.removeChild(o),o=null;var s=-1,c="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),c=e.type,s="error"===e.type?404:200),n&&n(s,c)},ze(o,"load",a),ze(o,"error",a),r.body.appendChild(o),a}}(e,i,e.defer,t.angular.callbacks,n[0])}]}var Pn=b.$interpolateMinErr=i("$interpolate");function Mn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){var o=e.length,a=t.length,s=new RegExp(e.replace(/./g,l),"g"),c=new RegExp(t.replace(/./g,l),"g");function l(e){return"\\\\\\"+e}function u(n){return n.replace(s,e).replace(c,t)}function d(s,c,l,d){d=!!d;for(var f,p,h,m=0,g=[],v=[],y=s.length,b=[],_=[];m<y;){if(-1==(f=s.indexOf(e,m))||-1==(p=s.indexOf(t,f+o))){m!==y&&b.push(u(s.substring(m)));break}m!==f&&b.push(u(s.substring(m,f))),h=s.substring(f+o,p),g.push(h),v.push(n(h,C)),m=p+a,_.push(b.length),b.push("")}if(l&&b.length>1&&Pn.throwNoconcat(s),!c||g.length){var S=function(e){for(var t=0,n=g.length;t<n;t++){if(d&&N(e[t]))return;b[_[t]]=e[t]}return b.join("")},w=function(e){return l?r.getTrusted(l,e):r.valueOf(e)};return x((function(e){var t=0,n=g.length,r=new Array(n);try{for(;t<n;t++)r[t]=v[t](e);return S(r)}catch(o){i(Pn.interr(s,o))}}),{exp:s,expressions:g,$$watchDelegate:function(e,t){var n;return e.$watchGroup(v,(function(i,r){var o=S(i);z(t)&&t.call(this,o,i!==r?n:o,e),n=o}))}})}function C(e){try{return e=w(e),d&&!R(e)?e:function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=pe(e)}return e}(e)}catch(t){i(Pn.interr(s,t))}}}return d.startSymbol=function(){return e},d.endSymbol=function(){return t},d}]}function Dn(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,i){var r={};function o(o,a,s,c){var l=arguments.length>4,u=l?ue(arguments,4):[],d=t.setInterval,f=t.clearInterval,p=0,h=R(c)&&!c,m=(h?i:n).defer(),g=m.promise;return s=R(s)?s:0,g.then(null,null,l?function(){o.apply(null,u)}:o),g.$$intervalId=d((function(){m.notify(p++),s>0&&p>=s&&(m.resolve(p),f(g.$$intervalId),delete r[g.$$intervalId]),h||e.$apply()}),a),r[g.$$intervalId]=m,g}return o.cancel=function(e){return!(!e||!(e.$$intervalId in r))&&(r[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete r[e.$$intervalId],!0)},o}]}Pn.throwNoconcat=function(e){throw Pn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Pn.interr=function(e,t){return Pn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var In=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Ln={http:80,https:443,ftp:21},Nn=i("$location");function Rn(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=we(t[n]);return t.join("/")}function On(e,t){var n=Wi(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=A(n.port)||Ln[n.protocol]||null}function jn(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var i=Wi(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=_e(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Vn(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function Un(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Bn(e){return e.replace(/(#.+)|#$/,"$1")}function Wn(e,t,n){this.$$html5=!0,n=n||"",On(e,this),this.$$parse=function(e){var n=Vn(t,e);if(!V(n))throw Nn("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);jn(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=Se(this.$$search),n=this.$$hash?"#"+we(this.$$hash):"";this.$$url=Rn(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(R(o=Vn(e,i))?(a=o,s=R(o=Vn(n,o))?t+(Vn("/",o)||o):e+a):R(o=Vn(t,i))?s=t+o:t==i+"/"&&(s=t),s&&this.$$parse(s),!!s);var o,a,s}}function zn(e,t,n){On(e,this),this.$$parse=function(i){var r,o=Vn(e,i)||Vn(t,i);N(o)||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",N(o)&&(e=i,this.replace())):N(r=Vn(n,o))&&(r=o),jn(r,this),this.$$path=function(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;0===t.indexOf(n)&&(t=t.replace(n,""));if(r.exec(t))return e;return(i=r.exec(e))?i[1]:e}(this.$$path,r,e),this.$$compose()},this.$$compose=function(){var t=Se(this.$$search),i=this.$$hash?"#"+we(this.$$hash):"";this.$$url=Rn(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Un(e)==Un(t)&&(this.$$parse(t),!0)}}function Hn(e,t,n){this.$$html5=!0,zn.apply(this,arguments),this.$$parseLinkUrl=function(i,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(e==Un(i)?o=i:(a=Vn(t,i))?o=e+n+a:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o);var o,a},this.$$compose=function(){var t=Se(this.$$search),i=this.$$hash?"#"+we(this.$$hash):"";this.$$url=Rn(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url}}var qn={$$html5:!1,$$replace:!1,absUrl:Gn("$$absUrl"),url:function(e){if(N(e))return this.$$url;var t=In.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Gn("$$protocol"),host:Gn("$$host"),port:Gn("$$port"),path:Zn("$$path",(function(e){return"/"==(e=null!==e?e.toString():"").charAt(0)?e:"/"+e})),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(V(e)||U(e))e=e.toString(),this.$$search=_e(e);else{if(!O(e))throw Nn("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");w(e=re(e,{}),(function(t,n){null==t&&delete e[n]})),this.$$search=e}break;default:N(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Zn("$$hash",(function(e){return null!==e?e.toString():""})),replace:function(){return this.$$replace=!0,this}};function Gn(e){return function(){return this[e]}}function Zn(e,t){return function(n){return N(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Yn(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return R(t)?(e=t,this):e},this.html5Mode=function(e){return Y(e)?(t.enabled=e,this):O(e)?(Y(e.enabled)&&(t.enabled=e.enabled),Y(e.requireBase)&&(t.requireBase=e.requireBase),Y(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){var s,c,l,d,f=i.baseHref(),p=i.url();if(t.enabled){if(!f&&t.requireBase)throw Nn("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=(d=p).substring(0,d.indexOf("/",d.indexOf("//")+2))+(f||"/"),c=r.history?Wn:Hn}else l=Un(p),c=zn;var h=function(e){return e.substr(0,Un(e).lastIndexOf("/")+1)}(l);(s=new c(l,h,"#"+e)).$$parseLinkUrl(p,p),s.$$state=i.state();var m=/^\s*(javascript|mailto):/i;function g(e,t,n){var r=s.url(),o=s.$$state;try{i.url(e,t,n),s.$$state=i.state()}catch(a){throw s.url(r),s.$$state=o,a}}o.on("click",(function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var r=u(e.target);"a"!==ne(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var c=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");O(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=Wi(c.animVal).href),m.test(c)||!c||r.attr("target")||e.isDefaultPrevented()||s.$$parseLinkUrl(c,l)&&(e.preventDefault(),s.absUrl()!=i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}})),Bn(s.absUrl())!=Bn(p)&&i.url(s.absUrl(),!0);var v=!0;return i.onUrlChange((function(e,t){N(Vn(h,e))?a.location.href=e:(n.$evalAsync((function(){var i,r=s.absUrl(),o=s.$$state;e=Bn(e),s.$$parse(e),s.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,s.absUrl()===e&&(i?(s.$$parse(r),s.$$state=o,g(r,!1,o)):(v=!1,y(r,o)))})),n.$$phase||n.$digest())})),n.$watch((function(){var e=Bn(i.url()),t=Bn(s.absUrl()),o=i.state(),a=s.$$replace,c=e!==t||s.$$html5&&r.history&&o!==s.$$state;(v||c)&&(v=!1,n.$evalAsync((function(){var t=s.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,s.$$state,o).defaultPrevented;s.absUrl()===t&&(i?(s.$$parse(e),s.$$state=o):(c&&g(t,a,o===s.$$state?null:s.$$state),y(e,o)))}))),s.$$replace=!1})),s;function y(e,t){n.$broadcast("$locationChangeSuccess",s.absUrl(),e,s.$$state,t)}}]}function Xn(){var e=!0,t=this;this.debugEnabled=function(t){return R(t)?(e=t,this):e},this.$get=["$window",function(n){return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:(i=o("debug"),function(){e&&i.apply(t,arguments)})};var i;function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},i=t[e]||t.log||M,o=!1;try{o=!!i.apply}catch(a){}return o?function(){var e=[];return w(arguments,(function(t){e.push(r(t))})),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}}]}w([Hn,zn,Wn],(function(e){e.prototype=Object.create(qn),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Wn||!this.$$html5)throw Nn("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=N(t)?null:t,this}}));var Kn=i("$parse");function Jn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Kn("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Qn(e,t){if(!V(e+=""))throw Kn("iseccst","Cannot convert object to primitive value! Expression: {0}",t);return e}function ei(e,t){if(e){if(e.constructor===e)throw Kn("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw Kn("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Kn("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw Kn("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}var ti=Function.prototype.call,ni=Function.prototype.apply,ii=Function.prototype.bind;function ri(e,t){if(e){if(e.constructor===e)throw Kn("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===ti||e===ni||e===ii)throw Kn("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function oi(e,t){if(e&&(e===(0).constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw Kn("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}var ai=Oe();w("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(e){ai[e]=!0}));var si={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},ci=function(e){this.options=e};ci.prototype={constructor:ci,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),r=ai[t],o=ai[n],a=ai[i];if(r||o||a){var s=a?i:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"===typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||"\xa0"===e},isIdent:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=R(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Kn("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=a(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=si[o]||o}r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var li=function(e,t){this.lexer=e,this.options=t};function ui(e,t){return"undefined"!==typeof e?e:t}function di(e,t){return"undefined"===typeof e?t:"undefined"===typeof t?e:e+t}function fi(e,t){return!e(t).$stateful}function pi(e,t){var n,i;switch(e.type){case li.Program:n=!0,w(e.body,(function(e){pi(e.expression,t),n=n&&e.expression.constant})),e.constant=n;break;case li.Literal:e.constant=!0,e.toWatch=[];break;case li.UnaryExpression:pi(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case li.BinaryExpression:pi(e.left,t),pi(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case li.LogicalExpression:pi(e.left,t),pi(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case li.ConditionalExpression:pi(e.test,t),pi(e.alternate,t),pi(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case li.Identifier:e.constant=!1,e.toWatch=[e];break;case li.MemberExpression:pi(e.object,t),e.computed&&pi(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case li.CallExpression:n=!!e.filter&&fi(t,e.callee.name),i=[],w(e.arguments,(function(e){pi(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)})),e.constant=n,e.toWatch=e.filter&&fi(t,e.callee.name)?i:[e];break;case li.AssignmentExpression:pi(e.left,t),pi(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case li.ArrayExpression:n=!0,i=[],w(e.elements,(function(e){pi(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)})),e.constant=n,e.toWatch=i;break;case li.ObjectExpression:n=!0,i=[],w(e.properties,(function(e){pi(e.value,t),n=n&&e.value.constant,e.value.constant||i.push.apply(i,e.value.toWatch)})),e.constant=n,e.toWatch=i;break;case li.ThisExpression:e.constant=!1,e.toWatch=[]}}function hi(e){if(1==e.length){var t=e[0].expression,i=t.toWatch;return 1!==i.length||i[0]!==t?i:n}}function mi(e){return e.type===li.Identifier||e.type===li.MemberExpression}function gi(e){if(1===e.body.length&&mi(e.body[0].expression))return{type:li.AssignmentExpression,left:e.body[0].expression,right:{type:li.NGValueParameter},operator:"="}}function vi(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===li.Literal||e.body[0].expression.type===li.ArrayExpression||e.body[0].expression.type===li.ObjectExpression)}function yi(e){return e.constant}function bi(e,t){this.astBuilder=e,this.$filter=t}function _i(e,t){this.astBuilder=e,this.$filter=t}li.Program="Program",li.ExpressionStatement="ExpressionStatement",li.AssignmentExpression="AssignmentExpression",li.ConditionalExpression="ConditionalExpression",li.LogicalExpression="LogicalExpression",li.BinaryExpression="BinaryExpression",li.UnaryExpression="UnaryExpression",li.CallExpression="CallExpression",li.MemberExpression="MemberExpression",li.Identifier="Identifier",li.Literal="Literal",li.ArrayExpression="ArrayExpression",li.Property="Property",li.ObjectExpression="ObjectExpression",li.ThisExpression="ThisExpression",li.NGValueParameter="NGValueParameter",li.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:li.Program,body:e}},expressionStatement:function(){return{type:li.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:li.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:li.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:li.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:li.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:li.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:li.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:li.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:li.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:li.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=re(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:li.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:li.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:li.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:li.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.expression())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:li.Identifier,name:e.text}},constant:function(){return{type:li.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:li.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:li.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:li.ObjectExpression,properties:t}},throwError:function(e,t){throw Kn("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Kn("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Kn("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===i||a===r||!t&&!n&&!i&&!r)return o}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return!!r&&(this.tokens.shift(),r)},constants:{true:{type:li.Literal,value:!0},false:{type:li.Literal,value:!1},null:{type:li.Literal,value:null},undefined:{type:li.Literal,value:n},this:{type:li.ThisExpression}}},bi.prototype={compile:function(e,t){var i=this,r=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},pi(r,i.$filter);var o,a="";if(this.stage="assign",o=gi(r)){this.state.computing="assign";var s=this.nextId();this.recurse(o,s),this.return_(s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var c=hi(r.body);i.stage="inputs",w(c,(function(e,t){var n="fn"+t;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var r=i.nextId();i.recurse(e,r),i.return_(r),i.state.inputs.push(n),e.watchId=t})),this.state.computing="fn",this.stage="main",this.recurse(r);var l='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",u=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",l)(this.$filter,Jn,ei,ri,Qn,oi,ui,di,e);return this.state=this.stage=n,u.literal=vi(r),u.constant=yi(r),u},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return w(t,(function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))})),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return w(this.state.filters,(function(n,i){e.push(n+"=$filter("+t.escape(i)+")")})),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,i,r,o,a){var s,c,l,u,d=this;if(r=r||M,!a&&R(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,i,r,o,!0));switch(e.type){case li.Program:w(e.body,(function(t,i){d.recurse(t.expression,n,n,(function(e){c=e})),i!==e.body.length-1?d.current().body.push(c,";"):d.return_(c)}));break;case li.Literal:u=this.escape(e.value),this.assign(t,u),r(u);break;case li.UnaryExpression:this.recurse(e.argument,n,n,(function(e){c=e})),u=e.operator+"("+this.ifDefined(c,0)+")",this.assign(t,u),r(u);break;case li.BinaryExpression:this.recurse(e.left,n,n,(function(e){s=e})),this.recurse(e.right,n,n,(function(e){c=e})),u="+"===e.operator?this.plus(s,c):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(c,0):"("+s+")"+e.operator+"("+c+")",this.assign(t,u),r(u);break;case li.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),r(t);break;case li.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),r(t);break;case li.Identifier:t=t||this.nextId(),i&&(i.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),i.computed=!1,i.name=e.name),Jn(e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),(function(){d.if_("inputs"===d.stage||"s",(function(){o&&1!==o&&d.if_(d.not(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))}))}),t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),(d.state.expensiveChecks||wi(e.name))&&d.addEnsureSafeObject(t),r(t);break;case li.MemberExpression:s=i&&(i.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,s,n,(function(){d.if_(d.notNull(s),(function(){o&&1!==o&&d.addEnsureSafeAssignContext(s),e.computed?(c=d.nextId(),d.recurse(e.property,c),d.getStringValue(c),d.addEnsureSafeMemberName(c),o&&1!==o&&d.if_(d.not(d.computedMember(s,c)),d.lazyAssign(d.computedMember(s,c),"{}")),u=d.ensureSafeObject(d.computedMember(s,c)),d.assign(t,u),i&&(i.computed=!0,i.name=c)):(Jn(e.property.name),o&&1!==o&&d.if_(d.not(d.nonComputedMember(s,e.property.name)),d.lazyAssign(d.nonComputedMember(s,e.property.name),"{}")),u=d.nonComputedMember(s,e.property.name),(d.state.expensiveChecks||wi(e.property.name))&&(u=d.ensureSafeObject(u)),d.assign(t,u),i&&(i.computed=!1,i.name=e.property.name))}),(function(){d.assign(t,"undefined")})),r(t)}),!!o);break;case li.CallExpression:t=t||this.nextId(),e.filter?(c=d.filter(e.callee.name),l=[],w(e.arguments,(function(e){var t=d.nextId();d.recurse(e,t),l.push(t)})),u=c+"("+l.join(",")+")",d.assign(t,u),r(t)):(c=d.nextId(),s={},l=[],d.recurse(e.callee,c,s,(function(){d.if_(d.notNull(c),(function(){d.addEnsureSafeFunction(c),w(e.arguments,(function(e){d.recurse(e,d.nextId(),n,(function(e){l.push(d.ensureSafeObject(e))}))})),s.name?(d.state.expensiveChecks||d.addEnsureSafeObject(s.context),u=d.member(s.context,s.name,s.computed)+"("+l.join(",")+")"):u=c+"("+l.join(",")+")",u=d.ensureSafeObject(u),d.assign(t,u)}),(function(){d.assign(t,"undefined")})),r(t)})));break;case li.AssignmentExpression:if(c=this.nextId(),s={},!mi(e.left))throw Kn("lval","Trying to assign a value to a non l-value");this.recurse(e.left,n,s,(function(){d.if_(d.notNull(s.context),(function(){d.recurse(e.right,c),d.addEnsureSafeObject(d.member(s.context,s.name,s.computed)),d.addEnsureSafeAssignContext(s.context),u=d.member(s.context,s.name,s.computed)+e.operator+c,d.assign(t,u),r(t||u)}))}),1);break;case li.ArrayExpression:l=[],w(e.elements,(function(e){d.recurse(e,d.nextId(),n,(function(e){l.push(e)}))})),u="["+l.join(",")+"]",this.assign(t,u),r(u);break;case li.ObjectExpression:l=[],w(e.properties,(function(e){d.recurse(e.value,d.nextId(),n,(function(t){l.push(d.escape(e.key.type===li.Identifier?e.key.name:""+e.key.value)+":"+t)}))})),u="{"+l.join(",")+"}",this.assign(t,u),r(u);break;case li.ThisExpression:this.assign(t,"s"),r("s");break;case li.NGValueParameter:this.assign(t,"v"),r("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+",text)")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,i,r,o){var a=this;return function(){a.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(V(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(U(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"===typeof e)return"undefined";throw Kn("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},_i.prototype={compile:function(e,t){var n,i,r=this,o=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,pi(o,r.$filter),(n=gi(o))&&(i=this.recurse(n));var a,s=hi(o.body);s&&(a=[],w(s,(function(e,t){var n=r.recurse(e);e.input=n,a.push(n),e.watchId=t})));var c=[];w(o.body,(function(e){c.push(r.recurse(e.expression))}));var l=0===o.body.length?function(){}:1===o.body.length?c[0]:function(e,t){var n;return w(c,(function(i){n=i(e,t)})),n};return i&&(l.assign=function(e,t,n){return i(e,n,t)}),a&&(l.inputs=a),l.literal=vi(o),l.constant=yi(o),l},recurse:function(e,t,i){var r,o,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case li.Literal:return this.value(e.value,t);case li.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case li.BinaryExpression:case li.LogicalExpression:return r=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](r,o,t);case li.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case li.Identifier:return Jn(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||wi(e.name),t,i,s.expression);case li.MemberExpression:return r=this.recurse(e.object,!1,!!i),e.computed||(Jn(e.property.name,s.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(r,o,t,i,s.expression):this.nonComputedMember(r,o,s.expensiveChecks,t,i,s.expression);case li.CallExpression:return a=[],w(e.arguments,(function(e){a.push(s.recurse(e))})),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,i,r,s){for(var c=[],l=0;l<a.length;++l)c.push(a[l](e,i,r,s));var u=o.apply(n,c,s);return t?{context:n,name:n,value:u}:u}:function(e,n,i,r){var c,l=o(e,n,i,r);if(null!=l.value){ei(l.context,s.expression),ri(l.value,s.expression);for(var u=[],d=0;d<a.length;++d)u.push(ei(a[d](e,n,i,r),s.expression));c=ei(l.value.apply(l.context,u),s.expression)}return t?{value:c}:c};case li.AssignmentExpression:return r=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,i,a){var c=r(e,n,i,a),l=o(e,n,i,a);return ei(c.value,s.expression),oi(c.context),c.context[c.name]=l,t?{value:l}:l};case li.ArrayExpression:return a=[],w(e.elements,(function(e){a.push(s.recurse(e))})),function(e,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,i,r));return t?{value:o}:o};case li.ObjectExpression:return a=[],w(e.properties,(function(e){a.push({key:e.key.type===li.Identifier?e.key.name:""+e.key.value,value:s.recurse(e.value)})})),function(e,n,i,r){for(var o={},s=0;s<a.length;++s)o[a[s].key]=a[s].value(e,n,i,r);return t?{value:o}:o};case li.ThisExpression:return function(e){return t?{value:e}:e};case li.NGValueParameter:return function(e,n,i,r){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=R(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=R(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,i,r,o){var a=!e(n,i,r,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(i,r,o,a){var s=di(e(i,r,o,a),t(i,r,o,a));return n?{value:s}:s}},"binary-":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a),c=t(i,r,o,a),l=(R(s)?s:0)-(R(c)?c:0);return n?{value:l}:l}},"binary*":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)*t(i,r,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)/t(i,r,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)%t(i,r,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)===t(i,r,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!==t(i,r,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)==t(i,r,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!=t(i,r,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<t(i,r,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>t(i,r,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<=t(i,r,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>=t(i,r,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)&&t(i,r,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)||t(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,i){return function(r,o,a,s){var c=e(r,o,a,s)?t(r,o,a,s):n(r,o,a,s);return i?{value:c}:c}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,i,r,o){return function(a,s,c,l){var u=s&&e in s?s:a;r&&1!==r&&u&&!u[e]&&(u[e]={});var d=u?u[e]:n;return t&&ei(d,o),i?{context:u,name:e,value:d}:d}},computedMember:function(e,t,n,i,r){return function(o,a,s,c){var l,u,d=e(o,a,s,c);return null!=d&&(Jn(l=Qn(l=t(o,a,s,c)),r),i&&1!==i&&(oi(d),d&&!d[l]&&(d[l]={})),ei(u=d[l],r)),n?{context:d,name:l,value:u}:u}},nonComputedMember:function(e,t,i,r,o,a){return function(s,c,l,u){var d=e(s,c,l,u);o&&1!==o&&(oi(d),d&&!d[t]&&(d[t]={}));var f=null!=d?d[t]:n;return(i||wi(t))&&ei(f,a),r?{context:d,name:t,value:f}:f}},inputs:function(e,t){return function(n,i,r,o){return o?o[t]:e(n,i,r)}}};var Si=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new li(this.lexer),this.astCompiler=n.csp?new _i(this.ast,t):new bi(this.ast,t)};function wi(e){return"constructor"==e}Si.prototype={constructor:Si,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var Ci=Object.prototype.valueOf;function ki(e){return z(e.valueOf)?e.valueOf():Ci.call(e)}function Fi(){var e=Oe(),t=Oe();this.$get=["$filter",function(i){var r=se().noUnsafeEval,o={csp:r,expensiveChecks:!1},a={csp:r,expensiveChecks:!0},s=!1;return c.$$runningExpensiveChecks=function(){return s},c;function c(n,r,c){var u,g,v;switch(c=c||s,typeof n){case"string":n=n.trim();var y=c?t:e;if(!(u=y[v=n])){":"===n.charAt(0)&&":"===n.charAt(1)&&(g=!0,n=n.substring(2));var b=c?a:o,_=new ci(b);(u=new Si(_,i,b).parse(n)).constant?u.$$watchDelegate=h:g?u.$$watchDelegate=u.literal?p:f:u.inputs&&(u.$$watchDelegate=d),c&&(u=l(u)),y[v]=u}return m(u,r);case"function":return m(n,r);default:return m(M,r)}}function l(e){if(!e)return e;n.$$watchDelegate=e.$$watchDelegate,n.assign=l(e.assign),n.constant=e.constant,n.literal=e.literal;for(var t=0;e.inputs&&t<e.inputs.length;++t)e.inputs[t]=l(e.inputs[t]);return n.inputs=e.inputs,n;function n(t,n,i,r){var o=s;s=!0;try{return e(t,n,i,r)}finally{s=o}}}function u(e,t){return null==e||null==t?e===t:("object"!==typeof e||"object"!==typeof(e=ki(e)))&&(e===t||e!==e&&t!==t)}function d(e,t,i,r,o){var a,s=r.inputs;if(1===s.length){var c=u;return s=s[0],e.$watch((function(e){var t=s(e);return u(t,c)||(a=r(e,n,n,[t]),c=t&&ki(t)),a}),t,i,o)}for(var l=[],d=[],f=0,p=s.length;f<p;f++)l[f]=u,d[f]=null;return e.$watch((function(e){for(var t=!1,i=0,o=s.length;i<o;i++){var c=s[i](e);(t||(t=!u(c,l[i])))&&(d[i]=c,l[i]=c&&ki(c))}return t&&(a=r(e,n,n,d)),a}),t,i,o)}function f(e,t,n,i){var r,o;return r=e.$watch((function(e){return i(e)}),(function(e,n,i){o=e,z(t)&&t.apply(this,arguments),R(e)&&i.$$postDigest((function(){R(o)&&r()}))}),n)}function p(e,t,n,i){var r,o;return r=e.$watch((function(e){return i(e)}),(function(e,n,i){o=e,z(t)&&t.call(this,e,n,i),a(e)&&i.$$postDigest((function(){a(o)&&r()}))}),n);function a(e){var t=!0;return w(e,(function(e){R(e)||(t=!1)})),t}}function h(e,t,n,i){var r;return r=e.$watch((function(e){return i(e)}),(function(e,n,i){z(t)&&t.apply(this,arguments),r()}),n)}function m(e,t){if(!t)return e;var n=e.$$watchDelegate,i=!1,r=n!==p&&n!==f?function(n,r,o,a){var s=i&&a?a[0]:e(n,r,o,a);return t(s,n,r)}:function(n,i,r,o){var a=e(n,i,r,o),s=t(a,n,i);return R(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==d?r.$$watchDelegate=e.$$watchDelegate:t.$stateful||(r.$$watchDelegate=d,i=!e.inputs,r.inputs=e.inputs?e.inputs:[e]),r}}]}function Ei(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return xi((function(t){e.$evalAsync(t)}),t)}]}function $i(){this.$get=["$browser","$exceptionHandler",function(e,t){return xi((function(t){e.defer(t)}),t)}]}function xi(e,t){var r=i("$q",TypeError);function o(){this.$$state={status:0}}function a(e,t){return function(n){t.call(e,n)}}function s(i){!i.processScheduled&&i.pending&&(i.processScheduled=!0,e((function(){!function(e){var i,r,o;o=e.pending,e.processScheduled=!1,e.pending=n;for(var a=0,s=o.length;a<s;++a){r=o[a][0],i=o[a][e.status];try{z(i)?r.resolve(i(e.value)):1===e.status?r.resolve(e.value):r.reject(e.value)}catch(c){r.reject(c),t(c)}}}(i)})))}function c(){this.promise=new o,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}x(o.prototype,{then:function(e,t,n){if(N(e)&&N(t)&&N(n))return this;var i=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&s(this.$$state),i.promise},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then((function(t){return u(t,!0,e)}),(function(t){return u(t,!1,e)}),t)}}),x(c.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(r("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,i;i=function(e,t,n){var i=!1;function r(t){return function(n){i||(i=!0,t.call(e,n))}}return[r(t),r(n)]}(this,this.$$resolve,this.$$reject);try{(O(e)||z(e))&&(n=e&&e.then),z(n)?(this.promise.$$state.status=-1,n.call(e,i[0],i[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,s(this.promise.$$state))}catch(r){i[1](r),t(r)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&e((function(){for(var e,r,o=0,a=i.length;o<a;o++){r=i[o][0],e=i[o][3];try{r.notify(z(e)?e(n):n)}catch(s){t(s)}}}))}});var l=function(e,t){var n=new c;return t?n.resolve(e):n.reject(e),n.promise},u=function(e,t,n){var i=null;try{z(n)&&(i=n())}catch(r){return l(r,!1)}return X(i)?i.then((function(){return l(e,t)}),(function(e){return l(e,!1)})):l(e,t)},d=function(e,t,n,i){var r=new c;return r.resolve(e),r.promise.then(t,n,i)},f=d;var p=function e(t){if(!z(t))throw r("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof e))return new e(t);var n=new c;return t((function(e){n.resolve(e)}),(function(e){n.reject(e)})),n.promise};return p.defer=function(){return new c},p.reject=function(e){var t=new c;return t.reject(e),t.promise},p.when=d,p.resolve=f,p.all=function(e){var t=new c,n=0,i=W(e)?[]:{};return w(e,(function(e,r){n++,d(e).then((function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))}),(function(e){i.hasOwnProperty(r)||t.reject(e)}))})),0===n&&t.resolve(i),t.promise},p}function Ti(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function Ai(){var e=10,t=i("$rootScope"),n=null,r=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,o,a,c){function u(e){e.currentScope.$$destroyed=!0}function d(e){9===l&&(e.$$childHead&&d(e.$$childHead),e.$$nextSibling&&d(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function f(){this.$id=F(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}f.prototype={constructor:f,$new:function(e,t){var n;return t=t||this,e?(n=new f).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=F(),this.$$ChildScope=null}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!=this)&&n.$on("$destroy",u),n},$watch:function(e,t,i,r){var o=a(e);if(o.$$watchDelegate)return o.$$watchDelegate(this,t,i,o,e);var s=this,c=s.$$watchers,l={fn:t,last:C,get:o,exp:r||e,eq:!!i};return n=null,z(t)||(l.fn=M),c||(c=s.$$watchers=[]),c.unshift(l),b(this,1),function(){ie(c,l)>=0&&b(s,-1),n=null}},$watchGroup:function(e,t){var n=new Array(e.length),i=new Array(e.length),r=[],o=this,a=!1,s=!0;if(!e.length){var c=!0;return o.$evalAsync((function(){c&&t(i,i,o)})),function(){c=!1}}if(1===e.length)return this.$watch(e[0],(function(e,r,o){i[0]=e,n[0]=r,t(i,e===r?i:n,o)}));function l(){a=!1,s?(s=!1,t(i,i,o)):t(i,n,o)}return w(e,(function(e,t){var s=o.$watch(e,(function(e,r){i[t]=e,n[t]=r,a||(a=!0,o.$evalAsync(l))}));r.push(s)})),function(){for(;r.length;)r.shift()()}},$watchCollection:function(e,t){m.$stateful=!0;var n,i,r,o=this,c=t.length>1,l=0,u=a(e,m),d=[],f={},p=!0,h=0;function m(e){var t,r,o,a;if(!N(n=e)){if(O(n))if(S(n)){i!==d&&(h=(i=d).length=0,l++),t=n.length,h!==t&&(l++,i.length=h=t);for(var c=0;c<t;c++)a=i[c],o=n[c],a!==a&&o!==o||a===o||(l++,i[c]=o)}else{for(r in i!==f&&(i=f={},h=0,l++),t=0,n)s.call(n,r)&&(t++,o=n[r],a=i[r],r in i?a!==a&&o!==o||a===o||(l++,i[r]=o):(h++,i[r]=o,l++));if(h>t)for(r in l++,i)s.call(n,r)||(h--,delete i[r])}else i!==n&&(i=n,l++);return l}}return this.$watch(u,(function(){if(p?(p=!1,t(n,n,o)):t(n,r,o),c)if(O(n))if(S(n)){r=new Array(n.length);for(var e=0;e<n.length;e++)r[e]=n[e]}else for(var i in r={},n)s.call(n,i)&&(r[i]=n[i]);else r=n}))},$digest:function(){var i,a,s,l,u,d,f,g,b,_,S=e,w=this,F=[];v("$digest"),c.$$checkUrlChange(),this===p&&null!==r&&(c.defer.cancel(r),k()),n=null;do{for(d=!1,g=w;h.length;){try{(_=h.shift()).scope.$eval(_.expression,_.locals)}catch(E){o(E)}n=null}e:do{if(l=g.$$watchers)for(u=l.length;u--;)try{if(i=l[u])if((a=(0,i.get)(g))===(s=i.last)||(i.eq?ae(a,s):"number"===typeof a&&"number"===typeof s&&isNaN(a)&&isNaN(s))){if(i===n){d=!1;break e}}else d=!0,n=i,i.last=i.eq?re(a,null):a,(0,i.fn)(a,s===C?a:s,g),S<5&&(F[b=4-S]||(F[b]=[]),F[b].push({msg:z(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,newVal:a,oldVal:s}))}catch(E){o(E)}if(!(f=g.$$watchersCount&&g.$$childHead||g!==w&&g.$$nextSibling))for(;g!==w&&!(f=g.$$nextSibling);)g=g.$parent}while(g=f);if((d||h.length)&&!S--)throw y(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,F)}while(d||h.length);for(y();m.length;)try{m.shift()()}catch(E){o(E)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===p&&c.$$applicationDestroyed(),b(this,-this.$$watchersCount),this.$$listenerCount)_(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=M,this.$on=this.$watch=this.$watchGroup=function(){return M},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(e,t){return a(e)(this,t)},$evalAsync:function(e,t){p.$$phase||h.length||c.defer((function(){h.length&&p.$digest()})),h.push({scope:this,expression:a(e),locals:t})},$$postDigest:function(e){m.push(e)},$apply:function(e){try{v("$apply");try{return this.$eval(e)}finally{y()}}catch(t){o(t)}finally{try{p.$digest()}catch(t){throw o(t),t}}},$applyAsync:function(e){var t=this;e&&g.push((function(){t.$eval(e)})),e=a(e),null===r&&(r=c.defer((function(){p.$apply(k)})))},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do{i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++}while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,_(r,1,e))}},$emit:function(e,t){var n,i,r,a=[],s=this,c=!1,l={name:e,targetScope:s,stopPropagation:function(){c=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=le([l],arguments,1);do{for(n=s.$$listeners[e]||a,l.currentScope=s,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,u)}catch(d){o(d)}else n.splice(i,1),i--,r--;if(c)return l.currentScope=null,l;s=s.$parent}while(s);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,i=n,r=n,a={name:e,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return a;for(var s,c,l,u=le([a],arguments,1);i=r;){for(a.currentScope=i,c=0,l=(s=i.$$listeners[e]||[]).length;c<l;c++)if(s[c])try{s[c].apply(null,u)}catch(d){o(d)}else s.splice(c,1),c--,l--;if(!(r=i.$$listenerCount[e]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(r=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var p=new f,h=p.$$asyncQueue=[],m=p.$$postDigestQueue=[],g=p.$$applyAsyncQueue=[];return p;function v(e){if(p.$$phase)throw t("inprog","{0} already in progress",p.$$phase);p.$$phase=e}function y(){p.$$phase=null}function b(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function _(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function C(){}function k(){for(;g.length;)try{g.shift()()}catch(e){o(e)}r=null}}]}function Pi(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return R(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return R(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return""===(r=Wi(n).href)||r.match(o)?n:"unsafe:"+r}}}var Mi=i("$sce"),Di={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function Ii(e){var t=[];return R(e)&&w(e,(function(e){t.push(function(e){if("self"===e)return e;if(V(e)){if(e.indexOf("***")>-1)throw Mi("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=ee(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(H(e))return new RegExp("^"+e.source+"$");throw Mi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))})),t}function Li(){this.SCE_CONTEXTS=Di;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Ii(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Ii(e)),t},this.$get=["$injector",function(n){var i=function(e){throw Mi("unsafe","Attempting to use an unsafe value in a safe context.")};function r(e,t){return"self"===e?zi(t):!!e.exec(t.href)}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}n.has("$sanitize")&&(i=n.get("$sanitize"));var a=o(),s={};return s[Di.HTML]=o(a),s[Di.CSS]=o(a),s[Di.URL]=o(a),s[Di.JS]=o(a),s[Di.RESOURCE_URL]=o(s[Di.URL]),{trustAs:function(e,t){var n=s.hasOwnProperty(e)?s[e]:null;if(!n)throw Mi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||N(t)||""===t)return t;if("string"!==typeof t)throw Mi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(n,o){if(null===o||N(o)||""===o)return o;var a=s.hasOwnProperty(n)?s[n]:null;if(a&&o instanceof a)return o.$$unwrapTrustedValue();if(n===Di.RESOURCE_URL){if(function(n){var i,o,a=Wi(n.toString()),s=!1;for(i=0,o=e.length;i<o;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;i<o;i++)if(r(t[i],a)){s=!1;break}return s}(o))return o;throw Mi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",o.toString())}if(n===Di.HTML)return i(o);throw Mi("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof a?e.$$unwrapTrustedValue():e}}}]}function Ni(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&l<8)throw Mi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=oe(Di);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=D),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,(function(t){return i.getTrusted(e,t)}))};var r=i.parseAs,o=i.getTrusted,s=i.trustAs;return w(Di,(function(e,t){var n=a(t);i[Xe("parse_as_"+n)]=function(t){return r(e,t)},i[Xe("get_trusted_"+n)]=function(t){return o(e,t)},i[Xe("trust_as_"+n)]=function(t){return s(e,t)}})),i}]}function Ri(){this.$get=["$window","$document",function(e,t){var n,i,r={},o=A((/android (\d+)/.exec(a((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),c=t[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,d=c.body&&c.body.style,f=!1,p=!1;if(d){for(var h in d)if(i=u.exec(h)){n=(n=i[0]).substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in d&&"webkit"),f=!(!("transition"in d)&&!(n+"Transition"in d)),p=!(!("animation"in d)&&!(n+"Animation"in d)),!o||f&&p||(f=V(d.webkitTransition),p=V(d.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||o<4||s),hasEvent:function(e){if("input"===e&&l<=11)return!1;if(N(r[e])){var t=c.createElement("div");r[e]="on"+e in t}return r[e]},csp:se(),vendorPrefix:n,transitions:f,animations:p,android:o}}]}en=i("$compile");function Oi(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,i){function r(o,a){r.totalPendingRequests++,V(o)&&!N(e.get(o))||(o=i.getTrustedResourceUrl(o));var s=t.defaults&&t.defaults.transformResponse;W(s)?s=s.filter((function(e){return e!==Cn})):s===Cn&&(s=null);var c={cache:e,transformResponse:s};return t.get(o,c).finally((function(){r.totalPendingRequests--})).then((function(t){return e.put(o,t.data),t.data}),(function(e){if(!a)throw en("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,e.status,e.statusText);return n.reject(e)}))}return r.totalPendingRequests=0,r}]}function ji(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={findBindings:function(e,t,n){var i=e.getElementsByClassName("ng-binding"),r=[];return w(i,(function(e){var i=b.element(e).data("$binding");i&&w(i,(function(i){n?new RegExp("(^|\\s)"+ee(t)+"(\\s|\\||$)").test(i)&&r.push(e):-1!=i.indexOf(t)&&r.push(e)}))})),r},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o="["+i[r]+"model"+(n?"=":"*=")+'"'+t+'"]',a=e.querySelectorAll(o);if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}};return i}]}function Vi(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){var o={};function a(a,s,c){z(a)||(c=s,s=a,a=M);var l,u=ue(arguments,3),d=R(c)&&!c,f=(d?i:n).defer(),p=f.promise;return l=t.defer((function(){try{f.resolve(a.apply(null,u))}catch(t){f.reject(t),r(t)}finally{delete o[p.$$timeoutId]}d||e.$apply()}),s),p.$$timeoutId=l,o[l]=f,p}return a.cancel=function(e){return!(!e||!(e.$$timeoutId in o))&&(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},a}]}var Ui=t.createElement("a"),Bi=Wi(e.location.href);function Wi(e){var t=e;return l&&(Ui.setAttribute("href",t),t=Ui.href),Ui.setAttribute("href",t),{href:Ui.href,protocol:Ui.protocol?Ui.protocol.replace(/:$/,""):"",host:Ui.host,search:Ui.search?Ui.search.replace(/^\?/,""):"",hash:Ui.hash?Ui.hash.replace(/^#/,""):"",hostname:Ui.hostname,port:Ui.port,pathname:"/"===Ui.pathname.charAt(0)?Ui.pathname:"/"+Ui.pathname}}function zi(e){var t=V(e)?Wi(e):e;return t.protocol===Bi.protocol&&t.host===Bi.host}function Hi(){this.$get=I(e)}function qi(e){var t=e[0]||{},n={},i="";function r(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,o,a,s,c,l=t.cookie||"";if(l!==i)for(e=(i=l).split("; "),n={},a=0;a<e.length;a++)(s=(o=e[a]).indexOf("="))>0&&(c=r(o.substring(0,s)),N(n[c])&&(n[c]=r(o.substring(s+1))));return n}}function Gi(){this.$get=qi}function Zi(e){var t="Filter";function n(i,r){if(O(i)){var o={};return w(i,(function(e,t){o[t]=n(t,e)})),o}return e.factory(i+t,r)}this.register=n,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],n("currency",Ji),n("date",ur),n("filter",Yi),n("json",dr),n("limitTo",hr),n("lowercase",fr),n("number",Qi),n("orderBy",mr),n("uppercase",pr)}function Yi(){return function(e,t,n){if(!S(e)){if(null==e)return e;throw i("filter")("notarray","Expected array but received: {0}",e)}var r,o;switch(Ki(t)){case"function":r=t;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":r=function(e,t,n){var i=O(e)&&"$"in e;!0===t?t=ae:z(t)||(t=function(e,t){return!N(e)&&(null===e||null===t?e===t:!(O(t)||O(e)&&!L(e))&&(e=a(""+e),t=a(""+t),-1!==e.indexOf(t)))});return function(r){return i&&!O(r)?Xi(r,e.$,t,!1):Xi(r,e,t,n)}}(t,n,o);break;default:return e}return Array.prototype.filter.call(e,r)}}function Xi(e,t,n,i,r){var o=Ki(e),a=Ki(t);if("string"===a&&"!"===t.charAt(0))return!Xi(e,t.substring(1),n,i);if(W(e))return e.some((function(e){return Xi(e,t,n,i)}));switch(o){case"object":var s;if(i){for(s in e)if("$"!==s.charAt(0)&&Xi(e[s],t,n,!0))return!0;return!r&&Xi(e,t,n,!1)}if("object"===a){for(s in t){var c=t[s];if(!z(c)&&!N(c)){var l="$"===s;if(!Xi(l?e:e[s],c,n,l,l))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Ki(e){return null===e?"null":typeof e}qi.$inject=["$document"],Zi.$inject=["$provide"];function Ji(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return N(n)&&(n=t.CURRENCY_SYM),N(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:er(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Qi(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:er(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function er(e,t,n,i,r){if(!V(e)&&!U(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,c=Math.abs(e)+"",l="";if(a)l="\u221e";else{o=function(e){var t,n,i,r,o,a=0;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;"0"==e.charAt(i);i++);if(i==(o=e.length))t=[0],n=1;else{for(o--;"0"==e.charAt(o);)o--;for(n-=i,t=[],r=0;i<=o;i++,r++)t[r]=+e.charAt(i)}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{d:t,e:a,i:n}}(c),function(e,t,n,i){var r=e.d,o=r.length-e.i,a=(t=N(t)?Math.min(Math.max(n,o),i):+t)+e.i,s=r[a];if(a>0)r.splice(a);else{e.i=1,r.length=a=t+1;for(var c=0;c<a;c++)r[c]=0}for(s>=5&&r[a-1]++;o<t;o++)r.push(0);var l=r.reduceRight((function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)}),0);l&&(r.unshift(l),e.i++)}(o,r,t.minFrac,t.maxFrac);var u=o.d,d=o.i,f=o.e,p=[];for(s=u.reduce((function(e,t){return e&&!t}),!0);d<0;)u.unshift(0),d++;d>0?p=u.splice(d,u.length):(p=u,u=[0]);var h=[];for(u.length>=t.lgSize&&h.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)h.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&h.unshift(u.join("")),l=h.join(n),p.length&&(l+=i+p.join("")),f&&(l+="e+"+f)}return e<0&&!s?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function tr(e,t,n){var i="";for(e<0&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function nr(e,t,n,i){return n=n||0,function(r){var o=r["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),tr(o,t,i)}}function ir(e,t){return function(n,i){var r=n["get"+e]();return i[c(t?"SHORT"+e:e)][r]}}function rr(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function or(e){return function(t){var n,i=rr(t.getFullYear()),r=+(n=t,new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay())))-+i;return tr(1+Math.round(r/6048e5),e)}}function ar(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}Ji.$inject=["$locale"],Qi.$inject=["$locale"];var sr={yyyy:nr("FullYear",4),yy:nr("FullYear",2,0,!0),y:nr("FullYear",1),MMMM:ir("Month"),MMM:ir("Month",!0),MM:nr("Month",2,1),M:nr("Month",1,1),dd:nr("Date",2),d:nr("Date",1),HH:nr("Hours",2),H:nr("Hours",1),hh:nr("Hours",2,-12),h:nr("Hours",1,-12),mm:nr("Minutes",2),m:nr("Minutes",1),ss:nr("Seconds",2),s:nr("Seconds",1),sss:nr("Milliseconds",3),EEEE:ir("Day"),EEE:ir("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var i=-1*n,r=i>=0?"+":"";return r+=tr(Math[i>0?"floor":"ceil"](i/60),2)+tr(Math.abs(i%60),2)},ww:or(2),w:or(1),G:ar,GG:ar,GGG:ar,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},cr=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,lr=/^\-?\d+$/;function ur(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var o,a,s="",c=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,V(n)&&(n=lr.test(n)?A(n):function(e){var n;if(n=e.match(t)){var i=new Date(0),r=0,o=0,a=n[8]?i.setUTCFullYear:i.setFullYear,s=n[8]?i.setUTCHours:i.setHours;n[9]&&(r=A(n[9]+n[10]),o=A(n[9]+n[11])),a.call(i,A(n[1]),A(n[2])-1,A(n[3]));var c=A(n[4]||0)-r,l=A(n[5]||0)-o,u=A(n[6]||0),d=Math.round(1e3*parseFloat("0."+(n[7]||0)));return s.call(i,c,l,u,d),i}return e}(n)),U(n)&&(n=new Date(n)),!B(n)||!isFinite(n.getTime()))return n;for(;i;)(a=cr.exec(i))?i=(c=le(c,a,1)).pop():(c.push(i),i=null);var l=n.getTimezoneOffset();return r&&(l=ge(r,l),n=ve(n,r,!0)),w(c,(function(t){s+=(o=sr[t])?o(n,e.DATETIME_FORMATS,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),s}}function dr(){return function(e,t){return N(t)&&(t=2),pe(e,t)}}ur.$inject=["$locale"];var fr=I(a),pr=I(c);function hr(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):A(t),isNaN(t)?e:(U(e)&&(e=e.toString()),W(e)||V(e)?(n=(n=!n||isNaN(n)?0:A(n))<0?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function mr(e){return function(i,r,o){if(!S(i))return i;W(r)||(r=[r]),0===r.length&&(r=["+"]);var a=function(t,n){return n=n?-1:1,t.map((function(t){var i=1,r=D;if(z(t))r=t;else if(V(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(i="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t)).constant)){var o=r();r=function(e){return e[o]}}return{get:r,descending:i*n}}))}(r,o);a.push({get:function(){return{}},descending:o?-1:1});var s=Array.prototype.map.call(i,(function(e,n){return{value:e,predicateValues:a.map((function(i){return function(e,n){var i=typeof e;null===e?(i="string",e="null"):"string"===i?e=e.toLowerCase():"object"===i&&(e=function(e,n){if("function"===typeof e.valueOf&&t(e=e.valueOf()))return e;if(L(e)&&t(e=e.toString()))return e;return n}(e,n));return{value:e,type:i}}(i.get(e),n)}))}}));return s.sort((function(e,t){for(var i=0,r=0,o=a.length;r<o&&!(i=n(e.predicateValues[r],t.predicateValues[r])*a[r].descending);++r);return i})),i=s.map((function(e){return e.value}))};function t(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function n(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}}function gr(e){return z(e)&&(e={link:e}),e.restrict=e.restrict||"AC",I(e)}mr.$inject=["$parse"];var vr=I({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===g.call(t.prop("href"))?"xlink:href":"href";t.on("click",(function(e){t.attr(n)||e.preventDefault()}))}}}}),yr={};w(Ct,(function(e,t){if("multiple"!=e){var n=rn("ng-"+t),i=r;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[n]&&r(e,0,i)}),yr[n]=function(){return{restrict:"A",priority:100,link:i}}}function r(e,i,r){e.$watch(r[n],(function(e){r.$set(t,!!e)}))}})),w(Ft,(function(e,t){yr[t]=function(){return{priority:100,link:function(e,n,i){if("ngPattern"===t&&"/"==i.ngPattern.charAt(0)){var o=i.ngPattern.match(r);if(o)return void i.$set("ngPattern",new RegExp(o[1],o[2]))}e.$watch(i[t],(function(e){i.$set(t,e)}))}}}})),w(["src","srcset","href"],(function(e){var t=rn("ng-"+e);yr[t]=function(){return{priority:99,link:function(n,i,r){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===g.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(t,(function(t){t?(r.$set(a,t),l&&o&&i.prop(o,r[a])):"href"===e&&r.$set(a,null)}))}}}}));var br={$addControl:M,$$renameControl:function(e,t){e.$name=t},$removeControl:M,$setValidity:M,$setDirty:M,$setPristine:M,$setSubmitted:M},_r="ng-submitted";function Sr(e,t,i,r,o){var a=this,s=[];a.$error={},a.$$success={},a.$pending=n,a.$name=o(t.name||t.ngForm||"")(i),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=br,a.$rollbackViewValue=function(){w(s,(function(e){e.$rollbackViewValue()}))},a.$commitViewValue=function(){w(s,(function(e){e.$commitViewValue()}))},a.$addControl=function(e){Le(e.$name,"input"),s.push(e),e.$name&&(a[e.$name]=e),e.$$parentForm=a},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],w(a.$pending,(function(t,n){a.$setValidity(n,null,e)})),w(a.$error,(function(t,n){a.$setValidity(n,null,e)})),w(a.$$success,(function(t,n){a.$setValidity(n,null,e)})),ie(s,e),e.$$parentForm=br},So({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(ie(i,n),0===i.length&&delete e[t])},$animate:r}),a.$setDirty=function(){r.removeClass(e,uo),r.addClass(e,fo),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){r.setClass(e,uo,fo+" "+_r),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,w(s,(function(e){e.$setPristine()}))},a.$setUntouched=function(){w(s,(function(e){e.$setUntouched()}))},a.$setSubmitted=function(){r.addClass(e,_r),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}Sr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var wr=function(e){return["$timeout","$parse",function(t,i){return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Sr,compile:function(i,o){i.addClass(uo).addClass(co);var a=o.name?"name":!(!e||!o.ngForm)&&"ngForm";return{pre:function(e,i,o,s){var c=s[0];if(!("action"in o)){var l=function(t){e.$apply((function(){c.$commitViewValue(),c.$setSubmitted()})),t.preventDefault()};ze(i[0],"submit",l),i.on("$destroy",(function(){t((function(){He(i[0],"submit",l)}),0,!1)}))}(s[1]||c.$$parentForm).$addControl(c);var u=a?r(c.$name):M;a&&(u(e,c),o.$observe(a,(function(t){c.$name!==t&&(u(e,n),c.$$parentForm.$$renameControl(c,t),(u=r(c.$name))(e,c))}))),i.on("$destroy",(function(){c.$$parentForm.$removeControl(c),u(e,n),x(c,br)}))}}}};function r(e){return""===e?i('this[""]').assign:i(e).assign||M}}]},Cr=wr(),kr=wr(!0),Fr=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Er=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,$r=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,xr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Tr=/^(\d{4})-(\d{2})-(\d{2})$/,Ar=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Pr=/^(\d{4})-W(\d\d)$/,Mr=/^(\d{4})-(\d\d)$/,Dr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ir=Oe();w("date,datetime-local,month,time,week".split(","),(function(e){Ir[e]=!0}));var Lr={text:function(e,t,n,i,r,o){Rr(e,t,n,i,r,o),Nr(i)},date:jr("date",Tr,Or(Tr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":jr("datetimelocal",Ar,Or(Ar,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:jr("time",Dr,Or(Dr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:jr("week",Pr,(function(e,t){if(B(e))return e;if(V(e)){Pr.lastIndex=0;var n=Pr.exec(e);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,c=0,l=rr(i),u=7*(r-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),c=t.getMilliseconds()),new Date(i,0,l.getDate()+u,o,a,s,c)}}return NaN}),"yyyy-Www"),month:jr("month",Mr,Or(Mr,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,i,r,o,a){if(Vr(e,t,i,r),Rr(e,t,i,r,o,a),r.$$parserName="number",r.$parsers.push((function(e){return r.$isEmpty(e)?null:xr.test(e)?parseFloat(e):n})),r.$formatters.push((function(e){if(!r.$isEmpty(e)){if(!U(e))throw go("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})),R(i.min)||i.ngMin){var s;r.$validators.min=function(e){return r.$isEmpty(e)||N(s)||e>=s},i.$observe("min",(function(e){R(e)&&!U(e)&&(e=parseFloat(e,10)),s=U(e)&&!isNaN(e)?e:n,r.$validate()}))}if(R(i.max)||i.ngMax){var c;r.$validators.max=function(e){return r.$isEmpty(e)||N(c)||e<=c},i.$observe("max",(function(e){R(e)&&!U(e)&&(e=parseFloat(e,10)),c=U(e)&&!isNaN(e)?e:n,r.$validate()}))}},url:function(e,t,n,i,r,o){Rr(e,t,n,i,r,o),Nr(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||Er.test(n)}},email:function(e,t,n,i,r,o){Rr(e,t,n,i,r,o),Nr(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||$r.test(n)}},radio:function(e,t,n,i){N(n.name)&&t.attr("name",F());t.on("click",(function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)})),i.$render=function(){var e=n.value;t[0].checked=e==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(e,t,n,i,r,o,a,s){var c=Ur(s,e,"ngTrueValue",n.ngTrueValue,!0),l=Ur(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",(function(e){i.$setViewValue(t[0].checked,e&&e.type)})),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push((function(e){return ae(e,c)})),i.$parsers.push((function(e){return e?c:l}))},hidden:M,button:M,submit:M,reset:M,file:M};function Nr(e){e.$formatters.push((function(t){return e.$isEmpty(t)?t:t.toString()}))}function Rr(e,t,n,i,r,o){var s,c=a(t[0].type);if(!r.android){var l=!1;t.on("compositionstart",(function(e){l=!0})),t.on("compositionend",(function(){l=!1,u()}))}var u=function(e){if(s&&(o.defer.cancel(s),s=null),!l){var r=t.val(),a=e&&e.type;"password"===c||n.ngTrim&&"false"===n.ngTrim||(r=Q(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,a)}};if(r.hasEvent("input"))t.on("input",u);else{var d=function(e,t,n){s||(s=o.defer((function(){s=null,t&&t.value===n||u(e)})))};t.on("keydown",(function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||d(e,this,this.value)})),r.hasEvent("paste")&&t.on("paste cut",d)}t.on("change",u),Ir[c]&&i.$$hasNativeValidators&&c===n.type&&t.on("keydown wheel mousedown",(function(e){if(!s){var t=this.validity,n=t.badInput,i=t.typeMismatch;s=o.defer((function(){s=null,t.badInput===n&&t.typeMismatch===i||u(e)}))}})),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function Or(e,t){return function(n,i){var r,o;if(B(n))return n;if(V(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Fr.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n))return r.shift(),o=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},w(r,(function(e,n){n<t.length&&(o[t[n]]=+e)})),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function jr(e,t,i,r){return function(o,a,s,c,l,u,d){Vr(o,a,s,c),Rr(0,a,s,c,l,u);var f,p,h,m=c&&c.$options&&c.$options.timezone;(c.$$parserName=e,c.$parsers.push((function(e){if(c.$isEmpty(e))return null;if(t.test(e)){var r=i(e,f);return m&&(r=ve(r,m)),r}return n})),c.$formatters.push((function(e){if(e&&!B(e))throw go("datefmt","Expected `{0}` to be a date",e);return g(e)?((f=e)&&m&&(f=ve(f,m,!0)),d("date")(e,r,m)):(f=null,"")})),R(s.min)||s.ngMin)&&(c.$validators.min=function(e){return!g(e)||N(p)||i(e)>=p},s.$observe("min",(function(e){p=v(e),c.$validate()})));(R(s.max)||s.ngMax)&&(c.$validators.max=function(e){return!g(e)||N(h)||i(e)<=h},s.$observe("max",(function(e){h=v(e),c.$validate()})));function g(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function v(e){return R(e)&&!B(e)?i(e)||n:e}}}function Vr(e,t,i,r){var a=t[0];(r.$$hasNativeValidators=O(a.validity))&&r.$parsers.push((function(e){var i=t.prop(o)||{};return i.badInput&&!i.typeMismatch?n:e}))}function Ur(e,t,n,i,r){var o;if(R(i)){if(!(o=e(i)).constant)throw go("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(t)}return r}var Br=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,s,c){c[0]&&(Lr[a(s.type)]||Lr.text)(r,o,s,c[0],t,e,n,i)}}}}],Wr=/^(true|false|\d+)$/,zr=function(){return{restrict:"A",priority:100,compile:function(e,t){return Wr.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,(function(e){n.$set("value",e)}))}}}},Hr=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,(function(e){n.textContent=N(e)?"":e}))}}}}],qr=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,r){var o=e(i.attr(r.$attr.ngBindTemplate));t.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",(function(e){i.textContent=N(e)?"":e}))}}}}],Gr=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),a=t(r.ngBindHtml,(function(t){return e.valueOf(t)}));return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(a,(function(){var n=o(t);i.html(e.getTrustedHtml(n)||"")}))}}}}],Zr=I({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push((function(){e.$eval(n.ngChange)}))}});function Yr(e,t){return e="ngClass"+e,["$animate",function(n){return{restrict:"AC",link:function(o,a,s){var c;function l(e){var t=u(e,1);s.$addClass(t)}function u(e,t){var n=a.data("$classCounts")||Oe(),i=[];return w(e,(function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))})),a.data("$classCounts",n),i.join(" ")}function d(e){if(!0===t||o.$index%2===t){var s=r(e||[]);if(c){if(!ae(e,c)){!function(e,t){var r=i(t,e),o=i(e,t);r=u(r,1),o=u(o,-1),r&&r.length&&n.addClass(a,r),o&&o.length&&n.removeClass(a,o)}(r(c),s)}}else l(s)}c=W(e)?e.map((function(e){return oe(e)})):oe(e)}o.$watch(s[e],d,!0),s.$observe("class",(function(t){d(o.$eval(s[e]))})),"ngClass"!==e&&o.$watch("$index",(function(n,i){var a=1&n;if(a!==(1&i)){var c=r(o.$eval(s[e]));a===t?l(c):function(e){var t=u(e,-1);s.$removeClass(t)}(c)}}))}};function i(e,t){var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r==t[o])continue e;n.push(r)}return n}function r(e){var t=[];return W(e)?(w(e,(function(e){t=t.concat(r(e))})),t):V(e)?e.split(" "):O(e)?(w(e,(function(e,n){e&&(t=t.concat(n.split(" ")))})),t):e}}]}var Xr=Yr("",!0),Kr=Yr("Odd",0),Jr=Yr("Even",1),Qr=gr({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),eo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],to={},no={blur:!0,focus:!0};w("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(e){var t=rn("ng-"+e);to[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,(function(n){var r=function(){a(t,{$event:n})};no[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)}))}}}}]}));var io=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,c,l;n.$watch(r.ngIf,(function(n){n?c||a((function(n,o){c=o,n[n.length++]=t.createComment(" end ngIf: "+r.ngIf+" "),s={clone:n},e.enter(n,i.parent(),i)})):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),s&&(l=Re(s.clone),e.leave(l).then((function(){l=null})),s=null))}))}}}],ro=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:b.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,c,l,u){var d,f,p,h=0,m=function(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).then((function(){f=null})),f=p,p=null)};i.$watch(o,(function(o){var c=function(){!R(s)||s&&!i.$eval(s)||t()},f=++h;o?(e(o,!0).then((function(e){if(!i.$$destroyed&&f===h){var t=i.$new();l.template=e;var s=u(t,(function(e){m(),n.enter(e,null,r).then(c)}));p=s,(d=t).$emit("$includeContentLoaded",o),i.$eval(a)}}),(function(){i.$$destroyed||f===h&&(m(),i.$emit("$includeContentError",o))})),i.$emit("$includeContentRequested",o)):(m(),l.template=null)}))}}}}],oo=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){if(/SVG/.test(i[0].toString()))return i.empty(),void e(rt(o.template,t).childNodes)(n,(function(e){i.append(e)}),{futureParentElement:i});i.html(o.template),e(i.contents())(n)}}}],ao=gr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),so=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,i,r){var o=t.attr(i.$attr.ngList)||", ",a="false"!==i.ngTrim,s=a?Q(o):o;r.$parsers.push((function(e){if(!N(e)){var t=[];return e&&w(e.split(s),(function(e){e&&t.push(a?Q(e):e)})),t}})),r.$formatters.push((function(e){return W(e)?e.join(o):n})),r.$isEmpty=function(e){return!e||!e.length}}}},co="ng-valid",lo="ng-invalid",uo="ng-pristine",fo="ng-dirty",po="ng-untouched",ho="ng-touched",mo="ng-pending",go=i("ngModel"),vo=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,i,r,o,a,s,c,l,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=u(i.name||"",!1)(e),this.$$parentForm=br;var d,f=o(i.ngModel),p=f.assign,h=f,m=p,g=null,v=this;this.$$setOptions=function(e){if(v.$options=e,e&&e.getterSetter){var t=o(i.ngModel+"()"),n=o(i.ngModel+"($$$p)");h=function(e){var n=f(e);return z(n)&&(n=t(e)),n},m=function(e,t){z(f(e))?n(e,{$$$p:v.$modelValue}):p(e,v.$modelValue)}}else if(!f.assign)throw go("nonassign","Expression '{0}' is non-assignable. Element: {1}",i.ngModel,ye(r))},this.$render=M,this.$isEmpty=function(e){return N(e)||""===e||null===e||e!==e};var y=0;So({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:a}),this.$setPristine=function(){v.$dirty=!1,v.$pristine=!0,a.removeClass(r,fo),a.addClass(r,uo)},this.$setDirty=function(){v.$dirty=!0,v.$pristine=!1,a.removeClass(r,uo),a.addClass(r,fo),v.$$parentForm.$setDirty()},this.$setUntouched=function(){v.$touched=!1,v.$untouched=!0,a.setClass(r,po,ho)},this.$setTouched=function(){v.$touched=!0,v.$untouched=!1,a.setClass(r,ho,po)},this.$rollbackViewValue=function(){s.cancel(g),v.$viewValue=v.$$lastCommittedViewValue,v.$render()},this.$validate=function(){if(!U(v.$modelValue)||!isNaN(v.$modelValue)){var e=v.$$lastCommittedViewValue,t=v.$$rawModelValue,i=v.$valid,r=v.$modelValue,o=v.$options&&v.$options.allowInvalid;v.$$runValidators(t,e,(function(e){o||i===e||(v.$modelValue=e?t:n,v.$modelValue!==r&&v.$$writeModelToScope())}))}},this.$$runValidators=function(e,t,i){var r,o,a=++y;(function(){var e=v.$$parserName||"parse";if(!N(d))return d||(w(v.$validators,(function(e,t){s(t,null)})),w(v.$asyncValidators,(function(e,t){s(t,null)}))),s(e,d),d;s(e,null);return!0})()?!function(){var n=!0;if(w(v.$validators,(function(i,r){var o=i(e,t);n=n&&o,s(r,o)})),!n)return w(v.$asyncValidators,(function(e,t){s(t,null)})),!1;return!0}()?c(!1):(r=[],o=!0,w(v.$asyncValidators,(function(i,a){var c=i(e,t);if(!X(c))throw go("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",c);s(a,n),r.push(c.then((function(){s(a,!0)}),(function(e){o=!1,s(a,!1)})))})),r.length?l.all(r).then((function(){c(o)}),M):c(!0)):c(!1);function s(e,t){a===y&&v.$setValidity(e,t)}function c(e){a===y&&i(e)}},this.$commitViewValue=function(){var e=v.$viewValue;s.cancel(g),(v.$$lastCommittedViewValue!==e||""===e&&v.$$hasNativeValidators)&&(v.$$lastCommittedViewValue=e,v.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=v.$$lastCommittedViewValue;if(d=!N(t)||n)for(var i=0;i<v.$parsers.length;i++)if(N(t=v.$parsers[i](t))){d=!1;break}U(v.$modelValue)&&isNaN(v.$modelValue)&&(v.$modelValue=h(e));var r=v.$modelValue,o=v.$options&&v.$options.allowInvalid;function a(){v.$modelValue!==r&&v.$$writeModelToScope()}v.$$rawModelValue=t,o&&(v.$modelValue=t,a()),v.$$runValidators(t,v.$$lastCommittedViewValue,(function(e){o||(v.$modelValue=e?t:n,a())}))},this.$$writeModelToScope=function(){m(e,v.$modelValue),w(v.$viewChangeListeners,(function(e){try{e()}catch(n){t(n)}}))},this.$setViewValue=function(e,t){v.$viewValue=e,v.$options&&!v.$options.updateOnDefault||v.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,i=0,r=v.$options;r&&R(r.debounce)&&(U(n=r.debounce)?i=n:U(n[t])?i=n[t]:U(n.default)&&(i=n.default)),s.cancel(g),i?g=s((function(){v.$commitViewValue()}),i):c.$$phase?v.$commitViewValue():e.$apply((function(){v.$commitViewValue()}))},e.$watch((function(){var t=h(e);if(t!==v.$modelValue&&(v.$modelValue===v.$modelValue||t===t)){v.$modelValue=v.$$rawModelValue=t,d=n;for(var i=v.$formatters,r=i.length,o=t;r--;)o=i[r](o);v.$viewValue!==o&&(v.$viewValue=v.$$lastCommittedViewValue=o,v.$render(),v.$$runValidators(t,o,M))}return t}))}],yo=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:vo,priority:1,compile:function(t){return t.addClass(uo).addClass(po).addClass(co),{pre:function(e,t,n,i){var r=i[0],o=i[1]||r.$$parentForm;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",(function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)})),e.$on("$destroy",(function(){r.$$parentForm.$removeControl(r)}))},post:function(t,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,(function(e){o.$$debounceViewValueCommit(e&&e.type)})),n.on("blur",(function(n){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))}))}}}}}],bo=/(\s+|^)default(\s+|$)/,_o=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=re(e.$eval(t.ngModelOptions)),R(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Q(this.$options.updateOn.replace(bo,(function(){return n.$options.updateOnDefault=!0," "})))):this.$options.updateOnDefault=!0}]}};function So(e){var t=e.ctrl,i=e.$element,r={},o=e.set,a=e.unset,s=e.$animate;function c(e,t){t&&!r[e]?(s.addClass(i,e),r[e]=!0):!t&&r[e]&&(s.removeClass(i,e),r[e]=!1)}function l(e,t){e=e?"-"+Ae(e,"-"):"",c(co+e,!0===t),c(lo+e,!1===t)}r["ng-invalid"]=!(r[co]=i.hasClass(co)),t.$setValidity=function(e,i,r){N(i)?function(e,n,i){t[e]||(t[e]={});o(t[e],n,i)}("$pending",e,r):function(e,i,r){t[e]&&a(t[e],i,r);wo(t[e])&&(t[e]=n)}("$pending",e,r);Y(i)?i?(a(t.$error,e,r),o(t.$$success,e,r)):(o(t.$error,e,r),a(t.$$success,e,r)):(a(t.$error,e,r),a(t.$$success,e,r));t.$pending?(c(mo,!0),t.$valid=t.$invalid=n,l("",null)):(c(mo,!1),t.$valid=wo(t.$error),t.$invalid=!t.$valid,l("",t.$valid));var s;s=t.$pending&&t.$pending[e]?n:!t.$error[e]&&(!!t.$$success[e]||null);l(e,s),t.$$parentForm.$setValidity(e,s,t)}}function wo(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Co=gr({terminal:!0,priority:1e3}),ko=i("ngOptions"),Fo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Eo=["$compile","$parse",function(e,n){var i=t.createElement("option"),r=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=M},post:function(t,o,s,c){var l=c[1];if(l){for(var d,f=c[0],p=s.multiple,h=0,m=o.children(),g=m.length;h<g;h++)if(""===m[h].value){d=m.eq(h);break}var v,y=!!d,_=u(i.cloneNode(!1));_.val("?");var C=function(e,t,i){var r=e.match(Fo);if(!r)throw ko("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,ye(t));var o=r[5]||r[7],a=r[6],s=/ as /.test(r[0])&&r[1],c=r[9],l=n(r[2]?r[1]:o),u=s&&n(s)||l,d=c&&n(c),f=c?function(e,t){return d(i,t)}:function(e){return At(e)},p=function(e,t){return f(e,_(e,t))},h=n(r[2]||r[1]),m=n(r[3]||""),g=n(r[4]||""),v=n(r[8]),y={},_=a?function(e,t){return y[a]=t,y[o]=e,y}:function(e){return y[o]=e,y};function w(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function C(e){var t;if(!a&&S(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:c,getTrackByValue:p,getWatchables:n(v,(function(e){for(var t=[],n=C(e=e||[]),o=n.length,a=0;a<o;a++){var s=e===n?a:n[a],c=(e[s],_(e[s],s)),l=f(e[s],c);if(t.push(l),r[2]||r[1]){var u=h(i,c);t.push(u)}if(r[4]){var d=g(i,c);t.push(d)}}return t})),getOptions:function(){for(var e=[],t={},n=v(i)||[],r=C(n),o=r.length,a=0;a<o;a++){var s=n===r?a:r[a],l=n[s],d=_(l,s),y=u(i,d),S=f(y,d),k=new w(S,y,h(i,d),m(i,d),g(i,d));e.push(k),t[S]=k}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[p(e)]},getViewValueFromOption:function(e){return c?b.copy(e.viewValue):e.viewValue}}}}}(s.ngOptions,o,t),k=function(){y||d.remove()},F=function(){_.remove()};p?(l.$isEmpty=function(e){return!e||0===e.length},f.writeValue=function(e){v.items.forEach((function(e){e.element.selected=!1})),e&&e.forEach((function(e){var t=v.getOptionFromViewValue(e);t&&!t.disabled&&(t.element.selected=!0)}))},f.readValue=function(){var e=o.val()||[],t=[];return w(e,(function(e){var n=v.selectValueMap[e];n&&!n.disabled&&t.push(v.getViewValueFromOption(n))})),t},C.trackBy&&t.$watchCollection((function(){if(W(l.$viewValue))return l.$viewValue.map((function(e){return C.getTrackByValue(e)}))}),(function(){l.$render()}))):(f.writeValue=function(e){var t=v.getOptionFromViewValue(e);t&&!t.disabled?(o[0].value!==t.selectValue&&(F(),k(),o[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||y?(F(),y||o.prepend(d),o.val(""),d.prop("selected",!0),d.attr("selected",!0)):(k(),o.prepend(_),o.val("?"),_.prop("selected",!0),_.attr("selected",!0))},f.readValue=function(){var e=v.selectValueMap[o.val()];return e&&!e.disabled?(k(),F(),v.getViewValueFromOption(e)):null},C.trackBy&&t.$watch((function(){return C.getTrackByValue(l.$viewValue)}),(function(){l.$render()}))),y?(d.remove(),e(d)(t),d.removeClass("ng-scope")):d=u(i.cloneNode(!1)),T(),t.$watchCollection(C.getWatchables,T)}function E(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function $(e,t,n,i){var r;return t&&a(t.nodeName)===n?r=t:(r=i.cloneNode(!1),t?e.insertBefore(r,t):e.appendChild(r)),r}function x(e){for(var t;e;)t=e.nextSibling,St(e),e=t}function T(){var e=v&&f.readValue();v=C.getOptions();var t={},n=o[0].firstChild;if(y&&o.prepend(d),n=function(e){var t=d&&d[0],n=_&&_[0];if(t||n)for(;e&&(e===t||e===n||8===e.nodeType||"option"===ne(e)&&""===e.value);)e=e.nextSibling;return e}(n),v.items.forEach((function(e){var a,s,c;e.group?((a=t[e.group])||(s=$(o[0],n,"optgroup",r),n=s.nextSibling,s.label=e.group,a=t[e.group]={groupElement:s,currentOptionElement:s.firstChild}),E(e,c=$(a.groupElement,a.currentOptionElement,"option",i)),a.currentOptionElement=c.nextSibling):(E(e,c=$(o[0],n,"option",i)),n=c.nextSibling)})),Object.keys(t).forEach((function(e){x(t[e].currentOptionElement)})),x(n),l.$render(),!l.$isEmpty(e)){var a=f.readValue();(C.trackBy||p?ae(e,a):e===a)||(l.$setViewValue(a),l.$render())}}}}}}],$o=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(o,s,c){var l,u=c.count,d=c.$attr.when&&s.attr(c.$attr.when),f=c.offset||0,p=o.$eval(d)||{},h={},m=t.startSymbol(),g=t.endSymbol(),v=m+u+"-"+f+g,y=b.noop;function _(e){s.text(e||"")}w(c,(function(e,t){var n=r.exec(t);if(n){var i=(n[1]?"-":"")+a(n[2]);p[i]=s.attr(c.$attr[t])}})),w(p,(function(e,n){h[n]=t(e.replace(i,v))})),o.$watch(u,(function(t){var i=parseFloat(t),r=isNaN(i);if(r||i in p||(i=e.pluralCat(i-f)),i!==l&&!(r&&U(l)&&isNaN(l))){y();var a=h[i];N(a)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+d),y=M,_()):y=o.$watch(a,_),l=i}}))}}}],xo=["$parse","$animate",function(e,r){var o="$$NG_REMOVED",a=i("ngRepeat"),c=function(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},l=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,d){var f=d.ngRepeat,p=t.createComment(" end ngRepeat: "+f+" "),h=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var m=h[1],g=h[2],v=h[3],y=h[4];if(!(h=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var b,_,C,k,F=h[3]||h[1],E=h[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var $={$id:At};return y?b=e(y):(C=function(e,t){return At(t)},k=function(e){return e}),function(e,t,i,d,h){b&&(_=function(t,n,i){return E&&($[E]=t),$[F]=n,$.$index=i,b(e,$)});var m=Oe();e.$watchCollection(g,(function(i){var d,g,y,b,$,x,T,A,P,M,D,I,L=t[0],N=Oe();if(v&&(e[v]=i),S(i))P=i,A=_||C;else for(var R in A=_||k,P=[],i)s.call(i,R)&&"$"!==R.charAt(0)&&P.push(R);for(b=P.length,D=new Array(b),d=0;d<b;d++)if($=i===P?d:P[d],x=i[$],T=A($,x,d),m[T])M=m[T],delete m[T],N[T]=M,D[d]=M;else{if(N[T])throw w(D,(function(e){e&&e.scope&&(m[e.id]=e)})),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,T,x);D[d]={id:T,scope:n,clone:n},N[T]=!0}for(var O in m){if(I=Re((M=m[O]).clone),r.leave(I),I[0].parentNode)for(d=0,g=I.length;d<g;d++)I[d][o]=!0;M.scope.$destroy()}for(d=0;d<b;d++)if($=i===P?d:P[d],x=i[$],(M=D[d]).scope){y=L;do{y=y.nextSibling}while(y&&y[o]);l(M)!=y&&r.move(Re(M.clone),null,L),L=u(M),c(M.scope,d,F,x,E,$,b)}else h((function(e,t){M.scope=t;var n=p.cloneNode(!1);e[e.length++]=n,r.enter(e,null,L),L=n,M.clone=e,N[M.id]=M,c(M.scope,d,F,x,E,$,b)}));m=N}))}}}}],To="ng-hide",Ao="ng-hide-animate",Po=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,(function(t){e[t?"removeClass":"addClass"](n,To,{tempClasses:Ao})}))}}}],Mo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,(function(t){e[t?"addClass":"removeClass"](n,To,{tempClasses:Ao})}))}}}],Do=gr((function(e,t,n){e.$watch(n.ngStyle,(function(e,n){n&&e!==n&&w(n,(function(e,n){t.css(n,"")})),e&&t.css(e)}),!0)})),Io=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,o){var a=r.ngSwitch||r.on,s=[],c=[],l=[],u=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(a,(function(n){var i,r;for(i=0,r=l.length;i<r;++i)e.cancel(l[i]);for(l.length=0,i=0,r=u.length;i<r;++i){var a=Re(c[i].clone);u[i].$destroy(),(l[i]=e.leave(a)).then(d(l,i))}c.length=0,u.length=0,(s=o.cases["!"+n]||o.cases["?"])&&w(s,(function(n){n.transclude((function(i,r){u.push(r);var o=n.element;i[i.length++]=t.createComment(" end ngSwitchWhen: ");var a={clone:i};c.push(a),e.enter(i,o.parent(),o)}))}))}))}}}],Lo=gr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:t})}}),No=gr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),Ro=gr({restrict:"EAC",link:function(e,t,n,r,o){if(!o)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",ye(t));o((function(e){t.empty(),t.append(e)}))}}),Oo=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],jo={$setViewValue:M,$render:M};var Vo=["$element","$scope","$attrs",function(e,i,r){var o=this,a=new Pt;o.ngModelCtrl=jo,o.unknownOption=u(t.createElement("option")),o.renderUnknownOption=function(t){var n="? "+At(t)+" ?";o.unknownOption.val(n),e.prepend(o.unknownOption),e.val(n)},i.$on("$destroy",(function(){o.renderUnknownOption=M})),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),e.val()},o.writeValue=function(t){o.hasOption(t)?(o.removeUnknownOption(),e.val(t),""===t&&o.emptyOption.prop("selected",!0)):null==t&&o.emptyOption?(o.removeUnknownOption(),e.val("")):o.renderUnknownOption(t)},o.addOption=function(e,t){if(8!==t[0].nodeType){Le(e,'"option value"'),""===e&&(o.emptyOption=t);var n,i=a.get(e)||0;a.put(e,i+1),o.ngModelCtrl.$render(),(n=t)[0].hasAttribute("selected")&&(n[0].selected=!0)}},o.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.remove(e),""===e&&(o.emptyOption=n)):a.put(e,t-1))},o.hasOption=function(e){return!!a.get(e)},o.registerOption=function(e,t,n,i,r){var a;i?n.$observe("value",(function(e){R(a)&&o.removeOption(a),a=e,o.addOption(e,t)})):r?e.$watch(r,(function(e,i){n.$set("value",e),i!==e&&o.removeOption(i),o.addOption(e,t)})):o.addOption(n.value,t);t.on("$destroy",(function(){o.removeOption(n.value),o.ngModelCtrl.$render()}))}}],Uo=function(){return{restrict:"E",require:["select","?ngModel"],controller:Vo,priority:1,link:{pre:function(e,t,n,i){var r=i[1];if(!r)return;var o=i[0];if(o.ngModelCtrl=r,t.on("change",(function(){e.$apply((function(){r.$setViewValue(o.readValue())}))})),n.multiple){o.readValue=function(){var e=[];return w(t.find("option"),(function(t){t.selected&&e.push(t.value)})),e},o.writeValue=function(e){var n=new Pt(e);w(t.find("option"),(function(e){e.selected=R(n.get(e.value))}))};var a,s=NaN;e.$watch((function(){s!==r.$viewValue||ae(a,r.$viewValue)||(a=oe(r.$viewValue),r.$render()),s=r.$viewValue})),r.$isEmpty=function(e){return!e||0===e.length}}},post:function(e,t,n,i){var r=i[1];if(!r)return;var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}}},Bo=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(R(n.value))var i=e(n.value,!0);else{var r=e(t.text(),!0);r||n.$set("value",t.text())}return function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,i,r)}}}}],Wo=I({restrict:"E",terminal:!1}),zo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",(function(){i.$validate()})))}}},Ho=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,o){if(o){var a,s=r.ngPattern||r.pattern;r.$observe("pattern",(function(e){if(V(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,ye(t));a=e||n,o.$validate()})),o.$validators.pattern=function(e,t){return o.$isEmpty(t)||N(a)||a.test(t)}}}}},qo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",(function(e){var t=A(e);r=isNaN(t)?-1:t,i.$validate()})),i.$validators.maxlength=function(e,t){return r<0||i.$isEmpty(t)||t.length<=r}}}}},Go=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",(function(e){r=A(e)||0,i.$validate()})),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load angular more than once."):(!function(){var t;if(!Me){var i=ce();(d=N(i)?e.jQuery:i?e[i]:n)&&d.fn.on?(u=d,x(d.fn,{scope:wt.scope,isolateScope:wt.isolateScope,controller:wt.controller,injector:wt.injector,inheritedData:wt.inheritedData}),t=d.cleanData,d.cleanData=function(e){var n;if(Pe)Pe=!1;else for(var i,r=0;null!=(i=e[r]);r++)(n=d._data(i,"events"))&&n.$destroy&&d(i).triggerHandler("$destroy");t(e)}):u=st,b.element=u,Me=!0}}(),function(t){x(t,{bootstrap:Ee,copy:re,extend:x,merge:T,equals:ae,element:u,forEach:w,injector:Ot,noop:M,bind:de,toJson:pe,fromJson:he,identity:D,isUndefined:N,isDefined:R,isString:V,isFunction:z,isObject:O,isNumber:U,isElement:te,isArray:W,version:Ue,isDate:B,lowercase:a,uppercase:c,callbacks:{counter:0},getTestability:xe,$$minErr:i,$$csp:se,reloadWithDebugInfo:$e}),f=function(e){var t=i("$injector"),n=i("ng");function r(e,t,n){return e[t]||(e[t]=n())}var o=r(e,"angular",Object);return o.$$minErr=o.$$minErr||i,r(o,"module",(function(){var e={};return function(i,o,a){return function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name","module")}(i),o&&e.hasOwnProperty(i)&&(e[i]=null),r(e,i,(function(){if(!o)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var e=[],n=[],r=[],s=l("$injector","invoke","push",n),c={_invokeQueue:e,_configBlocks:n,_runBlocks:r,requires:o,name:i,provider:u("$provide","provider"),factory:u("$provide","factory"),service:u("$provide","service"),value:l("$provide","value"),constant:l("$provide","constant","unshift"),decorator:u("$provide","decorator"),animation:u("$animateProvider","register"),filter:u("$filterProvider","register"),controller:u("$controllerProvider","register"),directive:u("$compileProvider","directive"),config:s,run:function(e){return r.push(e),this}};return a&&s(a),c;function l(t,n,i,r){return r||(r=e),function(){return r[i||"push"]([t,n,arguments]),c}}function u(t,n){return function(r,o){return o&&z(o)&&(o.$$moduleName=i),e.push([t,n,arguments]),c}}}))}}))}(e),f("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Pi}),e.provider("$compile",tn).directive({a:vr,input:Br,textarea:Br,form:Cr,script:Oo,select:Uo,style:Wo,option:Bo,ngBind:Hr,ngBindHtml:Gr,ngBindTemplate:qr,ngClass:Xr,ngClassEven:Jr,ngClassOdd:Kr,ngCloak:Qr,ngController:eo,ngForm:kr,ngHide:Mo,ngIf:io,ngInclude:ro,ngInit:ao,ngNonBindable:Co,ngPluralize:$o,ngRepeat:xo,ngShow:Po,ngStyle:Do,ngSwitch:Io,ngSwitchWhen:Lo,ngSwitchDefault:No,ngOptions:Eo,ngTransclude:Ro,ngModel:yo,ngList:so,ngChange:Zr,pattern:Ho,ngPattern:Ho,required:zo,ngRequired:zo,minlength:Go,ngMinlength:Go,maxlength:qo,ngMaxlength:qo,ngValue:zr,ngModelOptions:_o}).directive({ngInclude:oo}).directive(yr).directive(to),e.provider({$anchorScroll:jt,$animate:qt,$animateCss:Yt,$$animateJs:zt,$$animateQueue:Ht,$$AnimateRunner:Zt,$$animateAsyncRun:Gt,$browser:Kt,$cacheFactory:Jt,$controller:ln,$document:un,$exceptionHandler:dn,$filter:Zi,$$forceReflow:fn,$interpolate:Mn,$interval:Dn,$http:xn,$httpParamSerializer:Sn,$httpParamSerializerJQLike:wn,$httpBackend:An,$xhrFactory:Tn,$location:Yn,$log:Xn,$parse:Fi,$rootScope:Ai,$q:Ei,$$q:$i,$sce:Ni,$sceDelegate:Li,$sniffer:Ri,$templateCache:Qt,$templateRequest:Oi,$$testability:ji,$timeout:Vi,$window:Hi,$$rAF:Ti,$$jqLite:Tt,$$HashMap:Mt,$$cookieReader:Gi})}])}(b),b.module("ngLocale",[],["$provide",function(e){var t="one",i="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\xa4",negSuf:"",posPre:"\xa4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,r){var o=0|e,a=function(e,t){var i=t;n===i&&(i=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3));var r=Math.pow(10,i);return{v:i,f:(e*r|0)%r}}(e,r);return 1==o&&0==a.v?t:i}})}]),u(t).ready((function(){Fe(t,Ee)})))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},184:function(e,t){var n=0;e.exports={navigateDropdown:function(e,t,i){"ArrowDown"!==e.key&&"ArrowUp"!==e.key||e.preventDefault();var r=i.children;"ArrowDown"===e.key?n=n<r.length-1?n+1:0:"ArrowUp"===e.key&&(n=0===n?r.length-1:n-1);r[n].focus()}}},19:function(e,t,n){n(183),e.exports=angular},197:function(e,t,n){e.exports=function(){function e(e){if(this.data={},this.size=0,"string"===typeof e)for(var t=0;t<e.length;t+=1){var n=e.charCodeAt(t);if(55296===(63488&n)&&t<e.length){var i=e.charCodeAt(t+1);56320===(64512&i)?this.add(((1023&n)<<10)+(1023&i)+65536):this.add(n),t+=1}else this.add(n)}else if("number"===typeof e)this.add(e);else if(Array.isArray(e))for(e=this.expandRange(e),t=0;t<e.length;t+=1)this.add(e[t])}return e.Range,e.prototype.getSize=function(){return this.size},e.prototype.expandRange=function(e){for(var t=[],n=0;n<e.length;n+=1)if(Array.isArray(e[n]))for(var i=e[n][0];i<e[n][1]+1;i+=1)t.push(i);else t.push(e[n]);return t},e.prototype.compressRange=function(e){for(var t=[],n=0;n<e.length;n+=1){var i=n>0?e[n-1]:null,r=n<e.length-1?e[n+1]:null,o=e[n];(o-1===i&&null!==i||o+1===r&&null!==r)&&(o-1===i&&null!==i||o+1!==r&&null!==r)?o-1!==i&&null!==i||o+1===r&&null!==r||(o-t[t.length-1]>1?t[t.length-1]=[t[t.length-1],o]:t.push(o)):t.push(o)}return t},e.prototype.toArray=function(){var e=[];for(var t in this.data)this.data.hasOwnProperty(t)&&!0===this.data[t]&&e.push(parseInt(t,10));return e.sort((function(e,t){return e-t})),e},e.prototype.toRange=function(){return this.compressRange(this.toArray())},e.prototype.isEmpty=function(){return 0===this.size},e.prototype.add=function(e){for(var t=0;t<arguments.length;t+=1){var n=arguments[t];!0!==this.data[n]&&(this.data[n]=!0,this.size+=1)}},e.prototype.remove=function(e){for(var t=0;t<arguments.length;t+=1){var n=arguments[t];!0===this.data[n]&&(this.data[n]=!1,this.size-=1)}},e.prototype.contains=function(e){return!0===this.data[e]},e.prototype.equals=function(e){var t=this.toArray();if(this.getSize()===e.getSize()){for(var n=0;n<t.length;n+=1)if(!e.contains(t[n]))return!1;return!0}return!1},e.prototype.union=function(t){return new e(this.toArray().concat(t.toArray()))},e.prototype.intersect=function(t){for(var n=new e,i=this.toArray(),r=0;r<i.length;r+=1)t.contains(i[r])&&n.add(i[r]);return n},e.prototype.difference=function(t){for(var n=new e,i=this.toArray(),r=0;r<i.length;r+=1)t.contains(i[r])||n.add(i[r]);return n},e.prototype.subset=function(e){for(var t=this.toArray(),n=0;n<t.length;n+=1)if(!e.contains(t[n]))return!1;return!0},e.prototype.extractHighSurrogate=function(e){return Math.floor((e-65536)/1024)+55296},e.prototype.extractLowSurrogate=function(e){return(e-65536)%1024+56320},e.prototype.encodeCodePoint=function(e){return e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57?String.fromCharCode(e):e<=65535?"\\u"+(e+65536).toString(16).substr(-4).toUpperCase():this.encodeCodePoint(this.extractHighSurrogate(e))+this.encodeCodePoint(this.extractLowSurrogate(e))},e.prototype.toRegExp=function(){for(var t=this.toArray(),n=new e,i=new e,r={},o={},a=[],s=0;s<t.length;s+=1)if(t[s]>=884736&&t[s]<=56319)i.add(t[s]);else if(t[s]<=65535)n.add(t[s]);else{var c=this.extractHighSurrogate(t[s]),l=this.extractLowSurrogate(t[s]);r.hasOwnProperty(c)||(r[c]=new e),r[c].add(l)}for(var c in r){var u=r[c].toRangeString();o.hasOwnProperty(u)||(o[u]=new e),o[u].add(parseInt(c,10))}for(var d in n.isEmpty()||a.push(n.toRangeString()),o){var f=o[d];a.push(f.toRangeString()+d)}return i.isEmpty()||a.push(i.toRangeString()),a.join("|")},e.prototype.toRangeString=function(){var e=!1,t=this.toRange().map((function(t){return Array.isArray(t)?(e=!0,this.encodeCodePoint(t[0])+"-"+this.encodeCodePoint(t[1])):this.encodeCodePoint(t)}),this);return 0===t.length?"":1!==t.length||e?"["+t.join("")+"]":t[0]},e.prototype.toHexString=function(){return this.toArray().map((function(e){return"U+"+e.toString(16).toUpperCase()})).join(",")},e.prototype.toHexRangeString=function(){return this.toRange().map((function(e){return Array.isArray(e)?"U+"+e[0].toString(16).toUpperCase()+"-"+e[1].toString(16).toUpperCase():"U+"+e.toString(16).toUpperCase()})).join(",")},e.prototype.toString=function(){return this.toArray().map(this.encodeCodePoint.bind(this)).join("")},e.parseUnicodeRange=function(t){for(var n=t.split(/\s*,\s*/),i=new e,r=0;r<n.length;r++){var o=/^(u\+([0-9a-f?]{1,6})(?:-([0-9a-f]{1,6}))?)$/i.exec(n[r]),a=null,s=null;if(o)if(-1!==o[2].indexOf("?")?(a=parseInt(o[2].replace("?","0"),16),s=parseInt(o[2].replace("?","f"),16)):(a=parseInt(o[2],16),s=o[3]?parseInt(o[3],16):a),a!==s)for(var c=a;c<=s;c++)i.add(c);else i.add(a)}return i},e}()},198:function(e,t,n){var i=n(6),r=["normal","italic","oblique"],o={normal:["normal","italic","oblique"],italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"]};function a(e){if(e){var t=100*parseInt(e.slice(1));return isNaN(t)?null:t}return null}function s(e){return e?i.detect(r,(function(t){return t.slice(0,1)==e.slice(0,1)})):null}function c(e,t){return i.filter(t,(function(t){return a(t)==e}))}function l(e,t){if(!e||!t.length)return null;var n=a(e),r=s(e),c={};i.each(t,(function(e){var t=a(e),n=s(e);c[t]||(c[t]={}),c[t][n]=e}),this);for(var l=n,u=n>=500?1:-1,d=1;d<20&&!c[l];)l+=d*u*100,u*=-1,d+=1;for(var f=o[r]||[],p=0,h=f.length;p<h;p++){var m=c[l][f[p]];if(m)return m}return null}function u(e,t){var n=a(e),o=a(t);if(n&&o){if(n!=o)return n-o;var c=s(e),l=s(t);if(c&&l)return i.indexOf(r,c)-i.indexOf(r,l)}return 0}e.exports={compareFvds:u,findClosestFvd:l,findClosestToBasicFour:function(e){var t=[];return i.each(["n4","n7"],(function(n){var i=l(n,e);if(i){var r=a(i);t=t.concat(c(r,e))}})),i.uniq(t)},findFvdsWithWeight:c,getFontStyleFromFvd:s,getFontWeightFromFvd:a,sortFvds:function(e){return e.slice(0).sort(u)}}},199:function(e,t){function n(e,t){this._isDynamic=e,this._projectEmbedDetails=t}n.$inject=["isDynamic","projectEmbedDetails"],n.prototype.getIsDynamic=function(){return this._isDynamic},n.prototype.getProjectEmbedDetails=function(){return this._projectEmbedDetails},e.exports=n},203:function(e,t){function n(e,t){var n=this;n.$window=e,n.I18nService=t,n.I18nService.getLocaleInfo().then((function(e){n.locales=e.allLocales,n.selectedLocale=e.selectedLocale}))}n.$inject=["$window","I18nService"],n.prototype.handleLocaleChangeClick=function(e){this._setLocale(e)},n.prototype.handleLocaleSwitcherChange=function(){this._setLocale(this.selectedLocale)},n.prototype._setLocale=function(e){var t=this;t.I18nService.setLocale(e).then((function(){t.$window.location.reload(!0)}))},e.exports=n},204:function(e,t){e.exports=function(){var e,t,n,i=0,r=0,o=-1;return{decrementSyncUsage:function(e){r-=e},getAdobeProfileId:function(){return t},getActivityState:function(){return e},getDaysSinceSyncActivity:function(){return o},getPlan:function(){return n||"unknown"},getSyncOverageAmount:function(){return Math.max(r-i,0)},getSyncUsage:function(e){return r+(e||0)},getSyncUsagePercentage:function(e){return i>0?Math.floor((r+(e||0))/i*100):0},getSyncLimit:function(){return i},incrementSyncUsage:function(e){r+=e},isInOverage:function(e){return r+(e||0)>i},setActivityState:function(t){e=t},setAdobeProfileId:function(e){t=e},setDaysSinceSyncActivity:function(e){o=e},setPlan:function(e){n=e},setSyncLimit:function(e){i=e}}}},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i extends CustomEvent{constructor(e){super("locale-changed",{detail:{locale:e},bubbles:!0,composed:!0})}}i.EVENT_NAME="locale-changed"},212:function(e,t,n){r.$inject=["$window"];var i=n(197);function r(e){e.Typekit&&(e.Typekit.user="tk",e.Typekit.token="UWiewzNGqfaXgl50sfTX597VqiNVO+VsJvzyIM5SabTjZinSwqaidRKypEX3LMfHdBUibNmD+PCRx/5yCXr4NA==");var t={};return{updateFonts:function(e){var n=new i(e).toArray().map((function(e){return"U+"+e.toString(16)})).join(",");Object.keys(t).forEach((function(e){t[e].update(n).catch((function(){}))}))},loadFont:function(n,i,r){if(e.Typekit){if(t[n])return t[n].load();var o=t[n]=new e.Typekit.Font(n,i,r);return o.load().then((function(){e.Typekit.fonts.add(o)})).catch((function(){}))}}}}e.exports=r},213:function(e,t,n){n(214),e.exports="ngCookies"},214:function(e,t){!function(e,t,n){"use strict";function i(e,n,i){var r=i.baseHref(),o=e[0];return function(e,i,a){o.cookie=function(e,i,o){var a,s;s=(o=o||{}).expires,a=t.isDefined(o.path)?o.path:r,t.isUndefined(i)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",i=""),t.isString(s)&&(s=new Date(s));var c=encodeURIComponent(e)+"="+encodeURIComponent(i);c+=a?";path="+a:"",c+=o.domain?";domain="+o.domain:"",c+=s?";expires="+s.toUTCString():"";var l=(c+=o.secure?";secure":"").length+1;return l>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+l+" > 4096 bytes)!"),c}(e,i,a)}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){var e=this.defaults={};function n(n){return n?t.extend({},e,n):e}this.$get=["$$cookieReader","$$cookieWriter",function(e,i){return{get:function(t){return e()[t]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return e()},put:function(e,t,r){i(e,t,n(r))},putObject:function(e,n,i){this.put(e,t.toJson(n),i)},remove:function(e,t){i(e,undefined,n(t))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),i.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",(function(){this.$get=i}))}(window,window.angular)},215:function(e,t){function n(e,t){!function(e){var t=document.querySelector("meta[name=csrf-token]");t&&(e.defaults.headers.common["X-CSRF-Token"]=t.getAttribute("content"));e.defaults.headers.common.Accept="application/json"}(e),function(e){e.resourceUrlWhitelist(["self","http://afwebcdn*.fonts.adobe.com/**","https://afwebcdn*.fonts.adobe.com/**"])}(t)}n.$inject=["$httpProvider","$sceDelegateProvider"],e.exports=n},216:function(e,t){i.$inject=["$rootElement","$window","DataService","FirstMileService","FreezeframeService","NewrelicService","OmnitureService","PostLoginActionProcessorService","SuspendedAccountService","UrlService"];var n=["Android","BlackBerry","IEMobile","Opera Mini","iPad","iPhone","iPod","webOS"];function i(e,t,i,r,o,a,s,c,l,u){i.loadDataFromTemplate(e),r.handlePageLoad(),o.init(),a.init(),s.init(),c.handlePageLoad(),l.handlePageLoad(),("ontouchstart"in t||t.DocumentTouch&&t.document instanceof t.DocumentTouch||new RegExp(n.join("|"),"i").test(t.navigator.userAgent))&&e.addClass("touch-device"),u.removeSearchParam("code")}e.exports=i},217:function(e,t,n){r.$inject=["$window","BifrostWamService","DataService","FirstMileService","NewrelicService","NotificationService","UserPrefsService"];var i=n(6);function r(e,t,n,i,r,o,a){this.BifrostWamService=t,this.DataService=n,this.FirstMileService=i,this.NewrelicService=r,this.NotificationService=o,this.UserPrefsService=a,this.$window=e,this._preloadData()}e.exports=r,r.prototype.hasMessages=function(){return this.NotificationService.getMessages().length>0},r.prototype.handleNeutralTopNotificationClose=function(e){"standalone_subscription"===e.scriptIdentifier&&this.UserPrefsService.updatePrefs({hideStandaloneSubscriptionNotification:!0}),this.NotificationService.remove(e)},r.prototype.handleFeedbackClose=function(e){var t={};this.NotificationService.remove(e),i.isEmpty(t)||this.UserPrefsService.updatePrefs(t)},r.prototype.handleOpenCCDButton=function(e){this.NewrelicService.addPageAction("typekit.click.use-model-font-activation-open-app",{source:"Success Toast"}),this.FirstMileService.openCreativeCloudDesktop(e)},r.prototype.latestNotices=function(){return this.NotificationService.getMessages(this.NotificationService.TYPES.NOTICE)},r.prototype.latestErrors=function(){return this.NotificationService.getMessages(this.NotificationService.TYPES.ERROR)},r.prototype.handleActionClick=function(e){"open ccd"===e.actionLink?this.handleOpenCCDButton(e.queryParams):this.$window.location=e.actionLink},r.prototype.handleCloseClick=function(e){this.NotificationService.remove(e)},r.prototype.getMessages=function(){return this.NotificationService.getMessages()},r.prototype.getToastClass=function(e){return"neutral"===e.type?"spectrum-Toast--neutral":"font_game_banner"===e.type?"font-game-toast":"site_maintenance_banner"===e.type?"site-maintenance-toast":void 0},r.prototype._preloadData=function(){var e=this;e.DataService.get("/notification/error").then((function(t){i.isString(t)&&(t={message:t}),e.NotificationService.error(t.message,t.options)})),e.DataService.get("/notification/notice").then((function(t){i.isString(t)&&(t={message:t}),e.NotificationService.notice(t.message,t.options)})),e.DataService.get("/notification/info").then((function(t){i.isString(t)&&(t={message:t}),e.NotificationService.notice(t.message,t.options)})),e.DataService.get("/notification/success").then((function(t){i.isString(t)&&(t={message:t}),e.NotificationService.success(t.message,t.options)})),e.DataService.get("/notification/warn").then((function(t){i.isString(t)&&(t={message:t}),e.NotificationService.warn(t.message,t.options)})),e.DataService.get("/notification/first_mile").then((function(t){return"activate"===t?e.FirstMileService.showFontActivationDialog():"um_activate"==t?e.FirstMileService.showUseModelFontActivationDialog():void 0})),e.DataService.get("/notification/font_game_banner").then((function(t){i.isString(t)&&(t={message:t}),e.NotificationService.font_game_banner(t.message,t.options)})),e.DataService.get("/notification/site_maintenance_banner").then((function(t){i.isString(t)&&(t={message:t}),e.NotificationService.site_maintenance_banner(t.message,t.options)})),e.DataService.get("/notification/standalone_subscription").then((function(t){i.isString(t)&&(t={message:t}),e.NotificationService.neutral(t.message,t.options)}))}},218:function(e,t,n){var i=n(219),r="unknown";document.documentMode&&(r="ie"),e.exports={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(e){if(e.clientWidth&&e.clientHeight)return{width:e.clientWidth,height:e.clientHeight};if(e.getBoundingClientRect())return e.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(e,t){var n=null;if(!(n=i.isElement(t)?t:e.querySelector(t))){var r=Array.prototype.slice.call(e.childNodes||e.children).filter((function(e){return"defs"!==e.nodeName&&"#text"!==e.nodeName}));1===r.length&&"g"===r[0].nodeName&&null===r[0].getAttribute("transform")&&(n=r[0])}if(!n){var o="viewport-"+(new Date).toISOString().replace(/\D/g,"");(n=document.createElementNS(this.svgNS,"g")).setAttribute("id",o);var a=e.childNodes||e.children;if(a&&a.length>0)for(var s=a.length;s>0;s--)"defs"!==a[a.length-s].nodeName&&n.appendChild(a[a.length-s]);e.appendChild(n)}var c=[];return n.getAttribute("class")&&(c=n.getAttribute("class").split(" ")),~c.indexOf("svg-pan-zoom_viewport")||(c.push("svg-pan-zoom_viewport"),n.setAttribute("class",c.join(" "))),n},setupSvgAttributes:function(e){if(e.setAttribute("xmlns",this.svgNS),e.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),e.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),null!==e.parentNode){var t=e.getAttribute("style")||"";-1===t.toLowerCase().indexOf("overflow")&&e.setAttribute("style","overflow: hidden; "+t)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:i.throttle((function(){for(var e=document.querySelectorAll("defs"),t=e.length,n=0;n<t;n++){var i=e[n];i.parentNode.insertBefore(i,i)}}),this?this.internetExplorerRedisplayInterval:null),setCTM:function(e,t,n){var i=this,o="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttributeNS(null,"transform",o),"transform"in e.style?e.style.transform=o:"-ms-transform"in e.style?e.style["-ms-transform"]=o:"-webkit-transform"in e.style&&(e.style["-webkit-transform"]=o),"ie"===r&&n&&(n.parentNode.insertBefore(n,n),window.setTimeout((function(){i.refreshDefsGlobal()}),i.internetExplorerRedisplayInterval))},getEventPoint:function(e,t){var n=t.createSVGPoint();return i.mouseAndTouchNormalize(e,t),n.x=e.clientX,n.y=e.clientY,n},getSvgCenterPoint:function(e,t,n){return this.createSVGPoint(e,t/2,n/2)},createSVGPoint:function(e,t,n){var i=e.createSVGPoint();return i.x=t,i.y=n,i}}},219:function(e,t){function n(e){return function(t){window.setTimeout(t,e)}}e.exports={extend:function(e,t){for(var n in e=e||{},t)this.isObject(t[n])?e[n]=this.extend(e[n],t[n]):e[n]=t[n];return e},isElement:function(e){return e instanceof HTMLElement||e instanceof SVGElement||e instanceof SVGSVGElement||e&&"object"===typeof e&&null!==e&&1===e.nodeType&&"string"===typeof e.nodeName},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},getSvg:function(e){var t,n;if(this.isElement(e))t=e;else{if(!("string"===typeof e||e instanceof String))throw new Error("Provided selector is not an HTML object nor String");if(!(t=document.querySelector(e)))throw new Error("Provided selector did not find any elements. Selector: "+e)}if("svg"===t.tagName.toLowerCase())n=t;else if("object"===t.tagName.toLowerCase())n=t.contentDocument.documentElement;else{if("embed"!==t.tagName.toLowerCase())throw"img"===t.tagName.toLowerCase()?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");n=t.getSVGDocument().documentElement}return n},proxy:function(e,t){return function(){return e.apply(t,arguments)}},getType:function(e){return Object.prototype.toString.apply(e).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(e,t){if(void 0===e.clientX||null===e.clientX)if(e.clientX=0,e.clientY=0,void 0!==e.touches&&e.touches.length){if(void 0!==e.touches[0].clientX)e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY;else if(void 0!==e.touches[0].pageX){var n=t.getBoundingClientRect();e.clientX=e.touches[0].pageX-n.left,e.clientY=e.touches[0].pageY-n.top}}else void 0!==e.originalEvent&&void 0!==e.originalEvent.clientX&&(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)},isDblClick:function(e,t){if(2===e.detail)return!0;if(void 0!==t&&null!==t){var n=e.timeStamp-t.timeStamp,i=Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2));return n<250&&i<10}return!1},now:Date.now||function(){return(new Date).getTime()},throttle:function(e,t,n){var i,r,o,a=this,s=null,c=0;n||(n={});var l=function(){c=!1===n.leading?0:a.now(),s=null,o=e.apply(i,r),s||(i=r=null)};return function(){var u=a.now();c||!1!==n.leading||(c=u);var d=t-(u-c);return i=this,r=arguments,d<=0||d>t?(clearTimeout(s),s=null,c=u,o=e.apply(i,r),s||(i=r=null)):s||!1===n.trailing||(s=setTimeout(l,d)),o}},createRequestAnimationFrame:function(e){var t=null;return"auto"!==e&&e<60&&e>1&&(t=Math.floor(1e3/e)),null===t?window.requestAnimationFrame||n(33):n(t)}}},22:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}e.exports=n},220:function(e,t,n){c.$inject=["$window","$httpParamSerializer"];var i=n(289),r=i.CCWamclient,o=i.processMessage,a=i.isCCDPresent,s=n(59);function c(e,t){return this.isCCDPresent=!1,{init:function(){var t=this;if(!s.isSignedInUser())return;var n=s.getUserProfile(),i=s.getAccessToken(),c=e.adobeid.client_id,l=e.adobeid.environment;"stg1"==l&&(l="stage");if(!n||!i||!c||!l)return;var u=function(){t.isCCDPresent||a({env:l}).then((function(e){t.isCCDPresent=e}))},d={env:l,clientId:c,userContext:{accessToken:i,email:n.email,displayName:n.displayName},callbacks:{onSuccessCallback:function(){u()},onFailureCallback:function(e){var t;100===(null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.code)&&console.error("Connection with WAM could not be established",e),u()},onMessageCallback:function(e){u(),o(e)}}};r.initialize(d)},openCreativeCloudDesktop:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isCCDPresent)return e(!1,!1);var o=i&&t(i),a="/fonts/added/"+(o?"recent?"+o:"all"),s="routeToPath",c={workflow:s,routePath:a};return r.executeWorkflow(c).then((function(t){return t.status&&console.log("Route to path executed successfully"),e(t.status,n.isCCDPresent)})).catch((function(){return e(!1,n.isCCDPresent)}))}}}e.exports=c},221:function(e,t,n){var i=n(143),r=n(92)("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||"undefined"!==typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(r("protocol-less url %s",e),e="undefined"!==typeof t?t.protocol+"//"+e:"https://"+e),r("parse %s",e),n=i(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}},222:function(e,t,n){function i(e){var n;function i(){if(i.enabled){var e=i,r=+new Date,o=r-(n||r);e.diff=o,e.prev=n,e.curr=r,n=r;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,i){if("%%"===n)return n;c++;var r=t.formatters[i];if("function"===typeof r){var o=a[c];n=r.call(e,o),a.splice(c,1),c--}return n})),t.formatArgs.call(e,a);var l=i.log||t.log||console.log.bind(console);l.apply(e,a)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),i.destroy=r,"function"===typeof t.init&&t.init(i),t.instances.push(i),i}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var i=("string"===typeof e?e:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(223),t.instances=[],t.names=[],t.skips=[],t.formatters={}},223:function(e,t){var n=1e3,i=60*n,r=60*i,o=24*r,a=365.25*o;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?s(c=e,o,"day")||s(c,r,"hour")||s(c,i,"minute")||s(c,n,"second")||c+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=i)return Math.round(e/i)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},224:function(e,t,n){(function(i){function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof i&&"env"in i&&(e=i.env.DEBUG),e}(t=e.exports=n(225)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),e.splice(o,0,i)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())}).call(this,n(32))},225:function(e,t,n){function i(e){var n;function i(){if(i.enabled){var e=i,r=+new Date,o=r-(n||r);e.diff=o,e.prev=n,e.curr=r,n=r;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,i){if("%%"===n)return n;c++;var r=t.formatters[i];if("function"===typeof r){var o=a[c];n=r.call(e,o),a.splice(c,1),c--}return n})),t.formatArgs.call(e,a);var l=i.log||t.log||console.log.bind(console);l.apply(e,a)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),i.destroy=r,"function"===typeof t.init&&t.init(i),t.instances.push(i),i}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var i=("string"===typeof e?e:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(226),t.instances=[],t.names=[],t.skips=[],t.formatters={}},226:function(e,t){var n=1e3,i=60*n,r=60*i,o=24*r,a=365.25*o;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?s(c=e,o,"day")||s(c,r,"hour")||s(c,i,"minute")||s(c,n,"second")||c+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=i)return Math.round(e/i)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},227:function(e,t,n){var i=n(144),r=n(145),o=Object.prototype.toString,a="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===o.call(Blob),s="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===o.call(File);function c(e,t){if(!e)return e;if(r(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(i(e)){for(var o=new Array(e.length),a=0;a<e.length;a++)o[a]=c(e[a],t);return o}if("object"===typeof e&&!(e instanceof Date)){o={};for(var s in e)o[s]=c(e[s],t);return o}return e}function l(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(i(e))for(var n=0;n<e.length;n++)e[n]=l(e[n],t);else if("object"===typeof e)for(var r in e)e[r]=l(e[r],t);return e}t.deconstructPacket=function(e){var t=[],n=e.data,i=e;return i.data=c(n,t),i.attachments=t.length,{packet:i,buffers:t}},t.reconstructPacket=function(e,t){return e.data=l(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,o=e;!function e(c,l,u){if(!c)return c;if(a&&c instanceof Blob||s&&c instanceof File){n++;var d=new FileReader;d.onload=function(){u?u[l]=this.result:o=this.result,--n||t(o)},d.readAsArrayBuffer(c)}else if(i(c))for(var f=0;f<c.length;f++)e(c[f],f,c);else if("object"===typeof c&&!r(c))for(var p in c)e(c[p],p,c)}(o),n||t(o)}},228:function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,i=l(e),a=i[0],s=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=16383,s=0,c=n-r;s<c;s+=a)o.push(u(e,s,s+a>c?c:s+a));1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,o,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},229:function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?r-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=l}return(p?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,c,l=8*o-r-1,u=(1<<l)-1,d=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,h=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*c-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[n+p]=255&s,p+=h,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;e[n+p]=255&a,p+=h,a/=256,l-=8);e[n+p-h]|=128*m}},230:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},231:function(e,t,n){e.exports=n(232),e.exports.parser=n(67)},232:function(e,t,n){var i=n(147),r=n(66),o=n(95)("engine.io-client:socket"),a=n(151),s=n(67),c=n(143),l=n(93);function u(e,t){if(!(this instanceof u))return new u(e,t);t=t||{},e&&"object"===typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"===typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||void 0,this.key=t.key||void 0,this.passphrase=t.passphrase||void 0,this.cert=t.cert||void 0,this.ca=t.ca||void 0,this.ciphers=t.ciphers||void 0,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"===typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=u,u.priorWebsocketSuccess=!1,r(u.prototype),u.protocol=s.protocol,u.Socket=u,u.Transport=n(118),u.transports=n(147),u.parser=n(67),u.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new i[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},u.prototype.open=function(){var e;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},u.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},u.prototype.probe=function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,i=this;function r(){if(i.onlyBinaryUpgrades){var r=!this.supportsBinary&&i.transport.supportsBinary;n=n||r}n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(r){if(!n)if("pong"===r.type&&"probe"===r.data){if(o('probe transport "%s" pong',e),i.upgrading=!0,i.emit("upgrading",t),!t)return;u.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',i.transport.name),i.transport.pause((function(){n||"closed"!==i.readyState&&(o("changing transport and sending upgrade packet"),f(),i.setTransport(t),t.send([{type:"upgrade"}]),i.emit("upgrade",t),t=null,i.upgrading=!1,i.flush())}))}else{o('probe transport "%s" failed',e);var a=new Error("probe error");a.transport=t.name,i.emit("upgradeError",a)}})))}function a(){n||(n=!0,f(),t.close(),t=null)}function s(n){var r=new Error("probe error: "+n);r.transport=t.name,a(),o('probe transport "%s" failed because of error: %s',e,n),i.emit("upgradeError",r)}function c(){s("transport closed")}function l(){s("socket closed")}function d(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),a())}function f(){t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",c),i.removeListener("close",l),i.removeListener("upgrading",d)}u.priorWebsocketSuccess=!1,t.once("open",r),t.once("error",s),t.once("close",c),this.once("close",l),this.once("upgrading",d),t.open()},u.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},u.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},u.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},u.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},u.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},u.prototype.sendPacket=function(e,t,n,i){if("function"===typeof t&&(i=t,t=void 0),"function"===typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:e,data:t,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}},u.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?i():t()})):this.upgrading?i():t()}function t(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function i(){e.once("upgrade",n),e.once("upgradeError",n)}return this},u.prototype.onError=function(e){o("socket error %j",e),u.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},u.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},u.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~a(this.transports,e[n])&&t.push(e[n]);return t}},233:function(e,t){try{e.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},234:function(e,t,n){var i=n(116),r=n(148),o=n(66),a=n(94),s=n(95)("engine.io-client:polling-xhr"),c=n(117);function l(){}function u(e){if(r.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!==typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function d(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=u,e.exports.Request=d,a(u,r),u.prototype.supportsBinary=!0,u.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new d(e)},u.prototype.doWrite=function(e,t){var n="string"!==typeof e&&void 0!==e,i=this.request({method:"POST",data:e,isBinary:n}),r=this;i.on("success",t),i.on("error",(function(e){r.onError("xhr post error",e)})),this.sendXhr=i},u.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},o(d.prototype),d.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new i(e),n=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}catch(o){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{t.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(o){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"===typeof t.status?t.status:0)}),0))},s("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout((function(){n.onError(o)}),0)}"undefined"!==typeof document&&(this.index=d.requestsCount++,d.requests[this.index]=this)},d.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},d.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},d.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},d.prototype.cleanup=function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=l:this.xhr.onreadystatechange=l,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete d.requests[this.index],this.xhr=null}},d.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},d.prototype.hasXDR=function(){return"undefined"!==typeof XDomainRequest&&!this.xs&&this.enablesXDR},d.prototype.abort=function(){this.cleanup()},d.requestsCount=0,d.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",f);else if("function"===typeof addEventListener){addEventListener("onpagehide"in c?"pagehide":"unload",f,!1)}function f(){for(var e in d.requests)d.requests.hasOwnProperty(e)&&d.requests[e].abort()}},235:function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t}},236:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},237:function(e,t){e.exports=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),n>i&&(n=i),t>=i||t>=n||0===i)return new ArrayBuffer(0);for(var r=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=r[a];return o.buffer}},238:function(e,t){function n(){}e.exports=function(e,t,i){var r=!1;return i=i||n,o.count=e,0===e?t():o;function o(e,n){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(r=!0,t(e),t=i):0!==o.count||r||t(null,n)}}},239:function(e,t){var n,i,r,o=String.fromCharCode;function a(e){for(var t,n,i=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(e,t){return o(e>>t&63|128)}function l(e,t){if(0==(4294967168&e))return o(e);var n="";return 0==(4294965248&e)?n=o(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),n=o(e>>12&15|224),n+=c(e,6)):0==(4292870144&e)&&(n=o(e>>18&7|240),n+=c(e,12),n+=c(e,6)),n+=o(63&e|128)}function u(){if(r>=i)throw Error("Invalid byte index");var e=255&n[r];if(r++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(e){var t,o;if(r>i)throw Error("Invalid byte index");if(r==i)return!1;if(t=255&n[r],r++,0==(128&t))return t;if(192==(224&t)){if((o=(31&t)<<6|u())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if((o=(15&t)<<12|u()<<6|u())>=2048)return s(o,e)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(o=(7&t)<<18|u()<<12|u()<<6|u())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,i=a(e),r=i.length,o=-1,s="";++o<r;)s+=l(i[o],n);return s},decode:function(e,t){var s=!1!==(t=t||{}).strict;n=a(e),i=n.length,r=0;for(var c,l=[];!1!==(c=d(s));)l.push(c);return function(e){for(var t,n=e.length,i=-1,r="";++i<n;)(t=e[i])>65535&&(r+=o((t-=65536)>>>10&1023|55296),t=56320|1023&t),r+=o(t);return r}(l)}}},240:function(e,t){!function(e){"use strict";t.encode=function(t){var n,i=new Uint8Array(t),r=i.length,o="";for(n=0;n<r;n+=3)o+=e[i[n]>>2],o+=e[(3&i[n])<<4|i[n+1]>>4],o+=e[(15&i[n+1])<<2|i[n+2]>>6],o+=e[63&i[n+2]];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(t){var n,i,r,o,a,s=.75*t.length,c=t.length,l=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),d=new Uint8Array(u);for(n=0;n<c;n+=4)i=e.indexOf(t[n]),r=e.indexOf(t[n+1]),o=e.indexOf(t[n+2]),a=e.indexOf(t[n+3]),d[l++]=i<<2|r>>4,d[l++]=(15&r)<<4|o>>2,d[l++]=(3&o)<<6|63&a;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},241:function(e,t){var n="undefined"!==typeof n?n:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder&&MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),r=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function a(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function s(e,t){t=t||{};var i=new n;return a(e).forEach((function(e){i.append(e)})),t.type?i.getBlob(t.type):i.getBlob()}function c(e,t){return new Blob(a(e),t||{})}"undefined"!==typeof Blob&&(s.prototype=Blob.prototype,c.prototype=Blob.prototype),e.exports=i?r?Blob:c:o?s:void 0},242:function(e,t,n){function i(e){var n;function i(){if(i.enabled){var e=i,r=+new Date,o=r-(n||r);e.diff=o,e.prev=n,e.curr=r,n=r;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,i){if("%%"===n)return n;c++;var r=t.formatters[i];if("function"===typeof r){var o=a[c];n=r.call(e,o),a.splice(c,1),c--}return n})),t.formatArgs.call(e,a);var l=i.log||t.log||console.log.bind(console);l.apply(e,a)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),i.destroy=r,"function"===typeof t.init&&t.init(i),t.instances.push(i),i}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var i=("string"===typeof e?e:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(243),t.instances=[],t.names=[],t.skips=[],t.formatters={}},243:function(e,t){var n=1e3,i=60*n,r=60*i,o=24*r,a=365.25*o;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?s(c=e,o,"day")||s(c,r,"hour")||s(c,i,"minute")||s(c,n,"second")||c+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=i)return Math.round(e/i)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},244:function(e,t,n){var i=n(148),r=n(94),o=n(117);e.exports=u;var a,s=/\n/g,c=/\\n/g;function l(){}function u(e){i.call(this,e),this.query=this.query||{},a||(a=o.___eio=o.___eio||[]),this.index=a.length;var t=this;a.push((function(e){t.onData(e)})),this.query.j=this.index,"function"===typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=l)}),!1)}r(u,i),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},u.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},u.prototype.doWrite=function(e,t){var n=this;if(!this.form){var i,r=document.createElement("form"),o=document.createElement("textarea"),a=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=a,r.method="POST",r.setAttribute("accept-charset","utf-8"),o.name="d",r.appendChild(o),document.body.appendChild(r),this.form=r,this.area=o}function l(){u(),t()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';i=document.createElement(e)}catch(t){(i=document.createElement("iframe")).name=n.iframeId,i.src="javascript:0"}i.id=n.iframeId,n.form.appendChild(i),n.iframe=i}this.form.action=this.uri(),u(),e=e.replace(c,"\\\n"),this.area.value=e.replace(s,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}},245:function(e,t,n){(function(t){var i,r,o=n(118),a=n(67),s=n(93),c=n(94),l=n(150),u=n(95)("engine.io-client:websocket");if("undefined"!==typeof WebSocket?i=WebSocket:"undefined"!==typeof self&&(i=self.WebSocket||self.MozWebSocket),"undefined"===typeof window)try{r=n(246)}catch(p){}var d=i||r;function f(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=i&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=r),o.call(this,e)}e.exports=f,c(f,o),f.prototype.name="websocket",f.prototype.supportsBinary=!0,f.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={};this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,n)}catch(i){return this.emit("error",i)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},f.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},f.prototype.write=function(e){var n=this;this.writable=!1;for(var i=e.length,r=0,o=i;r<o;r++)!function(e){a.encodePacket(e,n.supportsBinary,(function(r){if(!n.usingBrowserWebSocket){var o={};if(e.options&&(o.compress=e.options.compress),n.perMessageDeflate)("string"===typeof r?t.byteLength(r):r.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(r):n.ws.send(r,o)}catch(p){u("websocket closed before onclose event")}--i||s()}))}(e[r]);function s(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}},f.prototype.onClose=function(){o.prototype.onClose.call(this)},f.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()},f.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},f.prototype.check=function(){return!!d&&!("__initialize"in d&&this.name===f.prototype.name)}}).call(this,n(115).Buffer)},246:function(e,t){},247:function(e,t){e.exports=function(e,t){for(var n=[],i=(t=t||0)||0;i<e.length;i++)n[i-t]=e[i];return n}},248:function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},249:function(e,t,n){r.$inject=["$compile","$document","$q","$rootScope","$templateRequest","$timeout","$window","DataService"];var i=n(19);function r(e,t,n,r,o,a,s,c){var l,u,d,f="tk-dialog-open",p="tk-dialog-content",h='<div class="tk-dialog"><div class="tk-dialog-scrim"></div></div>',m=t.find("body"),g=document.querySelectorAll(".af-focus-trappable");return{close:v,show:function(t,g){g=g||{},l&&v();return w(),n((function(n){o(t).then((function(t){n(function(t,n){c.loadDataFromTemplate(i.element(t)),u=e(t)(function(){var e=r.$new();return e.close=v,e}()).addClass(p),l=function(e,t){return i.element(h).addClass(t.extraWrapperClass).append(e)}(u,n),d=u.scope(),m.append(l).addClass(f),n.closeOnDrag&&i.element(s).on("dragenter",_);n.skipBodyListeners||a((function(){m.on("click",y),m.on("keyup",b)}),0);n.closeDisabled&&(this.closeDisabled=!0);return u.controller()||u.scope()}(t,g))}))}))},trapFocus:w,releaseFocus:C};function v(){C(),l&&!this.closeDisabled&&(d.$destroy(),l.remove(),m.removeClass(f),m.off("click",y),m.off("keyup",b))}function y(e){S(e.target)||v()}function b(e){27!=e.keyCode||S(e.target)||v()}function _(e){S(e.target)||v()}function S(e){return e==u[0]||!!e.parentNode&&S(e.parentNode)}function w(){g&&g.forEach((function(e){e.inert=!0}))}function C(){g&&g.forEach((function(e){e.inert=!1}))}}e.exports=r},250:function(e,t){r.$inject=["$cookies","$q","BifrostWamService","DialogService","I18nService","ImsEventsService","NewrelicService","NotificationService","UserPrefsService"];var n="adobe-fonts-saw-korean-browse-fonts-dialog",i="ko_KR";function r(e,t,r,o,a,s,c,l,u){return{handlePageLoad:function(){var t=this;a.getLocaleInfo().then((function(r){(function(t){if(e.get(n))return!1;return t===i})(r.selectedLocale)&&t.showKoreanBrowseFontsDialog()})),s.addOnReadyHandler((function(){r.init()}))},shouldShowFontActivationDialog:function(){return u.getUserPrefs().then((function(e){return!e.hideFontActivationModal}))},shouldShowUseModelFontActivationDialog:d,shouldShowTypekitOnboardDialog:f,showExpiredFontsDialog:function(){o.show("/angular_templates/dialogs/expired_fonts_first_mile.html").then((function(e){e.close=function(){u.updatePrefs({hideExpiredFontsModal:!0}),o.close()}}))},showFontActivationDialog:function(){o.show("/angular_templates/dialogs/font_activation_first_mile.html").then((function(e){e.handleOKButton=function(){e.optOutOfModal&&u.updatePrefs({hideFontActivationModal:!0}),o.close()}}))},showTypekitOnboardDialogIfNecessary:function(){return t((function(e){f().then((function(t){t?o.show("/angular_templates/dialogs/typekit_onboard_modal.html").then((function(t){t.handleOKButton=function(){u.updatePrefs({hideTypekitOnboardModal:!0}),o.close(),e()}})):e()}))}))},showKoreanBrowseFontsDialog:function(){o.show("/angular_templates/dialogs/korean_browse_fonts_modal.html").then((function(t){t.handleOKButton=function(){t.optOutOfModal&&e.put(n,!0,{expires:new Date((new Date).setFullYear((new Date).getFullYear()+1))}),o.close()}}))},showUseModelFontActivationDialog:h,showCcdLaunchFailureDialog:g,shouldShowRemoveFamilyConfirmationDialog:function(){return u.getUserPrefs().then((function(e){return!e.hideRemoveFamilyConfirmationModal}))},showRemoveFamilyConfirmationDialog:function(e,t,n){o.show("/angular_templates/dialogs/remove_family_confirmation.html").then((function(i){i.heading=e,i.description=t,i.handleCancelButton=function(){c.addPageAction("typekit.click.remove-family-dialog-cancel"),i.optOutOfModal&&u.updatePrefs({hideRemoveFamilyConfirmationModal:!0}),o.close()},i.handleRemoveButton=function(){i.optOutOfModal&&u.updatePrefs({hideRemoveFamilyConfirmationModal:!0}),o.close(),n()}}))},showCcdInstallDialog:function(){c.addPageAction("typekit.click.use-model-cc-install-modal"),o.show("/angular_templates/dialogs/ccd_install_modal.html").then((function(e){e.handleCancelButton=function(){e.close()}}))},onUseModelFontActivation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=p(e,t);return d().then((function(e){e?h(n,t.queryParams):n()}))},onUseModelFontActivationSuccess:p,openCreativeCloudDesktop:m};function d(){return u.getUserPrefs().then((function(e){return!e.hideUseModelFontActivationModal}))}function f(){return u.getUserPrefs().then((function(e){return!e.hideTypekitOnboardModal}))}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.namespace,i=void 0===n?"neue.browse.family_card":n,r=t.queryParams;return function(){var t={actionLink:"open ccd",actionLabel:e[i].open_app,queryParams:r,timeout:16e3};l.success(e[i].fonts_added_success_message,t)}}function h(e,t){o.show("/angular_templates/dialogs/font_activation_first_mile_use_model.html").then((function(n){n.close=function(){c.addPageAction("typekit.click.use-model-font-activation-close"),n.optOutOfModal&&(c.addPageAction("typekit.click.use-model-font-activation-opt-out"),u.updatePrefs({hideUseModelFontActivationModal:!0})),o.close(),e&&e()},n.handleOKButton=function(){c.addPageAction("typekit.click.use-model-font-activation-open-app",{source:"Modal Dialog"}),n.optOutOfModal&&(c.addPageAction("typekit.click.use-model-font-activation-opt-out"),u.updatePrefs({hideUseModelFontActivationModal:!0})),o.close(),m(t),e&&e()}}))}function m(e){r.openCreativeCloudDesktop((function(e,t){t&&e||g()}),e)}function g(){c.addPageAction("typekit.click.use-model-font-activation-open-app-failure"),l.removeAll(),o.show("/angular_templates/dialogs/ccd_launch_failure_modal.html").then((function(e){e.handleOkButtonClick=function(){e.close()}}))}}e.exports=r},251:function(e,t,n){function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}a.$inject=["$document","$window"];var o=n(252);function a(e,t){return{init:function(){t.addEventListener&&t.addEventListener("DOMContentLoaded",(function(){new o({selector:".adobe-fonts-family-image-card--gif",warnings:!1})}))},update:n,deleteAndUpdateFeaturedFoundries:function(){var t,i;t=e[0].body.querySelector("ul.slides").children,i=e[0].body.querySelectorAll("a.foundry-badge--link"),t&&i&&(r(t),r(i)),n()}};function n(){t.requestAnimationFrame((function(){new o({selector:".adobe-fonts-family-image-card--gif",warnings:!1})}))}function r(t){e.find("canvas").remove();var n,r=i(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.firstElementChild&&o.firstElementChild.matches("div.adobe-fonts-family-image-card")){var a=o.firstElementChild.firstElementChild;if(a.firstElementChild){var s=a.firstElementChild;if(s.matches("div.ff-container")){var c=s.firstElementChild;a.prepend(c),s.remove()}}}else if(o.firstElementChild&&o.firstElementChild.matches("div.ff-container")){var l=o.firstElementChild,u=l.firstElementChild;o.prepend(u),l.remove()}}}catch(d){r.e(d)}finally{r.f()}}}e.exports=a},252:function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="examples",n(n.s=4)}([function(e,t,n){var i,r;!function(o,a){"use strict";i=[n(2)],void 0===(r=function(e){return function(e,t){var n=e.jQuery,i=e.console;function r(e,t){for(var n in t)e[n]=t[n];return e}var o=Array.prototype.slice;function a(e,t,s){if(!(this instanceof a))return new a(e,t,s);var c,l=e;"string"==typeof e&&(l=document.querySelectorAll(e)),l?(this.elements=(c=l,Array.isArray(c)?c:"object"==typeof c&&"number"==typeof c.length?o.call(c):[c]),this.options=r({},this.options),"function"==typeof t?s=t:r(this.options,t),s&&this.on("always",s),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):i.error("Bad element for imagesLoaded "+(l||e))}a.prototype=Object.create(t.prototype),a.prototype.options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&s[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var r=n[i];this.addImage(r)}if("string"==typeof this.options.background){var o=e.querySelectorAll(this.options.background);for(i=0;i<o.length;i++){var a=o[i];this.addElementBackgroundImages(a)}}}};var s={1:!0,9:!0,11:!0};function c(e){this.img=e}function l(e,t){this.url=e,this.element=t,this.img=new Image}return a.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var r=i&&i[2];r&&this.addBackground(r,e),i=n.exec(t.backgroundImage)}},a.prototype.addImage=function(e){var t=new c(e);this.images.push(t)},a.prototype.addBackground=function(e,t){var n=new l(e,t);this.images.push(n)},a.prototype.check=function(){var e=this;function t(t,n,i){setTimeout((function(){e.progress(t,n,i)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(e){e.once("progress",t),e.check()})):this.complete()},a.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&i&&i.log("progress: "+n,e,t)},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},c.prototype=Object.create(t.prototype),c.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},c.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},c.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},c.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},c.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype=Object.create(c.prototype),l.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},l.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},a.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((n=t).fn.imagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(n(this))})},a.makeJQueryPlugin(),a}(o,e)}.apply(t,i))||(e.exports=r)}("undefined"!=typeof window?window:this)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,'.ff-container{display:inline-block;position:relative}.ff-container .ff-image{z-index:0;vertical-align:top;opacity:0}.ff-container .ff-canvas{display:inline-block;position:absolute;top:0;left:0;pointer-events:none;z-index:1;vertical-align:top;opacity:0}.ff-container .ff-canvas.ff-canvas-ready{-webkit-transition:opacity 300ms;-o-transition:opacity 300ms;-moz-transition:opacity 300ms;transition:opacity 300ms;opacity:1}.ff-container.ff-active .ff-image{opacity:1}.ff-container.ff-active .ff-canvas.ff-canvas-ready{-webkit-transition:none;-o-transition:none;-moz-transition:none;transition:none;opacity:0}.ff-container.ff-active .ff-overlay{display:none}.ff-container.ff-inactive .ff-canvas.ff-canvas-ready{-webkit-transition:opacity 300ms;-o-transition:opacity 300ms;-moz-transition:opacity 300ms;transition:opacity 300ms;opacity:1}.ff-container.ff-inactive .ff-image{-webkit-transition:opacity 300ms;-o-transition:opacity 300ms;-moz-transition:opacity 300ms;transition:opacity 300ms;-webkit-transition-delay:170ms;-moz-transition-delay:170ms;-o-transition-delay:170ms;transition-delay:170ms;opacity:0}.ff-container.ff-responsive{width:100%}.ff-container.ff-responsive .ff-image,.ff-container.ff-responsive .ff-canvas{width:100%}.ff-container.ff-loading-icon:before{content:"";position:absolute;background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHdpZHRoPSc1MHB4JyBoZWlnaHQ9JzUwcHgnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIiBjbGFzcz0idWlsLXNwaW4iPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSJub25lIiBjbGFzcz0iYmsiPjwvcmVjdD48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MCA1MCkiPjxnIHRyYW5zZm9ybT0icm90YXRlKDApIHRyYW5zbGF0ZSgzNCAwKSI+PGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiNmZmZmZmYiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIwcyIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBmcm9tPSIxLjUiIHRvPSIxIiBiZWdpbj0iMHMiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGVUcmFuc2Zvcm0+PC9jaXJjbGU+PC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDQ1KSB0cmFuc2xhdGUoMzQgMCkiPjxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjZmZmZmZmIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iMC4xMnMiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgZnJvbT0iMS41IiB0bz0iMSIgYmVnaW49IjAuMTJzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPjwvY2lyY2xlPjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSg5MCkgdHJhbnNsYXRlKDM0IDApIj48Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iOCIgZmlsbD0iI2ZmZmZmZiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgZnJvbT0iMSIgdG89IjAuMSIgYmVnaW49IjAuMjVzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89IjEiIGJlZ2luPSIwLjI1cyIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZVRyYW5zZm9ybT48L2NpcmNsZT48L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMTM1KSB0cmFuc2xhdGUoMzQgMCkiPjxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjZmZmZmZmIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iMC4zN3MiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgZnJvbT0iMS41IiB0bz0iMSIgYmVnaW49IjAuMzdzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPjwvY2lyY2xlPjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgxODApIHRyYW5zbGF0ZSgzNCAwKSI+PGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiNmZmZmZmYiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIwLjVzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89IjEiIGJlZ2luPSIwLjVzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPjwvY2lyY2xlPjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgyMjUpIHRyYW5zbGF0ZSgzNCAwKSI+PGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiNmZmZmZmYiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIwLjYycyIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBmcm9tPSIxLjUiIHRvPSIxIiBiZWdpbj0iMC42MnMiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGVUcmFuc2Zvcm0+PC9jaXJjbGU+PC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDI3MCkgdHJhbnNsYXRlKDM0IDApIj48Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iOCIgZmlsbD0iI2ZmZmZmZiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgZnJvbT0iMSIgdG89IjAuMSIgYmVnaW49IjAuNzVzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89IjEiIGJlZ2luPSIwLjc1cyIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZVRyYW5zZm9ybT48L2NpcmNsZT48L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMzE1KSB0cmFuc2xhdGUoMzQgMCkiPjxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjZmZmZmZmIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iMC44N3MiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgZnJvbT0iMS41IiB0bz0iMSIgYmVnaW49IjAuODdzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPjwvY2lyY2xlPjwvZz48L2c+PC9zdmc+");background-position:center center;background-repeat:no-repeat;height:46px;width:46px;z-index:3;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);transform:translate(-50%, -50%)}.ff-container .ff-overlay{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAABeCAQAAAAA22vlAAAGFklEQVR42t2ce0yVdRjHP9zlKnfQAwoqV80bImCR90tGhJmShVOxVFJBrdSWVmvmnJlSm2ZbWwunlc4ZOf5IV7NJ84KmFpmZioiKigoKyPWct72vJ4dj0Lm8t9Nz/jt/fd73/L6/5/v8fs9z4H8VTjjhjAuu5o8LLtJ3DoEuYnvghS89pY8PnrjjgrPeH0BEd8fbEHRpaVOZqVUQ2m/cLfomGX+8pAfQ8S8gonvglx/TeEToEKbW69vnD6Annrjp9QEevnU/Q0RDmdAp2m6ffSs0DD964KrHBeSEK96EnlgtdBGN5T9kEYQPHvp7AGc8CCCq7ozQTdzdv2U4AXjrTQEueBFGorFN6DaMzZWFU/t2UIAuwhVfIkkSLIiW6lOLfULx1Y8C3PAnmjTBwmg4UTyFQLzx0MMCcieQAaQLlofp1u73B+sjB7gTRCyjBavCWF+xPs2gvQJE+DjGCFZH8+WjuQRrqwB3gm2DF+P+4Z1jJQVotIDsghcEk7H6q4I4/M02TuUHsBNejPa6c2sTemlhImSAF6Pp/M/ZkgJUNREywYtRe3B7mroKkBFetNFXP5vTXz0bLSu8ZKNr/nhDLRstO7xko39Tx0YrAi/G7e+Vt9GKwYs2uqowK0pJE6EgvKSAG7/nK2ejFYaXbPSpkgxlFKACvKSAfR8Pk18BKsELgrGpcovchaRq8IJUSJ5eIqcCVIWXFHBy/1QC5VGA6vCii7i9d+NQOQpJLeBFBTy4vMl+BWgELyng2q95hNijAA3hJQWUPTpKcbV+AWkMLylgzwdDbFOA9vCiAhovb5zQx3oF6AJeUkDVyQXWHqXoBl5SwLF9k6w5TNQVvHSY+K3lh4l6gxcV0FCxIc1gSSGpQ3hJAZWl2QTghVt3+DqFF3+AMwUE4SXt/w4HL5hatoonoZ5db546hheEq3sQ1767Q8I33yKGYOndOx68IDCE3vg4JLypnWRE2+DqgPC3K0glGn+HhC8pIpUoh3zzd24aZpJEJL4OB3+vNnMlExlEON4OJViTUFqWsJwsUulHID1wdhj4C1XZn7KA6aSTQDg+XRsEncHX3lu323k5c3medAYiXlR7OIQ9aG3bfSjobRaQzWRSiMeAv2SL9W/MjpWnrOd1csggnSH049+rIb37+crq3M/JZw7TGEcScRgsu1XUHL6+cfN3riuYzwwmkkIifSw/iNIUvt1Y/EvkWhbxEs/wJE8QTZg1ByAawp/+a9xHLGY2mYxmGAPoZe31g0bw1TUFX5LPPGmVjyCOCFsufjSAf9C0vcTzTV5lJpNJJZG+hNh26awyvNF08PiA91jEyzzLUwyWtkR/W6/7VYX/81JmIUukVT6GYcTQ275GC9Xga2rX7GQZuUxnAsnEE2l/k5cq8M0tRQd7rmKBtMrTGEQUoXK0VigObxIOnxq8jjxeMSf+/oTL1dioMPzFqllbWcocshhDErGWJn7N4evurxftbS4vMpGRJNBH7lZGheDb2vYcChHtrZj4R0mrPEz+/g9F4MvOjtpgtrdPM5T+9FKmfVd2+Gs3874gn7mP7G3Eo/tuJ123rDQ2bdvvISb+GUyy1t5qCm80HTje710WMYuptthbDeHPVTxK/KPNiV+FMQ0Z4O/Urdn1WOKPIFidARk74Vtbd/0YsPqxxB+iXlexXfBHy0d82CnxezpAO+6V6nnbzYl/rPyJX0H4hsbC4g4VvwKJXyF4o7HkSF87Kn4N4csvTNncqeL30m7swuKBl5q7q3ZQwDxeYLztFb/c8LGM/q/xuuaWogO+K3nNXPEPtL3ilxdeGvK6fr479NLTUi0kVvwPD0HDba/45QzzeN2ObV2BV1zL2dahForRYkvsKsyDjZ7TrvzdGfxe/aa9zuKWqFgtZF+YR0oZH7/w4oWO4O3txaWGd1iobC1kX5iHeUkmwy33k68vXWlvF4S6+p/Kxm0gjxyeU7YWsi/MY9TEkUYGOeSxjBXks4jZZHU6BNXZGLt5gJ1exJLMeDKZwUymk8E4RipfC8mB74EfoUSRyHBSSGUkQ4nX4yrv6u17E0AYEUQRTV8MhDjCnzbgaH+X8Q8RGKy7dFBuqQAAAABJRU5ErkJggg==");background-repeat:no-repeat;max-width:94px;max-height:94px;position:absolute;left:0%;right:0%;top:0%;bottom:0%;margin:auto;-webkit-background-size:contain;-moz-background-size:contain;background-size:contain;background-position:center;pointer-events:none;z-index:100}',""])},function(e,t,n){var i,r;"undefined"!=typeof window&&window,void 0===(r="function"==typeof(i=function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],r=0;r<n.length;r++){var o=n[r];i&&i[o]&&(this.off(e,o),delete i[o]),o.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})?i.call(t,n,t,e):i)||(e.exports=r)},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"==typeof btoa){var o=(n=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[i].concat(a).concat([o]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];null!=o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];null!=a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";n.r(t);var i,r=n(0),o=n.n(r);!function(e){e.START="start",e.STOP="stop",e.TOGGLE="toggle"}(i||(i={}));const a=e=>`\u2728Freezeframe: ${e}\u2728`,s=(e,...t)=>{console.error(a(e),...t)},c=e=>"string"==typeof e?document.querySelectorAll(e):e,l=(e,t,n)=>{const i=e instanceof Element?[e]:e;return Array.from(i).reduce(((e,t)=>{if(t instanceof HTMLImageElement)e.push(t),"gif"!==(e=>e.split(".").pop().toLowerCase().substring(0,3))(t.src)&&n.warnings&&((e,...t)=>{console.warn(a(e),...t)})("Image does not appear to be a gif",t);else{const n=t.querySelectorAll("img");n.length?e=e.concat(Array.from(n)):s("Invalid element",t)}return e}),[])},u=e=>[...new Set(e)],d=e=>{const t=window.document.createElement("div");t.innerHTML=e;const n=t.childNodes;return n.length>1?n:n[0]};var f,p,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),m=(f=["",""],p=["",""],Object.freeze(Object.defineProperties(f,{raw:{value:Object.freeze(p)}})));function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var v=function(){function e(){for(var t=this,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return g(this,e),this.tag=function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return"function"==typeof e?t.interimTag.bind(t,e):"string"==typeof e?t.transformEndResult(e):(e=e.map(t.transformString.bind(t)),t.transformEndResult(e.reduce(t.processSubstitutions.bind(t,i))))},i.length>0&&Array.isArray(i[0])&&(i=i[0]),this.transformers=i.map((function(e){return"function"==typeof e?e():e})),this.tag}return h(e,[{key:"interimTag",value:function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return this.tag(m,e.apply(void 0,[t].concat(i)))}},{key:"processSubstitutions",value:function(e,t,n){var i=this.transformSubstitution(e.shift(),t);return"".concat(t,i,n)}},{key:"transformString",value:function(e){return this.transformers.reduce((function(e,t){return t.onString?t.onString(e):e}),e)}},{key:"transformSubstitution",value:function(e,t){return this.transformers.reduce((function(e,n){return n.onSubstitution?n.onSubstitution(e,t):e}),e)}},{key:"transformEndResult",value:function(e){return this.transformers.reduce((function(e,t){return t.onEndResult?t.onEndResult(e):e}),e)}}]),e}(),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(t){if(""===e)return t.trim();if("start"===(e=e.toLowerCase())||"left"===e)return t.replace(/^\s*/,"");if("end"===e||"right"===e)return t.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}};function b(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(t){if("initial"===e){var n=t.match(/^[^\S\n]*(?=\S)/gm),i=n&&Math.min.apply(Math,b(n.map((function(e){return e.length}))));if(i){var r=new RegExp("^.{"+i+"}","gm");return t.replace(r,"")}return t}if("all"===e)return t.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}},S=function(e,t){return{onEndResult:function(n){if(null==e||null==t)throw new Error("replaceResultTransformer requires at least 2 arguments.");return n.replace(e,t)}}},w=function(e,t){return{onSubstitution:function(n,i){if(null==e||null==t)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==n?n:n.toString().replace(e,t)}}},C={separator:"",conjunction:"",serial:!1},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return{onSubstitution:function(t,n){if(Array.isArray(t)){var i=t.length,r=e.separator,o=e.conjunction,a=e.serial,s=n.match(/(\n?[^\S\n]+)$/);if(t=s?t.join(r+s[1]):t.join(r+" "),o&&i>1){var c=t.lastIndexOf(r);t=t.slice(0,c)+(a?r:"")+" "+o+t.slice(c+1)}}return t}}},F=function(e){return{onSubstitution:function(t,n){if(null==e||"string"!=typeof e)throw new Error("You need to specify a string character to split by.");return"string"==typeof t&&t.includes(e)&&(t=t.split(e)),t}}},E=function(e){return null!=e&&!Number.isNaN(e)&&"boolean"!=typeof e},$=function(){return{onSubstitution:function(e){return Array.isArray(e)?e.filter(E):E(e)?e:""}}},x=(new v(k({separator:","}),_,y),new v(k({separator:",",conjunction:"and"}),_,y),new v(k({separator:",",conjunction:"or"}),_,y),new v(F("\n"),$,k,_,y));new v(F("\n"),k,_,y,w(/&/g,"&amp;"),w(/</g,"&lt;"),w(/>/g,"&gt;"),w(/"/g,"&quot;"),w(/'/g,"&#x27;"),w(/`/g,"&#x60;")),new v(S(/(?:\n(?:\s*))+/g," "),y),new v(S(/(?:\n\s*)/g,""),y),new v(k({separator:","}),S(/(?:\s+)/g," "),y),new v(k({separator:",",conjunction:"or"}),S(/(?:\s+)/g," "),y),new v(k({separator:",",conjunction:"and"}),S(/(?:\s+)/g," "),y),new v(k,_,y),new v(k,S(/(?:\s+)/g," "),y),new v(_,y),new v(_("all"),y);const T=".freezeframe",A="ff-container",P="ff-loading-icon",M="ff-image",D="ff-canvas",I="ff-ready",L="ff-inactive",N="ff-active",R="ff-canvas-ready",O="ff-responsive",j="ff-overlay",V={selector:T,responsive:!0,trigger:"hover",overlay:!1,warnings:!0};var U,B,W,z=n(1),H=n.n(z),q=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},G=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Z=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};U=new WeakMap,B=new WeakMap,W=new WeakMap,t.default=class{constructor(e=T,t){this.items=[],this.$images=[],U.set(this,void 0),B.set(this,void 0),this._eventListeners=Object.assign({},Object.values(i).reduce(((e,t)=>(e[t]=[],e)),{})),W.set(this,[]),"string"==typeof e||e instanceof Element||e instanceof HTMLCollection||e instanceof NodeList?(this.options=Object.assign(Object.assign({},V),t),G(this,U,e)):"object"!=typeof e||t?s("Invalid Freezeframe.js configuration:",...[e,t].filter((e=>void 0!==e))):(this.options=Object.assign(Object.assign({},V),e),G(this,U,this.options.selector)),this._init(Z(this,U))}get _stylesInjected(){return!!document.querySelector("style#ff-styles")}_init(e){this._injectStylesheet(),G(this,B,"ontouchstart"in window||"onmsgesturechange"in window),this._capture(e),this._load(this.$images)}_capture(e){this.$images=((...e)=>(...t)=>e.reduceRight(((e,n)=>(...i)=>e(n(...i,...t))))())(c,l,u)(e,this.options)}_load(e){o()(e).on("progress",((e,{img:t})=>{this._setup(t)}))}_setup(e){return q(this,void 0,void 0,(function*(){const t=this._wrap(e);this.items.push(t),yield this._process(t),this._attach(t)}))}_wrap(e){const t=d(x`
    <div class="${A} ${P}">
    </div>
  `),n=d(x`
    <canvas class="${D}" width="0" height="0">
    </canvas>
  `);var i,r;return this.options.responsive&&t.classList.add(O),this.options.overlay&&t.appendChild(d(x`
    <div class="${j}">
    </div>
  `)),e.classList.add(M),t.appendChild(n),r=t,(i=e).parentNode.insertBefore(r,i),r.appendChild(i),{$container:t,$canvas:n,$image:e}}_process(e){return new Promise((t=>{const{$canvas:n,$image:i,$container:r}=e,{clientWidth:o,clientHeight:a}=i;n.setAttribute("width",o.toString()),n.setAttribute("height",a.toString()),n.getContext("2d").drawImage(i,0,0,o,a),n.classList.add(R),n.addEventListener("transitionend",(()=>{this._ready(r),t(e)}),{once:!0})}))}_ready(e){e.classList.add(I),e.classList.add(L),e.classList.remove(P)}_attach(e){const{$image:t}=e;if(!Z(this,B)&&"hover"===this.options.trigger){const n=()=>{this._toggleOn(e),this._emit(i.START,e,!0),this._emit(i.TOGGLE,e,!0)},r=()=>{this._toggleOff(e),this._emit(i.START,e,!1),this._emit(i.TOGGLE,e,!1)};this._addEventListener(t,"mouseleave",r),this._addEventListener(t,"mouseenter",n)}if(Z(this,B)||"click"===this.options.trigger){const n=()=>{this._toggle(e)};this._addEventListener(t,"click",n)}}_addEventListener(e,t,n){Z(this,W).push({$image:e,event:t,listener:n}),e.addEventListener(t,n)}_removeEventListener(e,t,n){e.removeEventListener(t,n)}_injectStylesheet(){this._stylesInjected||document.head.appendChild(d(x(`\n    <style id="ff-styles">\n      ${H.a.toString()}\n    </style>\n  `)))}_emit(e,t,n){this._eventListeners[e].forEach((e=>{e(Array.isArray(t)&&1===t.length?t[0]:t,n)}))}_toggleOn(e){const{$container:t,$image:n}=e;t.classList.contains(I)&&(n.setAttribute("src",n.src),t.classList.remove(L),t.classList.add(N))}_toggleOff(e){const{$container:t}=e;t.classList.contains(I)&&(t.classList.add(L),t.classList.remove(N))}_toggle(e){const{$container:t}=e,n=t.classList.contains(N);return n?this._toggleOff(e):this._toggleOn(e),!n}start(){return this.items.forEach((e=>{this._toggleOn(e)})),this._emit(i.START,this.items,!0),this._emit(i.TOGGLE,this.items,!0),this}stop(){return this.items.forEach((e=>{this._toggleOff(e)})),this._emit(i.STOP,this.items,!1),this._emit(i.TOGGLE,this.items,!1),this}toggle(){return this.items.forEach((e=>{const t=this._toggle(e);t?this._emit(i.START,this.items,!1):this._emit(i.STOP,this.items,!1),this._emit(i.TOGGLE,this.items,t)})),this}on(e,t){return this._eventListeners[e].push(t),this}destroy(){Z(this,W).forEach((({$image:e,event:t,listener:n})=>{this._removeEventListener(e,t,n)}))}}}]).default},253:function(e,t,n){a.$inject=["$timeout","$sce"];var i=n(6),r=n(19),o={ERROR:"error",NEUTRAL:"neutral",NOTICE:"info",SUCCESS:"success",FEEDBACK:"feedback",FONT_GAME_BANNER:"font_game_banner",SITE_MAINTENANCE_BANNER:"site_maintenance_banner",WARN:"warn"};function a(e,t){var n=new s(e,t);return n.TYPES=o,n}function s(e,t){this._messages=[],this._nextNotificationId=0,this.$timeout=e,this.$sce=t}e.exports=a,s.prototype.error=function(e,t){this.add(e,o.ERROR,t)},s.prototype.add=function(e,t,n){var o=this,a=n||{};if(!i.find(o._messages,(function(t){return o.$sce.getTrustedHtml(t.text)==e}))){var s=o._createMessage(e,t,n);if(o._messages.push(s),a.skipTimeout)return;var c=s.actionLink?5e3:4e3;o.$timeout(r.bind(o,(function(){o.remove(s)})),a.timeout||c)}},s.prototype.addFeedbackNotification=function(e,t){this.add(e,o.FEEDBACK,t)},s.prototype.getMessages=function(e){var t=this._messages.slice(0,3);return e?i.filter(t,(function(t){return t.type==e})):t},s.prototype.neutral=function(e,t){this.add(e,o.NEUTRAL,t)},s.prototype.notice=function(e,t){this.add(e,o.NOTICE,t)},s.prototype.remove=function(e){this._messages=i.reject(this._messages,(function(t){return t==e}))},s.prototype.removeAll=function(){this._messages=[]},s.prototype.removeFeedbackNotification=function(){var e=this;i.each(e.getMessages(o.FEEDBACK),(function(t){e.remove(t)}))},s.prototype.success=function(e,t){this.add(e,o.SUCCESS,t)},s.prototype.font_game_banner=function(e,t){this.add(e,o.FONT_GAME_BANNER,t)},s.prototype.site_maintenance_banner=function(e,t){this.add(e,o.SITE_MAINTENANCE_BANNER,t)},s.prototype.warn=function(e,t){this.add(e,o.WARN,t)},s.prototype.toggleErrorMessage=function(e,t){t?this.error(e):this.notice(e)},s.prototype._createMessage=function(e,t,n){var i,r,a;return t||(t=o.NOTICE),(n=n||{}).actionLink&&n.actionLabel&&(i=n.actionLink,r=n.actionLabel),n.callbackAction&&n.actionLabel&&(r=n.actionLabel,a=n.callbackAction),{id:this._nextNotificationId++,text:this.$sce.trustAsHtml(e),actionLink:i,actionLabel:r,callbackAction:a,category:n.category,queryParams:n.queryParams,scriptIdentifier:n.scriptIdentifier,tooltipText:n.tooltipText,type:t}}},254:function(e,t){function n(e,t){return{handlePageLoad:function(){e.get("suspended-account-data").then((function(e){e.hasSuspendedAccount&&t.show("/angular_templates/dialogs/account_suspended.html",{closeDisabled:!0})}))}}}n.$inject=["DataService","DialogService"],e.exports=n},255:function(e,t,n){o.$inject=["$http","$q","DataService"];var i,r=n(6);function o(e,t,n){return{clearCache:function(){i=null},getUserPrefs:o,updatePrefs:r.throttle((function(t){return o().then((function(e){i=r.extend(e,t)})),e.put("/account/prefs.json",a(t))}),500)};function o(){return t((function(e){i?e(i):n.get("user-pref-data").then((function(t){i=function(e){var t={},n=r.pick(e,"browse_families_sample_text","browse_families_sample_size","browse_families_view_type","browse_families_browse_mode","browse_filter_drawer_state","hide_typekit_onboard_modal","hide_font_activation_modal","hide_use_model_ccd_tutorial","hide_use_model_font_activation_modal","hide_remove_family_confirmation_modal","hide_expired_fonts_modal","hide_images","show_paid_fonts","show_basic_library","gpt_search_version","gpt_search_deployment","gpt_search_system_prompt","gpt_search_user_prompt_prefix","gpt_search_temperature");t.exampleText={value:n.browse_families_sample_text,size:n.browse_families_sample_size||36},n.browse_filter_drawer_state&&(t.isFilterListHiddenByUser="close"===n.browse_filter_drawer_state);n.browse_families_view_type&&(t.selectedViewType=n.browse_families_view_type);n.browse_families_browse_mode&&(t.browseMode=n.browse_families_browse_mode);n.hide_typekit_onboard_modal&&(t.hideTypekitOnboardModal="true"===n.hide_typekit_onboard_modal);n.hide_font_activation_modal&&(t.hideFontActivationModal="true"===n.hide_font_activation_modal);n.hide_use_model_font_activation_modal&&(t.hideUseModelFontActivationModal="true"===n.hide_use_model_font_activation_modal);n.hide_use_model_ccd_tutorial&&(t.hideUseModelCCDTutorial="true"===n.hide_use_model_ccd_tutorial);n.hide_remove_family_confirmation_modal&&(t.hideRemoveFamilyConfirmationModal="true"===n.hide_remove_family_confirmation_modal);n.hide_expired_fonts_modal&&(t.hideExpiredFontsModal="true"===n.hide_expired_fonts_modal);n.hide_images&&(t.hideImages="true"===n.hide_images);n.show_paid_fonts&&(t.showPaidFonts="true"===n.show_paid_fonts);n.show_basic_library&&(t.showBasicLibrary="true"===n.show_basic_library);Object.prototype.hasOwnProperty.call(n,"gpt_search_version")&&(t.gptSearchVersion=n.gpt_search_version);Object.prototype.hasOwnProperty.call(n,"gpt_search_deployment")&&(t.gptSearchDeployment=n.gpt_search_deployment);Object.prototype.hasOwnProperty.call(n,"gpt_search_system_prompt")&&(t.gptSearchSystemPrompt=n.gpt_search_system_prompt);Object.prototype.hasOwnProperty.call(n,"gpt_search_user_prompt_prefix")&&(t.gptSearchUserPromptPrefix=n.gpt_search_user_prompt_prefix);Object.prototype.hasOwnProperty.call(n,"gpt_search_temperature")&&(t.gptSearchTemperature=n.gpt_search_temperature);return t}(t),e(i)}))}))}}function a(e){var t={};return e.exampleText&&(t.browse_families_sample_text=e.exampleText.value,t.browse_families_sample_size=e.exampleText.size),e.selectedViewType&&(t.browse_families_view_type=e.selectedViewType),e.isFilterListHiddenByUser?t.browse_filter_drawer_state="close":t.browse_filter_drawer_state="open",e.browseMode&&(t.browse_families_browse_mode=e.browseMode,e.exampleText||(t.browse_families_sample_text="",t.browse_families_sample_size="null")),e.hideTypekitOnboardModal&&(t.hide_typekit_onboard_modal=!0),e.hideFontActivationModal&&(t.hide_font_activation_modal=!0),e.hideUseModelFontActivationModal&&(t.hide_use_model_font_activation_modal=!0),e.hideUseModelCCDTutorial&&(t.hide_use_model_ccd_tutorial=!0),e.hideRemoveFamilyConfirmationModal&&(t.hide_remove_family_confirmation_modal=!0),e.hideExpiredFontsModal&&(t.hide_expired_fonts_modal=!0),e.hideStandaloneSubscriptionNotification&&(t.hide_standalone_subscription_notification=!0),t.hide_images=e.hideImages,t.show_basic_library=e.showBasicLibrary,t.show_paid_fonts=e.showPaidFonts,t.gpt_search_version=e.gptSearchVersion,t.gpt_search_deployment=e.gptSearchDeployment,t.gpt_search_system_prompt=e.gptSearchSystemPrompt,t.gpt_search_user_prompt_prefix=e.gptSearchUserPromptPrefix,t.gpt_search_temperature=e.gptSearchTemperature,{prefs:t}}e.exports=o},256:function(e,t,n){c.$inject=["$http","AuthenticationService","DialogService","FirstMileService"];var i=n(54).isFlagEnabled,r=n(257),o=n(258),a=n(259),s=n(155);function c(e,t,c,l){var u,d,f;return{init:_,addFamilyToWebProject:p,addFamilyToWebProjectWithAuthentication:function(e,n,i){t.handleAuthenticationWithPostLoginAction(s.ADD_TO_WEB_PROJECT,{familySlug:e,variationSlug:n}).then((function(){p(e,n,i)}))},getAddFontsToWebProjectModel:g,getEmbedCodeModel:function(){return f.getEmbedCodeModel()},getFamilyAndProjectsInfo:v,getProjectSelectorModel:m,getStyleSelectorModel:h,getWebfontProjectStylesModel:function(){return f.getWebfontProjectStylesModel()},groupByTypekitFontFamilies:y,showAddFontsToWebProjectDialog:b,updateProjectDetails:function(t){e.get("/web_project/families_in_project.json",{params:{project_id:t.id}}).then((function(e){var t=e.data.typekit_font_families;g().updateExistingFamiliesInProject(t)}))}};function p(t,n,i){(function(t,n){var i="/web_project/add_to_web_project_data/"+t;n&&(i+="?variation="+n);return e.get(i).then((function(e){return e.data}))})(t,n).then((function(e){e.errors||b(e.family.slug,e.family.fonts,e.textSamples,e.defaultExampleText,i)}))}function h(){return d}function m(){return u}function g(){return f}function v(t){return e.get("/web_project/family_and_projects_info.json",{params:{family_slug:t}}).then((function(e){return e.data}))}function y(e){var t={},n=[];e.forEach((function(e){t[e.family.web_id]||(t[e.family.web_id]={web_id:e.family.web_id,web_name:e.family.web_name,variations:[]},n.push(e.family.web_id)),t[e.family.web_id].variations.push(e)}));var i=n.map((function(e){return t[e]}));return{familyIds:n,orderedFamilies:i}}function b(e,t,r,o,a){l.showTypekitOnboardDialogIfNecessary().then((function(){_(e,t,r,o),i("EnableNewAddToWebProjectDialog")?Promise.all([n.e(0),n.e(1),n.e(3),n.e(45),n.e(51)]).then(n.bind(null,421)).then((function(e){(0,e.openAddToWebProjectDialog)({families:h().getSortedFamilies(),projectSelectorModelPromise:m().getProjectSelectorModelPromise(),editorSaveState:a})})):c.show("/angular_templates/dialogs/add_fonts_to_web_project.html",{skipBodyListeners:!0,recenterOnResize:!0,extraWrapperClass:"add-fonts-to-web-project-dialog-wrapper"})}))}function _(t,n,i,s){var l=y(n),p=v(t);d=new r(l.orderedFamilies,i,s);var h=p.then((function(e){return{projects:e.projects,is_family_CJK:e.is_family_CJK}}));u=new o(h),f=new a(e,c,p,u,d)}}e.exports=c},257:function(e,t,n){o.$inject=["families","textSamples","exampleText"];var i=n(198),r=n(19);function o(e,t,n){this._families=r.copy(e),this._textSamples=t,this._exampleText=n,this.sortFamiliesAndVariations(),this.initDisplayVariations(),this.initCheckedState()}o.prototype.getSelectedVariations=function(){var e=this,t=[];return e.isAnyVariationSelected()&&Object.keys(e._checkedState.families).forEach((function(n){if(e._checkedState.families[n].checkedVariationCount>0){var i=Object.keys(e._checkedState.families[n].variations).map((function(e){return Number(e)})).filter((function(t){return e._checkedState.families[n].variations[t]}));t.push({opaque_id:n,font_variations:i})}})),t},o.prototype.isAnyVariationSelected=function(){return 0!==this._checkedState.checkedVariationCount},o.prototype.getSortedFamilies=function(){return this._families},o.prototype.getExampleText=function(){return this._exampleText},o.prototype.getShowMoreCount=function(e){return e.variations.length-this.getDisplayVariations(e).length},o.prototype.getDisplayVariations=function(e){return this._displayVariations[e.web_id]},o.prototype.setDisplayVariations=function(e,t){this._displayVariations[e]=t},o.prototype.isVariationSelected=function(e){return this._checkedState.families[e.family.web_id].variations[e.id]},o.prototype.getSelectedVariationCount=function(e){return this._checkedState.families[e].checkedVariationCount},o.prototype.getTotalVariationCount=function(e){return this._checkedState.families[e].totalVariationCount},o.prototype.toggleCheckbox=function(e){var t=e.family.web_id;this._checkedState.families[t].variations[e.id]=!this._checkedState.families[t].variations[e.id];var n=this._checkedState.families[t].variations[e.id]?1:-1;this._checkedState.families[t].checkedVariationCount+=n,this._checkedState.checkedVariationCount+=n},o.prototype.getVariationDisplayData=function(e){var t=this._textSamples[e.default_language].unicode_range,n=this._textSamples[e.default_language].feature_settings,i=this._textSamples[e.default_language].kana_only;return i||(i=!1),{cssName:e.family.web_id+"-"+e.font.web.fvd,fvd:e.font.web.fvd,isDynamic:!1,opaqueId:e.family.web_id,unicodeRange:t,featureSettings:n,kanaOnly:i}},o.prototype.sortVariations=function(e){e.sort((function(e,t){return i.compareFvds(e.font.web.fvd,t.font.web.fvd)}))},o.prototype.sortFamiliesAndVariations=function(){var e=this;e._families.forEach((function(t){e.sortVariations(t.variations)}))},o.prototype.initDisplayVariations=function(){var e=this;e._displayVariations={},e._families.forEach((function(t){var n=t.variations.map((function(e){return e.font.web.fvd})),r=i.findClosestToBasicFour(n);e._displayVariations[t.web_id]=t.variations.filter((function(e){return-1!==r.indexOf(e.font.web.fvd)})),e.sortVariations(e._displayVariations[t.web_id])}))},o.prototype.initCheckedState=function(){var e=this;e._checkedState={checkedVariationCount:0,totalVariationCount:0,families:{}},e._families.forEach((function(t){e._checkedState.totalVariationCount+=t.variations.length,e._checkedState.families[t.web_id]={checkedVariationCount:0,totalVariationCount:t.variations.length,variations:{}},t.variations.forEach((function(n){e._checkedState.families[t.web_id].variations[n.id]=!1,-1!==e.getDisplayVariations(t).indexOf(n)&&(e._checkedState.families[t.web_id].variations[n.id]=!0,e._checkedState.families[t.web_id].checkedVariationCount+=1)})),e._checkedState.checkedVariationCount+=e._checkedState.families[t.web_id].checkedVariationCount}))},e.exports=o},258:function(e,t,n){r.$inject=["projectSelectorModelPromise"];var i=n(19);function r(e){var t=this;t.scrollCount=0,t.projectSelectorModelPromise=e,t.selectedProjectName="",t.selectedProjectID=null,t.searchResults=[],t.showError=!1,t.selectorDisabled=!0,t.inputDisabled=!0,t.dropdownVisible=!1,e.then((function(e){t.projects=e.projects,t.isFamilyCJK=e.is_family_CJK,t.projects&&t.projects.length>0?t.selectorDisabled=!1:t.inputDisabled=!1}))}r.prototype.isDropdownVisible=function(){return this.dropdownVisible},r.prototype.getProjectSelectorModelPromise=function(){return this.projectSelectorModelPromise},r.prototype.isSelectorDisabled=function(){return this.selectorDisabled},r.prototype.isInputDisabled=function(){return this.inputDisabled},r.prototype.isProjectSelected=function(){return!(null===this.getSelectedProjectID())},r.prototype.resetProjectSelection=function(){self.selectedProjectName="",self.selectedProjectID=null},r.prototype.getPlaceholder=function(e,t){return this.selectorDisabled?e:t},r.prototype.getSelectedProjectID=function(){return this.selectedProjectID},r.prototype.getSearchResults=function(){return this.searchResults},r.prototype.getProjectName=function(){return this.projectName},r.prototype.getExistingProject=function(e){if(e)return this.projects.filter((function(t){return t.id===e.id}))[0]},r.prototype.getExistingProjectByProjectName=function(e){var t;if(this.projects){var n=this.projects.filter((function(t){return t.name===e}));return 1==n.length&&(t=n[0]),t}},r.prototype.onProjectNameChange=function(e){this.showError=!1,this.dropdownVisible=!1,this.selectedProjectID=null,this.projectName=e,this.searchResults=[],this.projectName.length>50&&(this.projectName=this.projectName.substring(0,50)),this.projects.forEach(function(e){e.name.toUpperCase()===this.projectName.toUpperCase()&&(this.showError=!0)}.bind(this))},r.prototype.onProjectSelection=function(e,t){this.selectedProjectID=e,this.projectName=t},r.prototype.isCurrentProjectNameValid=function(){var e=this.getExistingProjectByProjectName(this.projectName);return Boolean(this.projectName)&&this.isProjectValid(e)&&!this.showError},r.prototype.isProjectValid=function(e){var t=this.getExistingProject(e);return!t||(!(this.isFamilyCJK&&!t.is_dynamic)||(this.selectedProjectID=null,!1))},r.prototype.isResultListAvailable=function(){return this.searchResults&&this.searchResults.length>0},r.prototype.onSelectorButtonClick=function(){this.dropdownVisible=!this.dropdownVisible,this.isResultListAvailable()||!this.projects?this.searchResults=[]:this.searchResults=this.getFormattedSearchResults(this.projects.slice(0,100))},r.prototype.getFormattedSearchResults=function(e){if(!e||0==e.length)return[];var t=i.copy(e);return t.forEach((function(e){var n=t.filter((function(t){return t.name===e.name}));1==n.length&&n.splice(n.indexOf(e),1),n.forEach((function(e){e.name=e.name+" ("+e.id+")"}))})),t},r.prototype.onSelectProjectClick=function(e){this.isProjectValid(e)&&(this.searchResults=[],this.selectedProjectID=e.id,this.projectName=e.name,this.dropdownVisible=!1,this.inputDisabled=!0)},r.prototype.enableInputBox=function(){this.inputDisabled=!1},r.prototype.isInvalid=function(){return this.showError},r.prototype.onNextScroll=function(){this.searchResults.push.apply(this.searchResults,this.getFormattedSearchResults(this.projects.slice(100+10*this.scrollCount,100+10*(this.scrollCount+1)))),this.scrollCount=this.scrollCount+1},e.exports=r},259:function(e,t,n){o.$inject=["$http","DialogService","deferredFamilyAndProjectsInfo","projectSelectorModel","styleSelectorModel"];var i=n(199),r=n(260);function o(e,t,n,i,r){var o=this;o.$http=e,o.DialogService=t,o._projectById=[],o._projectSelectorModel=i,o._styleSelectorModel=r,o._isFamilyCJK=!1,o._saveAttempted=!1,o._saved=!1,o._addedFontsCount=0,o._addedToProjectName="",o._addedToProjectEditorLink="",o._embedCodeModel=null,o._webfontProjectStylesModel=null,o._stylesData=null,o.existingFamiliesInProject=[],o._populateFamilyAndProjectsInfo(n)}o.prototype.getSelectedProjectID=function(){return this._projectSelectorModel.getSelectedProjectID()},o.prototype.getSelectedProjectName=function(){var e=this._projectById[this._projectSelectorModel.getSelectedProjectID()];if(e)return e.name},o.prototype.doFamiliesExistInProject=function(){return!!(this._projectById[this._projectSelectorModel.getSelectedProjectID()]&&this.getExistingFamiliesInProject().length>0)},o.prototype.getExistingFamiliesInProject=function(){return this.existingFamiliesInProject},o.prototype.updateExistingFamiliesInProject=function(e){this.existingFamiliesInProject=e&&e.length>0?e:[]},o.prototype.isFamilyCJK=function(){return this._isFamilyCJK},o.prototype.closeDialog=function(){this.DialogService.close()},o.prototype.didSaveSucceed=function(){return this._saved},o.prototype.isSaveValid=function(){return Boolean(this._styleSelectorModel.isAnyVariationSelected()&&(this._projectSelectorModel.getSelectedProjectID()||this._projectSelectorModel.isCurrentProjectNameValid()))},o.prototype.didAttemptSave=function(){return this._saveAttempted},o.prototype.save=function(){var e=this;if(!e._saveAttempted){e._saveAttempted=!0;var t=e._styleSelectorModel.getSelectedVariations();e._projectSelectorModel.getSelectedProjectID()?e._addSelectedToExistingProject(t,e._projectSelectorModel.getSelectedProjectID()).then((function(t){e._handleSaveSuccess(t)})):e._projectSelectorModel.isCurrentProjectNameValid()&&e._addSelectedToNewProject(t,e._projectSelectorModel.getProjectName()).then((function(t){e._handleSaveSuccess(t)}))}},o.prototype.getEmbedCodeModel=function(){return this._embedCodeModel},o.prototype.getWebfontProjectStylesModel=function(){return this._webfontProjectStylesModel},o.prototype.getAddedFontsCount=function(){return this._addedFontsCount},o.prototype.getAddedToProjectName=function(){return this._addedToProjectName},o.prototype.getAddedToProjectEditorLink=function(){return this._addedToProjectEditorLink},o.prototype._getProjectById=function(e){var t={};return e.forEach((function(e){t[e.id]=e})),t},o.prototype._populateFamilyAndProjectsInfo=function(e){var t=this;e.then((function(e){t._projectById=t._getProjectById(e.projects),t._isFamilyCJK=e.is_family_CJK}))},o.prototype._addSelectedToExistingProject=function(e,t){var n={id:t,families:e};return this.$http.post("/kits/update",n).then((function(e){return e.data}))},o.prototype._addSelectedToNewProject=function(e,t){var n={kit:{name:t},families:e};return this.$http.post("/kits",n).then((function(e){return e.data}))},o.prototype._handleSaveSuccess=function(e){this._embedCodeModel=new i(e.embed_code.is_dynamic,e.embed_code.project_embed_details),this._webfontProjectStylesModel=new r(e.styles),this._addedFontsCount=e.added_fonts_count,this._addedToProjectName=e.added_to_project_info.name,this._addedToProjectEditorLink=e.added_to_project_info.editor_link,this._saved=!0},e.exports=o},260:function(e,t){function n(e){this.fontVariationsDetails=e,this._preloadData()}n.$inject=["stylesModelData"],n.prototype._preloadData=function(){var e=this;e.fontVariationsDetails.forEach((function(t){e.setCSSFontStackDisplay(t),e.setStyleDisplay(t),e.setWeightDisplay(t),e.setCompleteFontVariationStyle(t)}))},n.prototype.setCSSFontStackDisplay=function(e){var t=e.family.css_font_stack.replace(/["]/g,"");e.fontFamilyDisplay=t.substr(0,t.indexOf(",")+1)||t,e.cssFontStackDisplay=t.replace(e.fontFamilyDisplay,"")+";"},n.prototype.setStyleDisplay=function(e){e.styleDisplay=e.style+";"},n.prototype.setWeightDisplay=function(e){e.weightDisplay=e.font.web.weight+";"},n.prototype.setCompleteFontVariationStyle=function(e){e.completeFontVariationStyle="font-family: "+e.fontFamilyDisplay+e.cssFontStackDisplay+"\nfont-weight: "+e.weightDisplay+"\nfont-style: "+e.styleDisplay},n.prototype.getFontVariations=function(){return this.fontVariationsDetails},e.exports=n},261:function(e,t,n){function i(e,t){return{init:function(){e.get("omniture_config").then((function(e){t.marketingtech={adobe:{launch:{property:"global",environment:e.environment}}},e.isLaunchCodeDisabled||n(262)}))}}}i.$inject=["DataService","$window"],e.exports=i},262:function(e,t,n){(function(e){!function(){"use strict";var t,n,i=document,r=Object.defineProperty,o="replace",a=function(e){return e[o](/%2523access_token%253D.*?%2526/gim,"%2526")[o](/%23access_token%3D.*?%26/gim,"%26")[o](/#access_token=.*?&/gim,"&")[o](/information=[^\&]+/,"")[o](/puser=[^\&]+/,"")[o](/fnuser=[^\&]+/,"")[o](/lnuser=[^\&]+/,"")};try{var s="referrer",c=i[s],l=a(c);l!==c&&r(i,s,{configurable:!0,value:l})}catch(t){}t=window,n=function(){function t(e,t){p.add(e,t),f||(f=_(p.drain))}function n(e){var t,n=v(e);return null==e||n!=m&&n!=h||(t=e.then),v(t)==h&&t}function i(){for(var e=0;e<this.chain.length;e++)r(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function r(e,t,i){var r,o;try{!1===t?i.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===i.promise?i.reject(y("Promise-chain cycle")):(o=n(r))?o.call(r,i.resolve,i.reject):i.resolve(r)}catch(e){i.reject(e)}}function o(e){var r,s=this;if(!s.triggered){s.triggered=!0,s.def&&(s=s.def);try{(r=n(e))?t((function(){var t=new c(s);try{r.call(e,(function(){o.apply(t,arguments)}),(function(){a.apply(t,arguments)}))}catch(n){a.call(t,n)}})):(s.msg=e,s.state=1,s.chain.length>0&&t(i,s))}catch(t){a.call(new c(s),t)}}}function a(e){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=e,n.state=2,n.chain.length>0&&t(i,n))}function s(e,t,n,i){for(var r=0;r<t.length;r++)!function(r){e.resolve(t[r]).then((function(e){n(r,e)}),i)}(r)}function c(e){this.def=e,this.triggered=!1}function l(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function u(e){if(v(e)!=h)throw y(g);if(0!==this.__NPO__)throw y("Not a promise");this.__NPO__=1;var n=new l(this);this.then=function(e,r){var o={success:v(e)!=h||e,failure:v(r)==h&&r};return o.promise=new this.constructor((function(e,t){if(v(e)!=h||v(t)!=h)throw y(g);o.resolve=e,o.reject=t})),n.chain.push(o),0!==n.state&&t(i,n),o.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){o.call(n,e)}),(function(e){a.call(n,e)}))}catch(t){a.call(n,t)}}var d,f,p,h="function",m="object",g="Not a "+h,v=function(e){return typeof e},y=TypeError,b=Object.prototype.toString,_="undefined"!=typeof e?function(t){return e(t)}:setTimeout;d=function(e,t,n,i){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==i})},p=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,i;return{add:function(r,o){i=new e(r,o),n?n.next=i:t=i,n=i,i=void 0},drain:function(){var e=t;for(t=n=f=void 0;e;)e.fn.call(e.self),e=e.next}}}();var S=d({},"constructor",u,!1);return u.prototype=S,d(S,"__NPO__",0,!1),d(u,"resolve",(function(e){return e&&v(e)==m&&1===e.__NPO__?e:new this((function(t,n){if(v(t)!=h||v(n)!=h)throw y(g);t(e)}))})),d(u,"reject",(function(e){return new this((function(t,n){if(v(t)!=h||v(n)!=h)throw y(g);n(e)}))})),d(u,"all",(function(e){var t=this;return"[object Array]"!=b.call(e)?t.reject(y("Not an array")):0===e.length?t.resolve([]):new t((function(n,i){if(v(n)!=h||v(i)!=h)throw y(g);var r=e.length,o=Array(r),a=0;s(t,e,(function(e,t){o[e]=t,++a===r&&n(o)}),i)}))})),d(u,"race",(function(e){var t=this;return"[object Array]"!=b.call(e)?t.reject(y("Not an array")):new t((function(n,i){if(v(n)!=h||v(i)!=h)throw y(g);s(t,e,(function(e,t){n(t)}),i)}))})),u},"undefined"==typeof Promise&&(t.Promise=n());var u=window,d=u.console.log;function f(e){throw Error(e)}var p,h,m,g,v,y,b,_,S,w=u.__satelliteEmbedCode,C=u.marketingtech,k="digitalData",F=k+".",E="object",$="array",x="function",T="sub-object not ",A=T+E,P=T+$,M=/^(.+?)((?:\[(?:n|\d+)\])+?)$/,D=/n|\d+/g,I=Array.isArray,L=0,N=C&&C.digitalData&&C.digitalData.debug;if(_=function(e){return typeof e},S=function(e,t){return e.hasOwnProperty(t)},(m=(h=function(e,t){var n,i=this;if(r(i,"_id",{value:++L}),N&&d(i._id+": CREATED"),r(i,"_pending",{value:{}}),r(i,"_listeners",{value:{}}),e&&i._set(k,e),t)for(n in t)S(t,n)&&i._set(n,t[n])}).prototype)._merge=g=function(e,t,n,i){var r,o,a,s,c;for(r in i=i||"",t)S(t,r)&&(o=e[r],void 0!==(a=t[r])&&null!==a&&(void 0===o||null===o?e[r]=a:(s=I(o)?$:_(o),c=I(a)?$:_(a),s===E||c===E?s===c&&(e[r]=g(o,a,n,i+"  ")):n||(s!==$&&(o=[o]),c===$?o=o.concat(a):o.push(a),e[r]=o))));return e},m._flatten=v=function(e,t,n,i){var r,o,a,s,c,l,u={},d={};for(e=e||this,e=JSON.parse(JSON.stringify(e)),r=0,o=(s=I(e)?e:Object.keys(e)).length;r<o;r++)c=I(e)?r:s[r],a=t?(I(e),t+"."+c):c+"",l=e[c],_(l)===E&&null!==l?u=g(u,v(l,a,n,i),!0):_(l)!==x&&(i?_(i)===E?I(i)?-1!==i.indexOf(a)&&(u[a]=l):i[a]&&(u[a]=l):_(i)===x?i(a)&&(u[a]=l):u[a]=l:u[a]=l);if(!I(e)||!n)return u;for(r=0,o=s.length;r<o;r++)l=e[c=r],_(l)===E&&(d=g(d,l));return u=g(u,v(d,a=t?t+".__collapsed":"__collapsed",n,i),!0),u=g(u,v(y(d,"|","|","|"),a,n,i),!0),u=g(u,v(d,a=t?t+".__joined":"__joined",n,i),!0),g(u,v(y(d,","),a,n,i),!0)},m._collapse=y=function(e,t,n,i){var r,o,a,s={};for(r in t=t||",",n=n||"",i=i||"",e)S(e,r)&&(o=e[r],a=I(o)?$:_(o),s[r]=a===$?n+o.join(t)+i:a===E?y(o,t,n,i):o);return s},m._recurse=b=function(e,t,n,i){var r,o,a,s,c,l;if(e&&_(e)===E)for(r=0,o=(s=I(e)?e:Object.keys(e)).length;r<o;r++)I(e)?(a=r,c=t+"[n]"):c=t+"."+(a=s[r]),l=e[a],n&&n({path:c,property:a,value:l},{path:t,value:e}),l&&_(l)===E&&b(l,c,n,i),i&&i({path:c,property:a,value:l},{path:t,value:e})},m._get=function(e){var t,n,i,r,o,a,s,c,l,u,f=this,p=f;if(N&&d(f._id+': GET "'+e+'"'),!e||e===k)return f;for(0!==e.indexOf(k)&&(e=F+e),(t=e.split(".")).shift(),o=0,a=t.length;o<a;o++){if(l=o===a-1,r=(n=t[o]).match(M)){if(n=r[1],r=r[2].match(D),p=p[n],!I(p))return;for(s=0,c=r.length;s<c;s++)if(u=s===c-1,p=p[i="n"===(i=r[s])?p.length-1:parseInt(i)],!u&&!I(p))return}else p=p[n];if(!p||l)return p}},m._set=function(e,t){var n,i,r,o,a,s,c,l,u,p,h,m,g,v,y,w=this,C=w,$=[],T=w._pending;if(N&&d(w._id+': SET "'+e+'" '+JSON.stringify(t)),e||(e=k),0!==e.indexOf(k)&&(e=F+e),e!==k||t!==w){if(T[e]&&(T[e].cancelled=!0,delete T[e]),null!=t&&(_(t)===E||_(t)===x)&&_(t.then)===x){if((i=t.then((function(t){return i.cancelled||w._set(e,t),t}),(function(){i.cancelled||delete T[e]}))).cancelled=!1,T[e]=i,!S(t,"unresolved"))return;n=t,t=t.unresolved,delete n.unresolved}if(e===k){if(_(t)!==E)return;for(c in b(w,k,(function(e){T[e.path]&&(T[e.path].cancelled=!0,delete T[e.path]),$.push(e.path)})),w)S(t,c)&&t[c]&&t[c]!==w[c]&&delete w[c];for(c in t)S(t,c)&&(w[c]=t[c])}else for((p=e.split(".")).shift(),r=0,o=p.length;r<o;r++)if(l=r===o-1,g=(h=p[r]).match(M))for(h=g[1],g=g[2].match(D),C=C[h]=C[h]||[],I(C)||f(P),a=0,s=g.length;a<s;a++)u=a===s-1,m="n"===(m=g[a])?C.length:parseInt(m),u?l?C[m]=t:(C=C[m]=C[m]||{},_(C)!==E&&f(A)):(C=C[m]=C[m]||[],I(C)||f(P));else l?C[h]=t:(C=C[h]=C[h]||{},_(C)!==E&&f(A));if(e===k)$.push(e);else for(v=[],r=0,o=(p=e.split(".")).length;r<o;r++)(g=(h=p[r]).match(M))&&(h=g[1],h+=g=g[2].replace(D,"n")),v.push(h),$.push(v.join("."));for(b(t,e,(function(e){T[e.path]&&(T[e.path].cancelled=!0,delete T[e.path]),-1===$.indexOf(e.path)&&$.push(e.path)})),r=$.length-1;r>=0;r--)y=$[r],w._trigger(y)}},m._unset=m._delete=function(e){return N&&d(this._id+': DELETE "'+e+'"'),this._set(e,void 0)},m._on=function(e,t){var n;if(""===e)e=k;else if(!e)return!1;0!==e.indexOf(k)&&(e=F+e),(n=this._listeners[e])||(n=this._listeners[e]=[]),n.push(t)},m._off=function(e,t){var n,i;if(""===e)e=k;else if(!e)return!1;return 0!==e.indexOf(k)&&(e=F+e),!!(i=this._listeners[e])&&-1!==(n=i.indexOf(t))&&(i.splice(n,1),!0)},m._trigger=function(e){var t,n,i,r;if(""===e)e=k;else if(!e)return!1;if(0!==e.indexOf(k)&&(e=F+e),!(r=this._listeners[e]))return!1;for(t=0,n=r.length;t<n;t++)if(i=r[t])try{i(this._get(e))}catch(e){}},m._resolved=function(){var e,t=[],n=this._pending;for(e in n)S(n,e)&&t.push(n[e]);return Promise.all(t)},m._snapshot=m._copy=function(){return new h(JSON.parse(JSON.stringify(this)),this._pending)},u.DigitalData=h,!w){if(p=new h,u.digitalData){p._set(k,u.digitalData);try{delete u.digitalData}catch(t){}}r(u,k,{enumerable:!0,get:function(){return p},set:function(e){p._set(k,e)}})}var R=p,O=i.getElementsByTagName("head")[0],j=u.performance,V=decodeURIComponent;function U(e){var t,n,r,o;for(n=0,r=(t=i.cookie?i.cookie.split("; "):[]).length;n<r;n++)if(o=t[n],V(o.substr(0,o.indexOf("=")))===e)return V(o.substr(o.indexOf("=")+1))}var B,W,z,H="at-body-style",q="targetGlobalSettings",G="bodyHidingEnabled",Z=U("OptanonConsent"),Y=U("OptanonChoice"),X=u.location.search;if(B=C&&C.adobe&&C.adobe.target,W=u[q]=u[q]||{},z=i.getElementById(H),w||!B||G in W&&!W[G]||-1!==X.indexOf("mboxDisable=1")||-1!==i.cookie.indexOf("adobe_optout")||Y&&Z&&-1!==Z.indexOf("C0002:0"))z&&z.parentNode&&z.parentNode.removeChild(z);else{if(!z){(z=i.createElement("style")).id=H,z.innerHTML="body{opacity:0.01 !important}";try{j.mark("targetBodyHide"),O.appendChild(z)}catch(t){}}setTimeout((function(){W[G]=!1;try{O.removeChild(i.getElementById(H))}catch(t){}}),3e3)}function K(e,t){u.addEventListener(e,t)}var J=encodeURIComponent;function Q(e,t,n,r){var o="";t=t||"",o+=r?e+"="+t:J(e)+"="+J(t),n.path&&(o+="; path="+n.path),n.expires&&(o+="; expires="+n.expires.toUTCString()),n.domain&&(o+="; domain="+n.domain),n.samesite&&(o+="; samesite="+n.samesite),i.cookie=o}var ee,te,ne="";var ie,re,oe,ae,se=[],ce="adobePrivacy:Privacy",le="OptanonChoice",ue=new Date,de={domain:function(){if(ne)return ne;var e=u.location.hostname.toLowerCase().split("."),t=[],n="",i=null,r=!1,o="sat_domain";for(n=e.pop(),t.unshift(n);e.length>0;){n=e.pop(),t.unshift(n),(i=new Date).setTime(i.getTime()+1e3);try{Q(o,"A",{expires:i,domain:t.join(".")})}catch(e){break}if("A"===U(o)){r=!0,ne=t.join(".");break}}return r?ne:""}(),path:"/",samesite:"Lax",expires:(ue.setFullYear(ue.getFullYear()+1),ue)};function fe(e){var t=JSON.parse(JSON.stringify(e.location));return t.href=a(t.href),t.hash=a(t.hash),t.search=a(t.search),t}ee=function(e){re?e(u._satellite):se.push(e)},te=new Promise((function(e){ee(e)})),ie=function(){var e,t,n;for(re=!0,e=0,t=se.length;e<t;e++){n=se[e];try{n(u._satellite)}catch(e){}}},u.__satelliteLoadedCallback=ee,u.__satelliteLoadedPromise=te,ae=function(e){i.write('<script src="'+e+'"><\/script>')},K(ce+"Consent",(function(){Q(le,1,de)})),K(ce+"Reject",(function(){Q(le,2,de)})),K(ce+"Custom",(function(){Q(le,3,de)})),K(ce+"Consent",(function(){var e,t=ce+"Consent:DTM";"function"==typeof u.CustomEvent?e=new CustomEvent(t):(e=i.createEvent("CustomEvent")).initCustomEvent(t,!1,!1,void 0),ee((function(){"complete"===i.readyState?i.body.dispatchEvent(e):K("load",(function(){i.body.dispatchEvent(e)}))}))})),w?(ae("//c.evidon.com/geo/country.js"),ae(w),(oe=function(){u._satellite&&u._satellite.initialized?ie():setTimeout(oe,100)})()):function(e,t){var n,r,o=i.createElement("script"),a=!1;o.src=e,o.async=!0,t&&(o.onload=o.onreadystatechange=function(e){var n=this.readyState;a||n&&"complete"!==n&&"loaded"!==n||(a=!0,t(e))}),(n=i.getElementsByTagName("script")[0])&&n.parentNode?(r=n.parentNode).insertBefore(o,n):(r=O)?r.appendChild(o):i.body?(r=i.body).appendChild(o):f("no script parent")}(function(e,t){var n,i,r,o,a,s=u.location,c="https://assets.adobedtm.com/",l=c+"launch-",d={globalDev:"EN9a7b3bd7db454856b44f27730f263fa0",globalStage:"EN2731bb0857084837b7142cd2017286bb",globalProd:"EN919758db9a654a17bac7d184b99c4820",ucDev:"ENed7cfab651fa4714a57bf937efb0cd23-development",ucStage:"EN1450794db7d0411a8b3f3b08dd706d00-staging",ucProd:"ENd6b040128459463bad781a5daa85ce0f",videoDev:"EN2d7bf2d8326b4ff1aa5335189a385023-development",videoStage:"EN60e5086def0d48e9ae2195234cb1b389-staging",videoProd:"EN58452fb8d9534cacbb8aeac0c8e15215",minimalDev:"EN876eeadff442464cb438819d695e077d-development",minimalStage:"ENa9d6ac46ca57441784434d28ceb9ddba-staging",minimalProd:"EN08637acac77f4e20b9e413aeb86f610e"};if(n=t||s.hostname,a=function(e){return-1!==n.indexOf(e)},C&&C.adobe&&C.adobe.launch&&(C.adobe.launch.embedCode||C.adobe.launch.environment||C.adobe.launch.property)){i=C.adobe.launch.embedCode,r=C.adobe.launch.property,o=C.adobe.launch.environment;i?0===i.indexOf("EN")?l+=i:l=c+i:function(e){"video analytics"==e&&(e="video"),"unified checkout"==e&&(e="uc"),"dev"===o?l+=d[e+"Dev"]:"stage"===o?l+=d[e+"Stage"]:"production"===o?l+=d[e+"Prod"]:(l+=d[e+"Prod"],console.warn('marketingtech.adobe.launch.environment invalid. Falling back to "production".'))}(r||"global")}else a("localhost.account.adobe.com")||a("prestage1.account.adobe.com")||a("prestage2.account.adobe.com")?l+=d.globalDev:a("stage.account.adobe.com")||a("prod-inactive.account.adobe.com")||a("prod-active.account.adobe.com")?l+=d.globalStage:a("account.adobe.com")?l+=d.globalProd:(a("localhost.")||console.error("unrecognized domain. Please email marketingtech@adobe.com."),l+=d.globalDev);return e&&(l+=".min"),l+".js"}(!0),ie);var pe,he="initialPage.pageInfo.location",me="message",ge=u.top;function ve(e,t){try{e._set(t,fe(ge))}catch(i){K(me,(function(n){n.data.n===he&&e._set(t,n.data.v)})),ge.postMessage({n:he},"*")}}u===ge&&(pe=fe(u),K(me,(function(e){var t,n=e.origin,i=n.length;((t=function(e){return n.substring(i-e.length,i)===e})(".adobe.com")||t("//adobe.com"))&&e.data.n===he&&e.source.postMessage({n:he,v:pe},"*")})));var ye=[];u._satellite=u._satellite||{},u._satellite.track=function(e,t){var n;(t=t||{})._beforeSatelliteLoaded=!0,w||((n=t.digitalData=t.digitalData||u.digitalData._snapshot())._set("page.pageInfo.location",fe(u)),ve(n,"page.topFrameInfo.location")),ye.push([e,t])},u.__satelliteLoadedCallback((function(){var e,t,n;for(e=0,t=ye.length;e<t;e++)n=ye[e],u._satellite.track(n[0],n[1])}));w||(R._set("marketingtech.bootstrap.version","0.19.0"),R._set("initialPage.pageInfo.location",fe(u)),ve(R,"initialPage.topFrameInfo.location"))}()}).call(this,n(263).setImmediate)},263:function(e,t,n){(function(e){var i="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(264),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(22))},264:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,r,o,a,s,c=1,l={},u=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){h(e.data)},i=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,i=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"===typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return l[c]=r,i(c),c++},f.clearImmediate=p}function p(e){delete l[e]}function h(e){if(u)setTimeout(h,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),u=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(22),n(32))},265:function(e,t,n){o.$inject=["$http","AddFontsToWebProjectService","UrlService"];var i=n(155),r="post_login_action_id";function o(e,t,n){return{getPostLoginActionData:o,getPostLoginActionId:a,handlePageLoad:function(){if(!a())return;o(a()).then(c).finally(s)}};function o(t){return e.delete("/post_login_actions/"+t).then((function(e){return e.data}))}function a(){return n.getSearchParam(r)}function s(){return n.removeSearchParam(r)}function c(e){if(n.removeSearchParam(r),e.actionName===i.ADD_TO_WEB_PROJECT)return t.addFamilyToWebProject(e.data.familySlug,e.data.variationSlug)}}e.exports=o},266:function(e,t){e.exports={afterConsent:function(e){n?window.addEventListener("adobePrivacy:PrivacyConsent",(function(){e()})):e()},enableConsentCheck:function(){n=!0},loadResource:function(e){if(window.adobePrivacy)window.adobePrivacy.loadResource(e);else{var t=document.createElement("script");t.src=e.path,e.callback&&(t.onload=e.callback),document.head.appendChild(t)}}};var n=!1},289:function(e,t,n){"use strict";n.r(t),n.d(t,"getUpdateDescription",(function(){return qe})),n.d(t,"processMessage",(function(){return Ge})),n.d(t,"isCCDPresent",(function(){return Ze})),n.d(t,"launchCCD",(function(){return Ye})),n.d(t,"executeWorkflowViaCCDURI",(function(){return Xe})),n.d(t,"CCWamclient",(function(){return Qe}));const i={authenticate:"authenticate",getCurrentDevice:"getCurrentDevice",registerClient:"registerClient",clientMsg:"clientMsg"},r={sendCurrentDevice:"sendCurrentDevice",clientMsg:"clientMsg",clientStates:"clientStates",connect:"connect",error:"error",connectError:"connect_error",disconnect:"disconnect",reconnect:"reconnect"},o={offline:"offline",online:"online"},a={ccdDisconnect:"ccdDisconnect",online:"online",appsFocus:"appsFocus",windowFocus:"windowFocus"},s={ccdAppsState:{loading:"loading",loadingFailed:"loading_failed",loaded:"loaded",appRefreshedStarted:"appsRefreshStarted",cchDefault:"cchDefault"},appsPanelInstallAvailabilityStatus:"appsPanelInstallAvailabilityStatus",needConfirmation:"needConfirmation",closeConfirmation:"closeConfirmation",failed:"Failed",waiting:"Waiting",completed:"Completed",inprogress:"inProgress",appIncompatible:"AppIncompatible",appUnknown:"AppUnknown",cancelling:"Cancelling"},c="ui",l="engine",u="active_sessions",d="available_to_install",f="available_updates",p="incompatible",h="incompatibleWithCheckprevious",m="incompatible_apps",g="installed",v="updateAllConfirmation",y={fetchAppsListFromCCD:"getAppsAndServicesList",install:"install",update:"update",cancel:"cancel",retry:"retry",launch:"launch",startTrial:"startTrial",updateAll:"updateAll",uninstall:"uninstall",installModule:"installModule",cancelModule:"cancelModule",retryModule:"retryModule",uninstallModule:"uninstallModule"},b=2e3,_=1e4,S=1e4,w=1e4,C=18e4,k=5,F={noOfRetries:3,retryInterval:3e4},E={noOfRetries:20,retryInterval:1e3},$=12e3,x=60,T="http",A="http_ping",P="http_initiate_workflow",M="https",D="v1",I="v2",L={clientIdToAppName:{CCHomeWeb1:"CCHome",CCXWeb1:"AssetsWeb",ccweb_webapp:"Canvas",ccweb_webapp_preview:"Canvas",PSWebApp1:"PhotoshopWeb",SunbreakWebUI1:"AccountManagement",projectx_webapp:"ProjectX",adobedotcom2:"AdobeDotCom","adobedotcom-cc":"AdobeDotCom"},status:{success:"Success",failure:"Failure"},ccdStates:{ccdNotPresent:"ccd-not-present",signedIn:"signed-in",signedOut:"signed-out/self-update",userMismatch:"usermismatch"},browserIncompatibleForV2:"browser-incompatible",ccdIncompatibleForV2:"ccd-incompatible",wf:{v2:"V2",v1:"V1"}},N="v2ToV1",R="v1ToV2",O="onGetCurrentDevice",j="onCCDDetectionByClient",V="onClientRecvCCDAppsState",U="onReceiveCurrentDevice",B="onClientRegistratonWithWAM",W="onClientWAMConnection",z="onCommandProgress",H="onAppUnknown",q="onSuccessfulWamConnection",G="onConnectionFailureInConnectedClient",Z={ccdDetectTimeTaken:"ccd-detect-time-taken",clientWamConnectTimeTaken:"web-to-wam-connect-time-taken",clientWamAuthenticationTimeTaken:"web-to-wam-authenticate-time-taken",ccdTriggerTimeTaken:"ccd-trigger-time-taken",v1:{getCurrentDeviceTimeTaken:"get-current-device-time-taken",receiveCurrentDeviceTimeTaken:"receive-current-device-time-taken"},clientWamRegistrationTimeTaken:"client-wam-registration-time-taken"},Y={local:"https://localhost.adobe.com:3000",dev:"https://stage.wam.adobe.com",qe:"https://stage.wam.adobe.com",stage:"https://stage.wam.adobe.com",prod:"https://prod.wam.adobe.com"},X={stage:"https://cc-api-data-stage.adobe.io/ingest/",prod:"https://cc-api-data.adobe.io/ingest/"},K="cchome-web-service",J={local:"https://sqe-prstg-ffc.oobesaas.adobe.com",dev:"https://sqe-prstg-ffc.oobesaas.adobe.com",qe:"https://sqe-prstg-ffc.oobesaas.adobe.com",stage:"https://sqe-prstg-ffc.oobesaas.adobe.com",prod:"https://prod-rel-ffc-ccm.oobesaas.adobe.com"},Q={local:"https://cdn-stg-ffc.oobesaas.adobe.com",dev:"https://cdn-stg-ffc.oobesaas.adobe.com",qe:"https://cdn-stg-ffc.oobesaas.adobe.com",stage:"https://cdn-stg-ffc.oobesaas.adobe.com",prod:"https://cdn-ffc.oobesaas.adobe.com"},ee="TRIAL_ACTIVE",te="TRIAL_EXPIRED",ne="openDoc",ie="routePath";var re=n(158),oe=n.n(re);const ae={errors:{initContextUndefined:{code:201,desc:"InitContext is not defined"},envUndefined:{code:202,desc:"Service endpoint environment is not defined"},clientIdUndefined:{code:203,desc:"Client id is not defined"},accessTokenUndefined:{code:204,desc:"Access token is not defined"},accessTokenInvalid:{code:205,desc:"Access token is not valid"},callbacksUndefined:{code:206,desc:"Essential callbacks are not defined"},onSuccessCallbackUndefined:{code:207,desc:"On success callback is not defined"},onFailureCallbackUndefined:{code:208,desc:"On failure callback is not defined"},onMessageCallbackUndefined:{code:209,desc:"On message callback is not defined"},onClientStateCallbackUndefined:{code:210,desc:"On client state callback is not defined"},environmentInvalid:{code:211,desc:"Service endpoint environment is not valid"},wamIsNotInitialized:{code:212,desc:"WAM is not initialized"}}},se={errors:{ccdNotPresent:{code:101,desc:"Creative cloud desktop is not present"},ccdForWAMConnectionNotPresent:{code:102,desc:"Creative cloud desktop is not available to support WAM connection"},accessTokenInvalidOrExpired:{code:103,desc:"Access token is invalid or expired"},clientAndWAMConnectionTimeout:{code:104,desc:"Timeout occurs in connecting WAM from client"},clientFailedToRegisterAtWAM:{code:105,desc:"Client failed to register at WAM"},ccdConnectionTimeout:{code:106,desc:"Timeout in making connection with Creative cloud desktop via WAM"},userMismatch:{code:107,desc:"User is mismatched between client and Creative cloud desktop"},default:{code:100,desc:"Unable to connect with Creative Cloud Desktop"}}},ce={errors:{cmdContextUndefined:{code:301,desc:"Command context is not defined"},sapcodeUndefined:{code:302,desc:"Sapcode is not defined in command context"},versionUndefined:{code:303,desc:"Version is not defined in command context"},confirmationIdUndefined:{code:304,desc:"Confirmation Id is not defined in confirmation command context"},confirmationTypeUndefined:{code:305,desc:"Confirmation type is not defined in confirmation command context"},commandPayloadUndefined:{code:306,desc:"Command payload is not defined"},commandUndefined:{code:307,desc:"Command is not defined"},currentDeviceNotFound:{code:308,desc:"Creative Cloud app's deviceId state not detected"},commandNotSupported:{code:309,desc:"Command is not supported. Supported commands are ['install', 'launch', 'uninstall', 'update', 'retry', 'cancel']"},ccdDeepLinkWFUndefined:{code:310,desc:"Workflow name is undefined"},routePathUndefined:{code:311,desc:"routePath parameter is undefined"},docTypeUndefined:{code:312,desc:"DocType is undefined"},docPathUndefined:{code:313,desc:"DocPath is undefined"},uriUndefined:{code:314,desc:"URI is undefined"},CCDVersionError:{code:315,desc:"Newer version of CCD is required to support this feature."}}};n(30);var le=new class{getBrowserType(){const e=navigator.userAgent;let t,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(n[1]))return t=/\brv[ :]+(\d+)/g.exec(e)||[],{name:"IE",version:t[1]||""};if("Chrome"===n[1]&&(t=e.match(/\bOPR|Edge\/(\d+)/),null!=t))return{name:"Opera",version:t[1]};n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]);const i=parseInt(n[1],10);return"Firefox"===n[0]&&i>54?{name:"Firefox"}:"Chrome"===n[0]&&i>60?{name:"Chrome"}:{name:"Unknown"}}isBrowserSupportedForHttpPing(){const e=this.getBrowserType();return"Chrome"===e.name||"Firefox"===e.name}compareVersionNumbers(e,t){const n=e.split(".").map((e=>parseInt(e,10))),i=t.split(".").map((e=>parseInt(e,10))),r=n.length>i.length?n:i;for(let o=0;o<r.length;o++){if(void 0===n[o]?n[o]=0:void 0===i[o]&&(i[o]=0),n[o]>i[o])return 1;if(n[o]<i[o])return-1}return 0}getFFCPassphrase(e){return new Promise(((t,n)=>{const i=new XMLHttpRequest,r=`${J[e]}/adobe-ffc-external/core/v1/passphrase?passPhrase=${(new Date).getTime()}`;i.open("GET",r),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(200===i.status?t(i.responseText):n(`${i.status}: ${i.statusText}`))},i.send()}))}isMacOS(){return!!navigator.userAgent.toLowerCase().match("mac os x")}isWin(){return-1!==navigator.appVersion.indexOf("Win")}getMacVersion(){const e=navigator.userAgent.toLowerCase();if(e.match("mac os x")){let t,n=e.match(/mac os x (10[_|\.][0-9]+[_|\.][0-9]+)/);return n&&0!==n.length||(n=e.match(/mac os x (10[_|\.][0-9]+)/),n instanceof Array&&(n[1]+=".0")),n&&n.length>0&&(t=n[1],t=t.replace(/_/g,".")),t}return null}atob(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=String(e).replace(/[\t\n\f\r ]+/g,"");let n,i,r,o="{}";if(!/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/.test(e))return o;o="",e+="==".slice(2-(3&e.length));for(let a=0;a<e.length;)n=t.indexOf(e.charAt(a++))<<18|t.indexOf(e.charAt(a++))<<12|(i=t.indexOf(e.charAt(a++)))<<6|(r=t.indexOf(e.charAt(a++))),o+=64===i?String.fromCharCode(n>>16&255):64===r?String.fromCharCode(n>>16&255,n>>8&255):String.fromCharCode(n>>16&255,n>>8&255,255&n);return o}extractPayloadFromToken(e){if(!e)return!1;const t=e.split(".");let n;if(t&&t.length>2)try{n=JSON.parse(this.atob(t[1]))}catch(i){return!1}return n}uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}getChannelId(){const e=(new Date).getTime();return`${this.uuidv4()}-${e}`}checkCCDVersionRange(e,t,n){if(!e)return!1;const i=e.split(".");if(i&&i.length>=2){const e=parseInt(i[0]),r=parseInt(i[1]);if(isNaN(e)||isNaN(r))return!1;if(e>t)return!0;if(e===t&&r>=n)return!0}}getHeaders({accessToken:e,clientId:t,appId:n,setXAdobeAppId:i,contentType:r}){const o={};return o["x-api-key"]=t,o.Accept="application/json",e&&(o.Authorization=`Bearer ${e}`),r&&(o["content-type"]=r),i&&(o["x-adobe-app-id"]=n||t),o}checkWAMHealthStatus(e){const t=Y[e||"prod"];return new Promise(((e,n)=>{const i=new XMLHttpRequest,r=`${t}/health`;i.open("GET",r),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(200===i.status?e(!0):n(!1))},i.send()}))}encodeDecodeHandler(){const e=e=>(e=e||"")!==decodeURIComponent(e),t=(t,n)=>{if(!t)return t;const i={},r=t?Object.keys(t):[];for(let o=0;o<r.length;o++){const a=r[o],s=t[a];i[a]=n?e(s)?s:encodeURIComponent(s):e(s)?decodeURIComponent(s):s}return i};return{encode:e=>t(e,!0),decode:e=>t(e,!1)}}};var ue=new class{constructor(){if(this.instance)return this.instance;this.instance=this,this.appId=null,this.appType=null,this.clientId=null,this.accessToken=null,this.userContext={userId:null},this.callbacks={onSuccessCallbacks:[],onFailureCallbacks:[],onMessageCallbacks:[]},this.ccdConnection={error:null},this.isInitialized=!1,this.ccdDetectPromise=null,this.disconnectOnUserMismatch=!0,this.isLoggingEnabled=!1,this.sendAnalytics=!0,this.env="stage"}addCallbacks(e){e.onSuccessCallback&&(this.callbacks.onSuccessCallbacks=this.callbacks.onSuccessCallbacks||[],this.callbacks.onSuccessCallbacks.push(e.onSuccessCallback)),e.onFailureCallback&&(this.callbacks.onFailureCallbacks=this.callbacks.onFailureCallbacks||[],this.callbacks.onFailureCallbacks.push(e.onFailureCallback)),e.onMessageCallback&&(this.callbacks.onMessageCallbacks=this.callbacks.onMessageCallbacks||[],this.callbacks.onMessageCallbacks.push(e.onMessageCallback)),e.onClientStateCallback&&(this.callbacks.onClientStateCallbacks=this.callbacks.onClientStateCallbacks||[],this.callbacks.onClientStateCallbacks.push(e.onClientStateCallback)),e.onCCDDetectionCallback&&(this.callbacks.onCCDDetectionCallback=e.onCCDDetectionCallback),e.onCloseConfirmationCallback&&(this.callbacks.onCloseConfirmationCallback=e.onCloseConfirmationCallback),e.analyticsCallback&&(this.callbacks.analyticsCallback=e.analyticsCallback),e.clientTokenExpiryCheck&&(this.callbacks.clientTokenExpiryCheck||(this.callbacks.clientTokenExpiryCheck=e.clientTokenExpiryCheck)),e.onDisconnect&&(this.callbacks.onDisconnect||(this.callbacks.onDisconnect=e.onDisconnect))}initializeContext(e){return this.isInitialized?{status:!0}:e?e.env?e.clientId?e.callbacks?e.callbacks.onSuccessCallback?e.callbacks.onFailureCallback?e.callbacks.onMessageCallback?Y[e.env]?(this.appId=e.appId,this.appType=e.appType,this.env=e.env,this.clientId=e.clientId,this.isLoggingEnabled=e.isLoggingEnabled,"undefined"!==typeof e.sendAnalytics&&(this.sendAnalytics=e.sendAnalytics),"undefined"===typeof e.disconnectOnUserMismatch||null===e.disconnectOnUserMismatch?this.disconnectOnUserMismatch=!0:this.disconnectOnUserMismatch=e.disconnectOnUserMismatch,this.ccdConnection.error=null,this.addCallbacks(e.callbacks),this.isInitialized=!0,{status:!0}):{status:!1,error:ae.errors.environmentInvalid}:{status:!1,error:ae.errors.onMessageCallbackUndefined}:{status:!1,error:ae.errors.onFailureCallbackUndefined}:{status:!1,error:ae.errors.onSuccessCallbackUndefined}:{status:!1,error:ae.errors.callbacksUndefined}:{status:!1,error:ae.errors.clientIdUndefined}:{status:!1,error:ae.errors.envUndefined}:{status:!1,error:ae.errors.initContextUndefined}}initializeUserContext(e){if(!e||!e.accessToken)return{status:!1,error:ae.errors.accessTokenUndefined};this.accessToken=e.accessToken;const t=le.extractPayloadFromToken(e.accessToken);return t&&(this.userContext.userId=t.user_id),this.userContext.userId?(this.userContext.email=e.email,this.userContext.displayName=e.displayName,{status:!0}):{status:!1,error:ae.errors.accessTokenInvalid}}};const de=()=>{function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return`${e()+e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`},fe=(e,t,n,i)=>({connection:{userId:e,deviceId:i,clientInfo:{id:de(),clientType:c,listenTo:[l],userName:t,userEmail:n}}}),pe=(e,t,n,i)=>{const r=n||"dummy",o=i||"dummy";return{messages:[{id:de(),userContext:{userId:e,deviceId:t},clientType:c,msgType:"cc.command",msgContextId:`${r}_${o}`,msgBody:{sapCode:r,version:o,command:"getAppsAndServicesList"},autoContext:{timestamp:(new Date).getTime(),ttl:"medium"},apiVersion:1}]}},he=(e,t,n,i)=>{const r=n||"dummy",o=i||"dummy";return{messages:[{id:de(),userContext:{userId:e,deviceId:t},clientType:c,msgType:"cc.command",msgContextId:`${r}_${o}`,msgBody:{sapCode:r,version:o,command:"getAppsPanelInstallAvailabilityStatus"},autoContext:{timestamp:(new Date).getTime(),ttl:"medium"},apiVersion:1}]}};class me{constructor(){this.data={"ui.view_type":"App Inline","event.workflow":"bifrost-debug"}}build(){return this.data}subcategory(e){return this.data["event.subcategory"]=e,this}type(e){return this.data["event.type"]=e,this}subtype(e){return this.data["event.subtype"]=e,this}eventValue(e){return this.data["event.value"]=e,this}eventCount(e){return this.data["event.count"]=e,this}frameWork(e){return this.data["env.fw.name"]=e,this}contentName(e){return this.data["content.name"]=e,this}contentCategory(e){return this.data["content.category"]=e,this}contentExtension(e){return this.data["content.extension"]=e,this}viewType(e){return"undefined"!==typeof e&&(this.data["ui.view_type"]=e),this}errorType(e){return this.data["event.error_type"]=e,this}errorDesc(e){return this.data["event.error_desc"]=e,this}wamTimeProfile(e){return e?(this.data["wam.wamProfileTime"]=JSON.stringify(e),this):this}}var ge=new class{sendEvent({type:e,subtype:t,frameWork:n,eventValue:i,eventCount:r,errorType:o,errorDesc:a,contentName:s,contentCategory:c,contentExtension:l,uiViewType:u,wamTimeProfileData:d}){if(!ue.sendAnalytics)return;const f=(new me).type(e).subtype(t).eventValue(i).eventCount(r).frameWork(n).errorType(o).errorDesc(a).contentName(s).contentCategory(c).contentExtension(l).viewType(u).wamTimeProfile(d).build();(e=>{if(!ue.env)return;const t=ue.env||"stage",n=new XMLHttpRequest,i=`${X[t]}?api_key=cchome-web-service`;n.open("POST",i);const r=le.getHeaders({accessToken:ue.accessToken,clientId:K,contentType:"application/json"});for(const s in r)if(r.hasOwnProperty(s)){const e=r[s];n.setRequestHeader(s,e)}const o=(()=>{const e=new Date;let t="",n=-e.getTimezoneOffset();return n>=0?t="+":(t="-",n*=-1),t+=`0${parseInt(""+n/60)}`.slice(-2)+("0"+n%60).slice(-2),`${e.getFullYear()}-${`0${e.getMonth()+1}`.slice(-2)}-${`0${e.getDate()}`.slice(-2)}T${`0${e.getHours()}`.slice(-2)}:${`0${e.getMinutes()}`.slice(-2)}:${`0${e.getSeconds()}`.slice(-2)}.${(e.getMilliseconds()/1e3).toFixed(3).slice(2,5)}${t}`})(),a={events:[{time:o,project:K,environment:ue.env,ingesttype:"dunamis",data:Object.assign({"event.category":"WEB","event.dts_end":o,"event.guid":le.uuidv4(),"event.referrer":window.location.origin,"event.url":window.location.href,"event.user_agent":window.navigator.userAgent,"event.subcategory":"bifrost-debug"},e)}]};ue.userContext.userId&&(a.events[0].data["event.user_guid"]=ue.userContext.userId),ue.clientId&&(a.events[0].data["source.client_id"]=ue.clientId),n.send(JSON.stringify(a))})(f),d||ue.callbacks.analyticsCallback&&ue.callbacks.analyticsCallback(f)}trackTimeOnCompletion(e,t,n){this.sendEvent({type:"wamWF",subtype:t,eventValue:n,eventCount:e.toString()})}onCCDDetection(e,t){this.sendEvent({type:"ccd-detect",subtype:Z.ccdDetectTimeTaken,eventValue:t.toString(),contentName:e?"ccd-present":"ccd-not-present"})}onCCDNotSupportingWAM(){this.sendEvent({type:"wamWF",subtype:"ccd-not-supporting-wam"})}onExecuteWorkflow(e){this.sendEvent({type:"wamWF",subtype:`${e}-${L.clientIdToAppName[ue.clientId]||ue.clientId}`})}sendAnalytics(e){const t=e=>{this.sendEvent({type:e.eventName,subtype:e.subType,frameWork:e.workflow})},n=e=>{this.sendEvent({type:"api",subtype:"wam",eventValue:e.status,errorType:e.errorType,errorDesc:e.errorDesc})},i=e=>{this.sendEvent({type:"api",subtype:"get-current-device",eventValue:e.status})},r=e=>{this.sendEvent({type:"detect",subtype:"thor",eventValue:e.status})},o=e=>{this.sendEvent({type:"api",subtype:"receive-device-id",eventValue:e.status,errorType:e.errorType,errorDesc:e.errorDesc})},a=e=>{this.sendEvent({type:"api",subtype:"cch-registration-wam",eventValue:e.status,errorType:e.errorType,errorDesc:e.errorDesc})},s=e=>{this.sendEvent({type:"api",subtype:"thor-apps-state",eventValue:e.status,errorType:e.errorType,errorDesc:e.errorDesc})},c=e=>{this.sendEvent({type:e.commandName,subtype:e.commandStage,eventValue:e.eventValue,errorType:e.errorType,errorDesc:e.errorDesc,contentName:e.sapcode,contentCategory:"desktop",contentExtension:e.version,uiViewType:"App Inline:Install"})},l=e=>{this.sendEvent({type:"wamWF",subtype:"wam-time-taken",eventValue:e.eventValue})},u=()=>{this.sendEvent({type:"wamWF",subtype:"conn-failure-in-connected-client"})};switch(e.eventName){case N:case R:t(e);break;case W:n(e);break;case O:i(e);break;case j:r(e);break;case U:o(e);break;case B:a(e);break;case V:s(e);break;case z:case H:c(e);break;case q:l(e);break;case G:u()}}};var ve=new class{getAAMPlugin(){let e=null;if(navigator&&navigator.plugins&&(e=Object.values(navigator.plugins).find((e=>e&&e.name&&e.name.toLowerCase().indexOf("adobeaamdetect")>-1))),!e&&"IE"===le.getBrowserType().name)try{e=new ActiveXObject("AdobeAAMDetect.AdobeAAMDetect")}catch(t){return null}return e}getAAMPluginVersion(){let e=null,t=null;navigator&&navigator.plugins&&(t=Object.values(navigator.plugins).find((e=>e&&e.name&&e.name.toLowerCase().indexOf("adobeaamdetect")>-1)),t&&t.description&&(e=t.description.match(/[0-9]_[0-9]_[0-9]_[0-9]/i),e&&e[0]&&(e=e[0].replace(/_/g,"."))));const n=-1!==navigator.userAgent.indexOf("MSIE")||!0===!!document.documentMode;if(!t&&n)try{t=new ActiveXObject("AdobeAAMDetect.AdobeAAMDetect"),t&&t.version&&(e=t.version.match(/[0-9].[0-9].[0-9].[0-9]/i),e&&e[0]&&(e=e[0]))}catch(i){return null}return e}aamPluginSupportsAmpersand(){const e=this.getAAMPluginVersion();return e&&le.compareVersionNumbers(e,"3.0.0.0")>=0}checkForCCD(e){const t=(t,n)=>{let i=0;const r=n&&n.portToConnectWithCCD&&n.portToConnectWithCCD.length>0?n.portToConnectWithCCD:["15292","35691","57921"];let o,a=0,s=!1;function c(t){let n="/stage/";const i=e&&e.env;return"undefined"!==typeof i&&"prod"===i&&(n="/"),`https://detect.ffc.adobeoobe.com:${t}${n}cc.png?arg=${Math.random()}`}function l(e,t){return t.pingType===A?`http://127.0.0.1:${e}/cc.png?type=${t.pingType}&arg=${Math.random()}`:t.pingType===P?`http://127.0.0.1:${e}/cc.png?type=${t.pingType}&channelGuid=${t.channelGuid}&arg=${Math.random()}`:void 0}o=setTimeout((()=>{u(!1)}),1e4);const u=e=>{o&&(clearTimeout(o),o=null),s=!0,t(e)},d=()=>{u(!0)},f=()=>{a++,a===r.length&&u(!1)},p=()=>{u(!1)},h=[];for(;i<r.length;){if(h[i]=document.createElement("img"),!n||n.pingType!==A&&n.pingType!==P||(h[i].referrerPolicy="origin"),h[i].src=n&&n.pingType?l(r[i],n):c(r[i]),h[i].fetchPriority="high",h[i].onload=d,h[i].onerror=f,h[i].onexception=p,self&&self.crossOriginIsolated&&(h[i].crossOrigin="anonymous"),s)return;i++}};return new Promise((n=>{const i={},r=["15393","35692","57922"],o=["16494","35693","57923"];e&&e.version===D?(i.portToConnectWithCCD=r,t(n,i)):e&&e.version===I&&e.pingType===A?(i.portToConnectWithCCD=o,i.pingType=A,t(n,i)):e&&e.version===I&&e.pingType===P?(i.portToConnectWithCCD=o,i.pingType=P,i.channelGuid=e.channelGuid,t(n,i)):this.getAAMPlugin()?n(!0):t(n)}))}};var ye=new class{reset(){this.client="Web",this.shouldSendEvent=!1,this.stepsAndTime={timeTakenInCCDDetect:-1,timeTakenToCheckHttpPing:-1,webToWAMConnectTime:-1,timeTakenInGetCurrentDevice:-1,timeTakenInRevCurrentDeviceFromCCD:-1,timeTakenInWAMV1DetectCall:-1,timeTakenInWAMV2InitiateCall:-1,authenticationTime:-1,webClientRegistrationTime:-1,timeTakenInReceivingAppsList:-1}}sendEvent(){this.shouldSendEvent&&(ue.ccdDetectPromise||(ue.ccdDetectPromise=Ze({env:ue.env})),ue.ccdDetectPromise.then((e=>{if(e){const e=e=>{const t=Object.assign({},e);return delete t.startTime,delete t.shouldSendEvent,e.wf===L.wf.v2?(delete t.stepsAndTime.timeTakenInGetCurrentDevice,delete t.stepsAndTime.timeTakenInRevCurrentDeviceFromCCD,delete t.stepsAndTime.timeTakenInWAMV1DetectCall):delete t.stepsAndTime.timeTakenInWAMV2InitiateCall,t};ge.sendEvent({type:"wam",subtype:"wam-time-profile",wamTimeProfileData:e(this)})}})))}},be=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(t){o(t)}}function s(e){try{c(i.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};let _e,Se,we;var Ce=new class{constructor(){if(this.instance)return this.instance;this.instance=this,this.environment=null}isCCDAppsPanelLoaded(){return Oe()===s.ccdAppsState.loaded}isCCDAppsPanelLoading(){return Oe()===s.ccdAppsState.appRefreshedStarted||Oe()===s.ccdAppsState.loading}isCCDAppListPresent(){return null!==Ie()}areClientsConnected(){return $e.isCCHReadyToRecvData()&&this.isCCDAppsPanelLoaded()}areClientsConnectedOrAppsPanelLoading(){return $e.isCCHReadyToRecvData()&&(this.isCCDAppsPanelLoaded()||this.isCCDAppsPanelLoading())}printLog(e){ue.isLoggingEnabled&&console.log(e)}appendSourceInDesc(e){return $e.sourceOFWAMConnection?`${e} | source: ${$e.sourceOFWAMConnection}`:e}isTokenValid(){if(ue.callbacks.clientTokenExpiryCheck){const e=ue.callbacks.clientTokenExpiryCheck();if("undefined"!==typeof e&&null!==e)return e}return!0}shouldSendAnalytics(e){return e.sendAnalytics}sendAnalyticsOnTimeout(e){if($e.doesCCDSupportInline){const t=$e.currentDevice&&$e.currentDevice.deviceId,n=this.areClientsConnected(),i=$e.isWebClientRegistered;if(!ue.ccdConnection.error&&(ue.ccdConnection.error=se.errors.ccdConnectionTimeout.desc),!n&&!$e.wamConnectionAnalyticsParams.recvCCDAppsState){const n=this.appendSourceInDesc(`timeout on client side. Apps state:${Oe()}. Current Device ${t?"received":"not received"}. CCH ${i?"registered":"not registered"}`);this.printLog(n),this.shouldSendAnalytics(e)&&ge.sendAnalytics({eventName:V,status:"false",errorType:"timeout",errorDesc:n}),$e.wamConnectionAnalyticsParams.recvCCDAppsState="timeout"}if(!t&&!$e.wamConnectionAnalyticsParams.recvDeviceId){const t=this.appendSourceInDesc("timeout on client side for receive current device");this.printLog(t),this.shouldSendAnalytics(e)&&ge.sendAnalytics({eventName:U,status:"false",errorType:"timeout",errorDesc:t})}if(!i&&!$e.wamConnectionAnalyticsParams.webappRegistered){const t=this.appendSourceInDesc("timeout on client side for CCH registration");this.printLog(t),this.shouldSendAnalytics(e)&&ge.sendAnalytics({eventName:B,status:"false",errorType:"timeout",errorDesc:t})}}else this.shouldSendAnalytics(e)&&ge.onCCDNotSupportingWAM(),this.printLog("CCD is not supporting inline")}exitFromWamWorkflow(e){this.printLog("Exiting from WAM Workflow"),this.sendAnalyticsOnTimeout(e)}waitAsConnectionInProgress(e){let t=!0;return void 0!==e.isLongWaitingEnabled&&(t=e.isLongWaitingEnabled),!t&&e.timeout&&we?new Promise((t=>{const n=setTimeout((()=>{clearInterval(r),this.printLog("Cleared the connection check interval"),this.areClientsConnected()?t(!0):(e.exitConnection&&$e.destroySocket(),t(!1))}),e.timeout);let i=1;const r=setInterval((()=>this.areClientsConnected()?(clearTimeout(n),clearInterval(r),this.printLog("Resolving the promise and clearing the interval"),void t(!0)):i===E.noOfRetries?(clearInterval(r),void this.printLog("Cleared the connection check interval")):void i++),E.retryInterval)})):null}initCCDConnectionForWAM(e){const t=[];let n=!0;void 0!==e.isLongWaitingEnabled&&(n=e.isLongWaitingEnabled);let i;if(this.isTokenValid()&&!we){we=!0,i=!1;const r=new Promise((t=>{if(this.areClientsConnectedOrAppsPanelLoading())return this.printLog("CCH and CCD are connected or CCD apps panel is loading"),void t(!0);this.printLog("CCH and CCD are not connected, hence destroying the current socket");const i=()=>{$e.destroySocket(),$e.init(n).then((e=>t(e)))};if(e.pingType===T){const t={pingType:P,version:I,channelGuid:le.getChannelId(),env:ue.env};$e.channelGuid=t.channelGuid,ve.checkForCCD(t).then((t=>{ge.sendAnalytics({eventName:R,workflow:I,subType:"v2-workflow"}),ye.stepsAndTime.timeTakenInWAMV2InitiateCall=(new Date).getTime()-ye.startTime,ye.wf=L.wf.v2,t?(this.shouldSendAnalytics(e)&&ge.sendAnalytics({eventName:j,status:"true"}),i()):(ge.sendAnalytics({eventName:N,workflow:D,subType:"thor-incompatible"}),ye.wf=L.wf.v1,ye.reasonToGoWithV1=L.ccdIncompatibleForV2,e.pingType=M,i())}))}else i()})).then((t=>t?this.areClientsConnectedOrAppsPanelLoading()?(this.printLog("CCH and CCD are already connected"),t):(this.printLog("Sending WAM event true"),ge.sendAnalytics({eventName:W,status:"true"}),$e.reset(),e.pingType===T?$e.executeWAMV2Workflow(n,e):$e.executeWAMV1Workflow(n,e)):(this.printLog("Connection with WAM couldn't be established"),!1))).then((t=>(!1===i&&(this.printLog(""+(t?"Connection established":"Connection could not established")),t||(this.exitFromWamWorkflow(e),$e.destroySocket())),we=!1,i=!0,t))).catch((()=>(!1===i&&(this.printLog("Connection could not established"),this.exitFromWamWorkflow(e),$e.destroySocket()),we=!1,i=!0,!1)));t.push(r)}const r=this.waitAsConnectionInProgress(e);return r&&(r.then((()=>{!1===i&&(this.printLog("Timeout occurs"),this.sendAnalyticsOnTimeout(e)),we=!1,i=!0})),t.push(r)),0===t.length&&t.push(new Promise((e=>e(!1)))),Promise.race(t)}shouldRefreshCCHOnCCDDetection(e,t){!e&&t.retryWAMConnection&&(_e||(Se=0,t.sendAnalytics=!1,_e=setInterval((()=>{this.initCCDConnectionForWAM(t).then((e=>{e?clearInterval(_e):(Se++,Se>=x&&clearInterval(_e))}))}),$)))}triggerCCDByPingType(e,t,n){void 0===e.sendAnalytics&&(e.sendAnalytics=!0),e.pingType=t,this.initCCDConnectionForWAM(e).then((t=>{t&&(ye.stepsAndTime.timeTakenInReceivingAppsList=(new Date).getTime()-ye.startTime),n(t),this.shouldRefreshCCHOnCCDDetection(t,e)}))}initCCDConnection(e){return this.printLog(e),ye.reset(),ue.ccdConnection={error:null},new Promise((t=>be(this,void 0,void 0,(function*(){if(!window.navigator.onLine)return void t(!1);if(this.areClientsConnected()){try{const e=yield $e.checkWAMHealthStatus();t(e)}catch(i){this.printLog(`WAM health call is failing in initCCDConnection, health status call is ${i}`),ge.sendAnalytics({eventName:G}),t(!1)}return}const n=this.waitAsConnectionInProgress(e);if(n)return we=!1,void n.then((e=>{t(e)}));ye.shouldSendEvent=!0,ye.subClient=L.clientIdToAppName[ue.clientId]||ue.clientId,ye.subClient||(ye.subClient="not-known"),ye.startTime=(new Date).getTime(),ye.timeStamp=(new Date).toString(),le.isBrowserSupportedForHttpPing()?performance&&performance.getEntriesByType("navigation")[0]&&"reload"===performance.getEntriesByType("navigation")[0].type?setTimeout((()=>{ye.startTime=(new Date).getTime(),ye.timeStamp=(new Date).toString(),this.triggerCCDByPingType(e,T,t)}),500):this.triggerCCDByPingType(e,T,t):(ge.sendAnalytics({eventName:N,workflow:D,subType:"browser-incompatible"}),ye.wf=L.wf.v1,ye.reasonToGoWithV1=L.browserIncompatibleForV2,this.triggerCCDByPingType(e,M,t))}))))}},ke=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(t){o(t)}}function s(e){try{c(i.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};let Fe,Ee;var $e=new class{constructor(){if(this.instance)return this.instance;this.instance=this,this.wamConnectionAnalyticsParams={recvCCDAppsState:"failure",recvDeviceId:"failure",webappRegistered:"failure"},this.doesCCDSupportInline=null,this.sourceOFWAMConnection=null,this.onClientMessageHooks={},window&&window.addEventListener(o.offline,(()=>this.destroySocket())),window&&window.addEventListener(o.online,(()=>{this.reconnectToCCD(a.online)}))}reconnectToCCD(e,t){return ke(this,void 0,void 0,(function*(){if(this.sourceOFWAMConnection)return void Ce.printLog(`Ignoring reconnect to CCD attempt for: ${e}, as it is being exeucted by: ${this.sourceOFWAMConnection} or already connected.`);if(!window.navigator.onLine)return void this.destroySocket();if(!Ce.isTokenValid())return void this.destroySocket();if(Ce.areClientsConnected()){try{yield this.checkWAMHealthStatus(),this.sourceOFWAMConnection=null,Ce.printLog(`${e} event is ignored as clients are already connected`)}catch(n){this.destroySocket()}return}new Promise(((n,i)=>{this.sourceOFWAMConnection=e,Ce.printLog(`Pinging CCD as CCD disconnected, source type: ${e}`),Ce.initCCDConnection(t||{timeout:w});let r=1;const o=setInterval((()=>Ce.areClientsConnected()?(clearInterval(o),Ce.printLog(`Connection with CCD established, source type: ${e}`),void n(!0)):r===F.noOfRetries?(clearInterval(o),Ce.printLog(`Connection with CCD couldn't be established, source type: ${e}`),void i(!1)):(Ce.printLog(`Pinging CCD as CCD disconnected, source type: ${e}`),Ce.initCCDConnection(t||{timeout:w}),void r++)),F.retryInterval)})).then((()=>{this.sourceOFWAMConnection=null})).catch((()=>{this.sourceOFWAMConnection=null}))}))}init(e){if(this.socket&&this.socket.connected)return new Promise((e=>{Ce.printLog("Socket is already connected"),this.socket.connected?e(!0):e(!1)}));const t=e=>{this.destroySocket(),this.socket=this.socket=oe.a.connect(Y[ue.env],{path:"/v2/ws",reconnection:!1,transports:["websocket"],query:`api_key=${ue.clientId}`}),this.setErrorCallback(e),this.setConnectErrorCallback(e)},n=e=>{this.reset(),this.removeEvents(),this.setCallbackForClientState(),this.setCallbackForClientMsg(),this.setDisconnectionCallback(),this.socket.connected?e(!0):e(!1)};return new Promise((o=>{const a=(new Date).getTime();if(t(o),!this.socket)return void o(!1);setTimeout((()=>{this.socket&&this.socket.connected||(Ce.printLog("Connection of client with WAM couldn't be established"),!ue.ccdConnection.error&&(ue.ccdConnection.error=se.errors.clientAndWAMConnectionTimeout.desc),o(!1))}),e?C:2e4),Ce.printLog("New socket has been initialized"),this.socket.on(r.connect,(()=>{Ce.printLog("Socket on connect is called");const e=(new Date).getTime(),t=e-a;ye.stepsAndTime.webToWAMConnectTime=t,ge.trackTimeOnCompletion(t,Z.clientWamConnectTimeTaken),this.socket.emit(i.authenticate,{authorization:`${ue.accessToken}`,"x-adobe-app-id":ue.clientId},(t=>{const i=(new Date).getTime()-e;ge.trackTimeOnCompletion(i,Z.clientWamAuthenticationTimeTaken,t.authenticated),ye.stepsAndTime.authenticationTime=i,t.authenticated?(Ce.printLog("CreativeCloudHome connection is authenticated"),n(o)):(!ue.ccdConnection.error&&(ue.ccdConnection.error=se.errors.accessTokenInvalidOrExpired.desc),o(!1))}))}))}))}disconnect(){this.socket&&this.socket.connected&&this.socket.disconnect(),this.reset(),this.removeEvents()}reset(){this.currentDevice=null,this.isWebClientRegistered=null,this.wamConnectionAnalyticsParams={recvCCDAppsState:"failure",recvDeviceId:"failure",webappRegistered:"failure"},this.doesCCDSupportInline=null,Ue()}destroySocket(){this.socket&&(this.reset(),this.removeEvents(),this.socket.off(r.connect),this.socket.off(r.error),this.socket.off(r.connectError),Fe=0,this.socket.disconnect(),this.socket=null)}removeEvents(){this.socket&&(this.socket.off(r.clientMsg),this.socket.off(r.sendCurrentDevice),this.socket.off(r.clientStates))}isCCHReadyToRecvData(){return this.socket&&this.socket.connected&&this.currentDevice&&this.isWebClientRegistered}setErrorCallback(e){this.socket&&(this.socket.hasListeners(r.error)||this.socket.on(r.error,(t=>{Ce.printLog("Error received from socket"),this.sendAnalyticsInErrState("error",t),le.checkWAMHealthStatus(ue.env).then((()=>{Fe=Fe||0,Fe>=k&&(this.destroySocket(),e(!1)),Fe++})).catch((()=>e(!1)))})))}sendAnalyticsInErrState(e,t){let n=t;t&&"string"!==typeof t&&(n=JSON.stringify(t)),n||(n="unknown"),n=Ce.appendSourceInDesc(n),Ce.printLog(`socket error desc ${n}`),Ee||(ge.sendAnalytics({eventName:W,status:"false",errorType:e,errorDesc:n}),Ee=!0)}setConnectErrorCallback(e){this.socket&&(this.socket.hasListeners(r.connectError)||this.socket.on(r.connectError,(t=>{Ce.printLog("Connect_error received from socket"),this.sendAnalyticsInErrState("timeout",t),this.destroySocket(),e(!1)})))}setDisconnectionCallback(){this.socket&&(this.socket.hasListeners(r.disconnect)||this.socket.on(r.disconnect,(e=>{Ce.printLog(`socket disconnected due to: ${e}`),this.reset(),this.removeEvents(),ue.callbacks.onDisconnect&&ue.callbacks.onDisconnect()})))}verifyCCDStateAndRegisterCallback({wamConfig:e,isLongWaitingEnabled:t,resolve:n,reject:i}){if(Ce.areClientsConnected())return Ce.printLog("Sending analytics true for CCD apps state. Got success in first attempt"),Ce.shouldSendAnalytics(e)&&ge.sendAnalytics({eventName:V,status:"true"}),this.wamConnectionAnalyticsParams.recvCCDAppsState="success",void n(!0);const r=setTimeout((()=>{Ce.areClientsConnected()||(!ue.ccdConnection.error&&(ue.ccdConnection.error=se.errors.ccdConnectionTimeout.desc),i(!1))}),t?C:2e4);this.onCCDAppsStatusLoaded=()=>{Ce.areClientsConnected()&&(Ce.printLog("Sending analytics true for CCD apps state"),Ce.shouldSendAnalytics(e)&&ge.sendAnalytics({eventName:V,status:"true"}),this.wamConnectionAnalyticsParams.recvCCDAppsState="success",Ce.printLog("Received CCD app state response"),n(!0)),this.onCCDAppsStatusLoaded=null,clearTimeout(r)}}executeWAMV1Workflow(e,t){return new Promise(((n,o)=>{if(!this.socket)return void o(!1);this.verifyCCDStateAndRegisterCallback({wamConfig:t,isLongWaitingEnabled:e,resolve:n,reject:o}),Ce.printLog(`channelGuid: ${this.channelGuid}`),ye.id=ue.userContext.userId;const a=(new Date).getTime();this.socket.emit(i.getCurrentDevice,(e=>{const n=(new Date).getTime()-a;if(ge.trackTimeOnCompletion(n,Z.v1.getCurrentDeviceTimeTaken),ye.stepsAndTime.timeTakenInGetCurrentDevice=n,Ce.printLog(`getCurrentDevice response: ${e}`),this.socket.hasListeners(r.sendCurrentDevice)||this.socket.on(r.sendCurrentDevice,(e=>{const n=(new Date).getTime()-a;if(ge.trackTimeOnCompletion(n,Z.v1.receiveCurrentDeviceTimeTaken),ye.stepsAndTime.timeTakenInRevCurrentDeviceFromCCD=n,!e)return this.wamConnectionAnalyticsParams.recvDeviceId="failure",Ce.shouldSendAnalytics(t)&&ge.sendAnalytics({eventName:U,status:"false",errorType:"error",errorDesc:Ce.appendSourceInDesc("CCD failed to respond")}),void o(!1);this.wamConnectionAnalyticsParams.recvDeviceId="success",Ce.shouldSendAnalytics(t)&&ge.sendAnalytics({eventName:U,status:"true"}),Ce.printLog("sendCurrentDevice response: "+(e?"successful":"unsuccessful")),this.currentDevice=e.currentDevice;const r=(new Date).getTime(),s=pe(ue.userContext.userId,this.currentDevice.deviceId),c=he(ue.userContext.userId,this.currentDevice.deviceId);if(this.isCCHReadyToRecvData())Ce.printLog("CCHome is already registered, hence sending request for AppsPanel status"),this.socket.emit(i.clientMsg,c),Ce.printLog("CCHome is already registered, hence sending request for CCD apps state"),this.socket.emit(i.clientMsg,s);else{const e=fe(ue.userContext.userId,ue.userContext.displayName,ue.userContext.email,this.currentDevice.deviceId);this.socket.emit(i.registerClient,e,(e=>{const n=(new Date).getTime()-r;if(ge.trackTimeOnCompletion(n,Z.clientWamRegistrationTimeTaken,e),ye.stepsAndTime.webClientRegistrationTime=n,Ce.printLog(`Register reponse: ${e}`),e)return this.isWebClientRegistered=!0,Ce.printLog(`Sending analytics for CCH registration with WAM: ${e}`),Ce.shouldSendAnalytics(t)&&ge.sendAnalytics({eventName:B,status:"true"}),this.wamConnectionAnalyticsParams.webappRegistered="success",Ce.printLog("CCHome is registered, hence sending request for AppsPanel status"),this.socket.emit(i.clientMsg,c),void this.socket.emit(i.clientMsg,s);!ue.ccdConnection.error&&(ue.ccdConnection.error=se.errors.clientFailedToRegisterAtWAM.desc),o(!1)}))}})),e){Ce.shouldSendAnalytics(t)&&ge.sendAnalytics({eventName:O,status:"true"});const e={pingType:"thor",version:D,env:ue.env},n=(new Date).getTime();ve.checkForCCD(e).then((e=>{const i=(new Date).getTime()-n;if(ge.trackTimeOnCompletion(i,Z.ccdTriggerTimeTaken,e.toString()),ye.stepsAndTime.timeTakenInWAMV1DetectCall=i,this.doesCCDSupportInline=e,ye.ccdState=e?L.ccdStates.signedIn:L.ccdStates.signedOut,!e)return Ce.shouldSendAnalytics(t)&&ge.sendAnalytics({eventName:j,status:"false"}),!ue.ccdConnection.error&&(ue.ccdConnection.error=se.errors.ccdForWAMConnectionNotPresent.desc),void o(!1);Ce.shouldSendAnalytics(t)&&ge.sendAnalytics({eventName:j,status:"true"}),Ce.printLog(`CCD ping response: ${e}`)}))}else Ce.shouldSendAnalytics(t)&&ge.sendAnalytics({eventName:O,status:"false"})}))}))}executeWAMV2Workflow(e,t){return new Promise(((n,r)=>{if(!this.socket)return void r(!1);this.verifyCCDStateAndRegisterCallback({wamConfig:t,isLongWaitingEnabled:e,resolve:n,reject:r}),Ce.printLog(`channelGuid: ${this.channelGuid}`),ye.id=this.channelGuid,ye.ccdState=L.ccdStates.signedIn,this.currentDevice={deviceId:this.channelGuid};const o=(new Date).getTime(),a=pe(ue.userContext.userId,this.currentDevice.deviceId),s=he(ue.userContext.userId,this.currentDevice.deviceId);if(this.isCCHReadyToRecvData())Ce.printLog("CCHome is already registered, hence sending request for AppsPanel status"),this.socket.emit(i.clientMsg,s),Ce.printLog("CCHome is already registered, hence sending request for CCD apps state"),this.socket.emit(i.clientMsg,a);else{const e=fe(ue.userContext.userId,ue.userContext.displayName,ue.userContext.email,this.currentDevice.deviceId);this.socket.emit(i.registerClient,e,(e=>{const n=(new Date).getTime()-o;if(ge.trackTimeOnCompletion(n,Z.clientWamRegistrationTimeTaken,e),ye.stepsAndTime.webClientRegistrationTime=n,Ce.printLog(`Register reponse: ${e}`),e)return this.isWebClientRegistered=!0,Ce.printLog(`Sending analytics for CCH registration with WAM: ${e}`),Ce.shouldSendAnalytics(t)&&ge.sendAnalytics({eventName:B,status:"true"}),this.wamConnectionAnalyticsParams.webappRegistered="success",Ce.printLog("CCHome is registered, hence sending request for AppsPanel status"),this.socket.emit(i.clientMsg,s),void this.socket.emit(i.clientMsg,a);!ue.ccdConnection.error&&(ue.ccdConnection.error=se.errors.clientFailedToRegisterAtWAM.desc),r(!1)}))}}))}setCallbackForClientMsg(){this.socket&&(this.socket.hasListeners(r.clientMsg)||this.socket.on(r.clientMsg,(e=>{e&&e.messages&&e.messages.forEach((e=>{e&&e.msgBody&&ue.callbacks.onMessageCallbacks&&ue.callbacks.onMessageCallbacks.forEach((t=>{if(e.msgBody.status&&e.msgBody.status.status){if(this.onClientMessageHooks[e.msgBody.status.status]){(0,this.onClientMessageHooks[e.msgBody.status.status])(),this.onClientMessageHooks[e.msgBody.status.status]=null}je(e.msgBody.status),e.msgBody.status.status===s.ccdAppsState.loaded&&(Ne(e),Le(e),this.onCCDAppsStatusLoaded&&this.onCCDAppsStatusLoaded())}t(e)}))}))})))}setCallbackForClientState(){this.socket&&(this.socket.hasListeners(r.clientStates)||this.socket.on(r.clientStates,(e=>{Ce.printLog(e),e&&e.clientStates&&e.clientStates.forEach((e=>{if(ue.callbacks.onClientStateCallbacks&&ue.callbacks.onClientStateCallbacks.forEach((t=>{t(e)})),Ce.printLog(e),null!==this.currentDevice&&e.deviceId===this.currentDevice.deviceId&&e.clientType===l){if(e.userMismatch&&ue.disconnectOnUserMismatch){Ce.printLog("Disconnecting as user is mismatched");const e="Usermismatch on client side";return ge.sendAnalytics({eventName:V,status:"false",errorType:"usermismatch",errorDesc:e}),!ue.ccdConnection.error&&(ue.ccdConnection.error=se.errors.userMismatch.desc),this.wamConnectionAnalyticsParams.recvCCDAppsState="usermismatch",ye.ccdState=L.ccdStates.userMismatch,void this.disconnect()}!1===e.connected&&(this.disconnect(),this.reconnectToCCD(a.ccdDisconnect))}}))})))}checkWAMHealthStatus(){return new Promise(((e,t)=>{const n=he(ue.userContext.userId,this.currentDevice.deviceId);this.onClientMessageHooks[s.appsPanelInstallAvailabilityStatus]=((e,t,n)=>{let i=!1;const r=setTimeout((()=>{i||(i=!0,t())}),n);return(...t)=>{i||(i=!0,clearTimeout(r),e.apply(this,t))}})((()=>{e(!0)}),(()=>{t(!1)}),b),this.socket.emit(i.clientMsg,n)}))}};const xe={};let Te,Ae,Pe,Me=s.ccdAppsState.cchDefault,De=null;const Ie=()=>Te,Le=e=>{if(!e||!e.msgBody||!e.msgBody.status)return;const t=e.msgBody.status;try{Te=JSON.parse(t.listingDetails)}catch(n){Ce.printLog("Error in parsing product list data from CCD")}},Ne=e=>{Pe=e},Re=()=>Pe,Oe=()=>Me,je=e=>{if(e&&e.status)switch(e.status){case s.ccdAppsState.loading:case s.ccdAppsState.appRefreshedStarted:case s.ccdAppsState.loadingFailed:case s.ccdAppsState.loaded:Me=e.status;break;case s.appsPanelInstallAvailabilityStatus:De=e.appsPanelHidden}},Ve=(e,t)=>{$e.socket&&$e.socket.emit(e,t)},Ue=()=>{Me=s.ccdAppsState.cchDefault},Be=e=>{Ce.printLog(e);if(Te&&(Te[v]=[]),e.msgBody){const n=e.msgBody.status;switch(n.status){case s.appsPanelInstallAvailabilityStatus:return void(De=n.appsPanelHidden);case s.ccdAppsState.loading:case s.ccdAppsState.appRefreshedStarted:return void(Me=n.status);case s.ccdAppsState.loadingFailed:case s.ccdAppsState.loaded:return(e=>{if(e&&e.command===y.fetchAppsListFromCCD&&e.status===s.ccdAppsState.loaded){const t=JSON.parse(e.listingDetails);if(t&&(Te=t,ue.ccdVersion=Te.clientVersion,e.confirmationDetails&&e.confirmationDetails.confirmationSAPCode&&e.confirmationDetails.confirmationVersion)){const t=We(Te,e.confirmationDetails.confirmationSAPCode,e.confirmationDetails.confirmationVersion);t.confirmationDetails=e.confirmationDetails,t.status=s.needConfirmation}}else if(e&&e.status===s.ccdAppsState.loadingFailed){Te=null;const e=Ce.appendSourceInDesc(`CreativeCloudDesktop failed to respond loaded status. Apps state:${s.ccdAppsState.loadingFailed}`);ge.sendAnalytics({status:"false",errorDesc:e}),ge.sendAnalytics({eventName:V,status:"false",errorType:"error",errorDesc:e}),Ce.printLog(e)}Me=e.status})(n),Te;case s.closeConfirmation:if(n.confirmationDetails&&n.confirmationDetails.confirmationID){const e=We(Te,null,null,n.confirmationDetails.confirmationID);e&&(e.status=null),ue.callbacks.onCloseConfirmationCallback&&ue.callbacks.onCloseConfirmationCallback(n.confirmationDetails.confirmationID)}return}const i=e.msgBody.sapCode,r=e.msgBody.version,o=We(Te,i,r);if(o){if(n.command===y.installModule||n.command===y.uninstallModule)return((e,t,n)=>{const i=e.module_list.filter((e=>e.id===n));if(0===i.length)return;const r=i[0],o=t?Object.keys(t):[];for(let a=0;a<o.length;a++){const e=o[a],n=t[e];r[e]=n}})(o,n,e.msgBody.moduleId),Te;switch(o.showRetryBtn=!1,o.action=n.command,o.status=n.status,(e=>{const t=`${e.sapcode}_${e.version}`,n="start",i=i=>{let r;switch(i){case n:case"end":r=xe[t];break;case s.cancelling.toLowerCase():r=e.totalProgressPercent||s.waiting}ge.sendAnalytics({eventName:z,sapcode:e.sapcode,version:e.version,commandName:e.action,commandStage:i,eventValue:r})};if(e){if(e.totalProgressPercent&&e.status&&e.status===s.inprogress){const r=parseInt(e.totalProgressPercent);if(r>=0&&r<=20){if("0"===xe[t])return;xe[t]="0",i(n)}else if(r>=25&&r<=40){if("25"===xe[t])return;xe[t]="25",i(n)}else if(r>=50&&r<=65){if("50"===xe[t])return;xe[t]="50",i(n)}else if(r>=75&&r<=90){if("75"===xe[t])return;xe[t]="75",i(n)}}if(e.status&&e.status===s.completed){if("100"===xe[t])return;xe[t]="100",i("end")}e.status&&e.status===s.cancelling&&i(s.cancelling.toLowerCase())}})(o),n.status){case s.waiting:o.cancelable=n.cancelable;break;case s.inprogress:if(o.totalProgressPercent=n.totalProgressPercent,o.totalProgressPercent||(o.totalProgressPercent=n.total_progress_percent),o.cancelable=n.cancelable,n.modules)try{o.modules=JSON.parse(n.modules)}catch(t){Ce.printLog("Error in parsing modules data")}break;case s.needConfirmation:if(!n.confirmationDetails)return;o.confirmationDetails=n.confirmationDetails;break;case s.failed:n.errorDetails&&n.errorDetails.errorCode&&(o.showRetryBtn=!0,o.error_details||(o.error_details={}),o.error_details.error_code=n.errorDetails.errorCode);break;case s.completed:o.stateCategory===g&&n.command===y.startTrial&&("True"===n.trialDetails.isProductInTrial?(o.entitlement_info={status:ee,trialDaysRemaining:n.trialDetails.trialDaysRemaining},o.launchable="true"):"True"===n.trialDetails.isTrialExpired&&(o.entitlement_info={status:te}))}}else if(i&&r&&n.status&&n.status===s.appUnknown)ge.sendAnalytics({eventName:H,sapcode:i,version:r,commandName:"install",commandStage:"app-unknown"}),((e,t,n)=>{Ae=Ae||[],Ae.push({sapcode:e,version:t,status:n,stateCategory:"appUnkown"})})(i,r,n.status);else if(n.status===s.needConfirmation){if(!n.confirmationDetails)return;Te[v]=[{sapcode:v,version:v,status:n.status,stateCategory:v,confirmationDetails:n.confirmationDetails}]}return Te}},We=(e,t,n,i)=>{if(!e||0===Object.keys(e).length)return null;const r=(e,t,n,i,r)=>{if(!e||!e[t])return null;if(n&&i){const r=e[t].filter((e=>e.sapcode===n&&e.version===i));if(r.length>0)return r[0].stateCategory=t,r[0]}else if(r){const n=e=>e&&e.status===s.needConfirmation&&e.confirmationDetails&&e.confirmationDetails.confirmationID===r,i=e[t].filter((e=>n(e)));if(i.length>0)return t===h&&(i[0].stateCategory=t),i[0]}return null},o=r(e,u,t,n,i)||r(e,d,t,n,i)||r(e,f,t,n,i)||r(e,g,t,n,i)||r(e,p,t,n,i)||r(e,h,t,n,i)||r(e,m,t,n,i);if(null!=o)return o;if(t&&n){if(!Ae)return null;const e=Ae.filter((e=>e.sapcode===t&&e.version===n));if(e.length>0)return{sapcode:e[0].sapcode,version:e[0].version,status:e[0].status,id:le.uuidv4(),stateCategory:"appUnknown"}}return null};var ze=new class{getUpdateDecription({sapCode:e,version:t,platform:n,env:i,xAdobeAppId:r,locale:o}){return new Promise(((a,s)=>{const c=new XMLHttpRequest,l=`${Q[i]}/core/v1/update/description?name=${e}&version=${t}&platform=${n}&language=${o}&arg=${Math.random()}`;c.open("GET",l);const u=le.getHeaders({clientId:r,setXAdobeAppId:!0});for(const e in u)if(u.hasOwnProperty(e)){const t=u[e];c.setRequestHeader(e,t)}c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE)if(200===c.status){let t;try{t=JSON.parse(c.responseText)}catch(e){s(c.responseText)}a(t)}else s(`${c.status}: ${c.statusText}`)},c.send()}))}},He=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(t){o(t)}}function s(e){try{c(i.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};const qe=({sapCode:e,version:t,env:n,platform:i,xAdobeAppId:r,locale:o})=>ze.getUpdateDecription({sapCode:e,version:t,env:n,platform:i,xAdobeAppId:r,locale:o}),Ge=e=>Be(e),Ze=(e,t)=>{if(!t&&ue.ccdDetectPromise)return ue.ccdDetectPromise;const n=(new Date).getTime(),i=ve.checkForCCD(e);return i.then((e=>{const t=(new Date).getTime()-n;ge.onCCDDetection(e,t)})),ue.ccdDetectPromise=i,i},Ye=({verifyCCDPresence:e,env:t,aamUrl:n,paramPrefix:i,failureCallback:r})=>{const o=t||ue.env;if(!o||!J[o])return void(r&&r("env is not set"));const a=()=>{le.getFFCPassphrase(o).then((e=>{if(!e&&r)return void r("passphrase_not_available");let t=`aam://passPhrase=${e}?actionList=CC-UI`;if(n){let r="?";ve.aamPluginSupportsAmpersand()&&n.indexOf("?")>=0&&(r="&"),i&&(r=i),t=`${n.replace(/\/$/,"")}${r}passPhrase=${e}${r}actionList=CC-UI`}window.open(t,"_parent")}))};e?ve.checkForCCD({env:t}).then((e=>{e?a():r&&r("CCD is not present")})):a()},Xe=(e,t,n)=>{if(!t)return;const i=e||ue.env;i&&J[i]?ve.checkForCCD({env:e}).then((e=>{e?le.getFFCPassphrase(i).then((e=>{if(!e&&n)return void n("passphrase_not_available");let i="aam://ccd";const r=le.encodeDecodeHandler().encode(t),o=r?Object.keys(r):[];let a="?";for(let t=0;t<o.length;t++){const e=o[t];a=0===t?"?":"&",i=`${i}${a}${e}=${r[e]}`}i=`${i}${a}passPhrase=${e}`,window.open(i,"_parent")})):n&&n("CCD is not present")})):n&&n("env is not set")},Ke=(e,t,n)=>new Promise(((i,r)=>{const o=t(e);o.status?(ue.ccdDetectPromise=Ze({env:ue.env}),Ce.initCCDConnection({timeout:S,isLongWaitingEnabled:!1}).then((t=>{if(ye.status=t?L.status.success:L.status.failure,ye.totalTimeTaken=(new Date).getTime()-ye.startTime,ye.sendEvent(),t){const t=n(e);t.status?i(t):r(t)}else Ce.printLog("Failure in executing command"),ue.ccdConnection.error?r({status:!1,error:ue.ccdConnection.error}):r({status:!1,error:se.errors.default})}))):r(o)}));let Je;const Qe={attemptConnection:e=>{if(!ue.isInitialized)return ue.callbacks.onFailureCallbacks&&ue.callbacks.onFailureCallbacks.forEach((e=>{e({status:!1,error:ae.errors.wamIsNotInitialized})})),{status:!1,error:ae.errors.wamIsNotInitialized};const t=ue.initializeUserContext(e);if(!t.status)return ue.callbacks.onFailureCallbacks&&ue.callbacks.onFailureCallbacks.forEach((e=>{e(t)})),t;if(Je)return{status:!0};Je=!0;const n=(new Date).getTime();return Ce.initCCDConnection({timeout:_,exitConnection:!0,isLongWaitingEnabled:!1}).then((e=>{Je=!1;const t=(new Date).getTime()-n;ye.status=e?L.status.success:L.status.failure,ye.totalTimeTaken=(new Date).getTime()-ye.startTime,ye.sendEvent(),e?(ge.sendAnalytics({eventName:q,eventValue:t.toString()}),ue.callbacks.onSuccessCallbacks&&ue.callbacks.onSuccessCallbacks.forEach((e=>{e({status:!0,timeTakenInWAMWF:t})})),ue.callbacks.onMessageCallbacks&&ue.callbacks.onMessageCallbacks.forEach((e=>{e(Re())}))):ue.callbacks.onFailureCallbacks&&ue.callbacks.onFailureCallbacks.forEach((e=>{ue.ccdConnection.error?e({status:!1,error:ue.ccdConnection.error,timeTakenInWAMWF:t}):e({status:!1,error:se.errors.default,timeTakenInWAMWF:t})}))})),{status:!0}},init:e=>{let t;if(ue.isInitialized){const n=(new Date).getTime();ue.addCallbacks(e.callbacks);const i=()=>{if(!e.callbacks)return;const t=(new Date).getTime()-n;ge.sendAnalytics({eventName:q,eventValue:t.toString()}),e.callbacks.onSuccessCallback&&e.callbacks.onSuccessCallback({status:!0,timeTakenInWAMWF:t}),e.callbacks.onMessageCallback&&e.callbacks.onMessageCallback(Re())},r=()=>{const t=(new Date).getTime()-n;e.callbacks&&e.callbacks.onFailureCallback&&(ue.ccdConnection.error?e.callbacks.onFailureCallback({status:!1,error:ue.ccdConnection.error,timeTakenInWAMWF:t}):e.callbacks.onFailureCallback({status:!1,error:se.errors.default,timeTakenInWAMWF:t}))};Ce.areClientsConnected()?$e.checkWAMHealthStatus().then((()=>i())).catch((()=>r())):!1===Je?(r(),t={status:!1}):t={status:!0}}else t=ue.initializeContext(e),t.status||e.callbacks&&e.callbacks.onFailureCallback&&e.callbacks.onFailureCallback(t);return t},initialize:e=>{const t=Qe.init(e);if(!t.status)return t;const n=Qe.attemptConnection(e.userContext);return n.status?{status:!0}:n},areClientsConnected:()=>Ce.areClientsConnected(),sendCommand:e=>Ke(e,(e=>{if(!e)return{status:!1,error:ce.errors.cmdContextUndefined};if(!e.sapCode)return{status:!1,error:ce.errors.sapcodeUndefined};if(!e.version)return{status:!1,error:ce.errors.versionUndefined};if(e.isConfirmationType){if(!e.confirmationId)return{status:!1,error:ce.errors.confirmationIdUndefined};if(!e.confirmationType)return{status:!1,error:ce.errors.confirmationTypeUndefined}}else{if(!e.commandPayload)return{status:!1,error:ce.errors.commandPayloadUndefined};if(!e.commandPayload.command)return{status:!1,error:ce.errors.commandUndefined};if(!y[e.commandPayload.command])return{status:!1,error:ce.errors.commandNotSupported}}return{status:!0}}),(e=>{if(!$e.currentDevice||!$e.currentDevice.deviceId)return{status:!1,error:ce.errors.currentDeviceNotFound};let t;var n,r;return t=e.isConfirmationType?(({userId:e,deviceId:t,sapCode:n,version:i,confirmationID:r,confirmationType:o,confirmationValue:a,confirmationCheckboxes:s,ingestContext:l})=>({messages:[{id:de(),userContext:{userId:e,deviceId:t},clientType:c,clientSubType:ue.clientId,msgType:"cc.confirmationResponse",msgContextId:`${n}_${i}`,msgBody:{sapCode:n,version:i,confirmationID:r,confirmationType:o,confirmationValue:a,confirmationCheckboxes:s,ingestContext:l},autoContext:{timestamp:(new Date).getTime(),ttl:"medium"},apiVersion:1}]}))({userId:ue.userContext.userId,deviceId:$e.currentDevice.deviceId,sapCode:e.sapCode,version:e.version,confirmationID:e.confirmationId,confirmationType:e.confirmationType,confirmationValue:e.confirmationBtnVal,confirmationCheckboxes:e.confirmationCheckboxes,ingestContext:e.ingestContext}):(({userId:e,deviceId:t,sapCode:n,moduleId:i,version:r,commandPayload:o,ingestContext:a})=>{const s={messages:[{id:de(),userContext:{userId:e,deviceId:t},clientType:c,clientSubType:ue.clientId,msgType:"cc.command",msgContextId:`${n}_${r}`,msgBody:{sapCode:n,version:r,moduleId:i,ingestContext:a,command:""},autoContext:{timestamp:(new Date).getTime(),ttl:"medium"},apiVersion:1}]};return o&&(o.command&&(s.messages[0].msgBody.command=o.command),o.context&&(s.messages[0].msgBody.context=o.context),o.showDialog&&(s.messages[0].msgBody.showDialog=o.showDialog)),s})({userId:ue.userContext.userId,deviceId:$e.currentDevice.deviceId,sapCode:e.sapCode,version:e.version,moduleId:e.moduleId,commandPayload:e.commandPayload,ingestContext:e.ingestContext}),n=e.sapCode,r=e.version,delete xe[`${n}_${r}`],Ce.printLog(`Command: ${JSON.stringify(t)}`),Ve(i.clientMsg,t),{status:!0}})),executeWorkflow:e=>Ke(e,(e=>{if(!e)return{status:!1,error:ce.errors.cmdContextUndefined};if(!e.workflow)return{status:!1,error:ce.errors.ccdDeepLinkWFUndefined};switch(e.workflow){case ne:if(!e.docType)return{status:!1,error:ce.errors.docTypeUndefined};if(!e.docPath)return{status:!1,error:ce.errors.docPathUndefined};if(!e.sapCode)return{status:!1,error:ce.errors.sapcodeUndefined};break;case ie:if(!e.routePath)return{status:!1,error:ce.errors.routePathUndefined}}return le.checkCCDVersionRange(ue.ccdVersion,5,7)?{status:!0}:{status:!1,error:`${ce.errors.CCDVersionError}. Please install CCD version >=5.7`}}),(e=>{if(!$e.currentDevice||!$e.currentDevice.deviceId)return{status:!1,error:ce.errors.currentDeviceNotFound};const t=((e,t,n)=>({messages:[{id:de(),userContext:{userId:e,deviceId:t},clientType:c,clientSubType:ue.clientId,msgType:"cc.deepLink",msgContextId:n.workflow,msgBody:Object.assign({},n),autoContext:{timestamp:(new Date).getTime(),ttl:"medium"},apiVersion:1}]}))(ue.userContext.userId,$e.currentDevice.deviceId,e);return Ce.printLog(`Command: ${JSON.stringify(t)}`),Ve(i.clientMsg,t),ge.onExecuteWorkflow(e.workflow),{status:!0}})),connect:e=>new Promise((t=>He(void 0,void 0,void 0,(function*(){if(Ce.areClientsConnected())try{const e=yield $e.checkWAMHealthStatus();return void t(e)}catch(n){Ce.printLog(`WAM health call is failing in connect, health status call is ${n}`)}Ce.initCCDConnection(e).then((e=>{ye.status=e?L.status.success:L.status.failure,ye.totalTimeTaken=(new Date).getTime()-ye.startTime,ye.sendEvent(),t(e)}))})))),addListenerForClientMsg:e=>{ue.addCallbacks({onMessageCallback:e})},addListenerForClientState:e=>{ue.addCallbacks({onClientStateCallback:e})},addCallbacksForAnalytics:e=>{ue.addCallbacks({analyticsCallback:e})},getProductInfo:(e,t)=>We(Ie(),e,t),getProductsList:()=>Ie(),getInstalledProduct:e=>{let t;if(e&&Ce.areClientsConnected()){const n=Ie();t=n.installed.filter((t=>t.sapcode&&t.sapcode.toUpperCase()===e.toUpperCase()))[0],t||(t=n.available_updates.filter((t=>t.sapcode&&t.sapcode.toUpperCase()===e.toUpperCase()))[0])}return t},launchProduct:(e,t,n,i)=>{const r=Qe.getInstalledProduct(e);return r?Qe.sendCommand({sapCode:r.sapcode,version:r.version,commandPayload:{command:"launch"},ingestContext:{campaign_id:t,variation_id:n,context_com_name:i}}):Promise.reject({status:!1})},isCCDAppsPanelEnabled:()=>null===De||"false"===De,reset:()=>{Ue(),Te=null},disconnect:()=>{$e.disconnect()},setAnalyticsPreference:e=>{ue.sendAnalytics="undefined"===typeof e||e}};window&&(window.CCWamclient=Object.assign(Object.assign({},Qe),{getUpdateDescription:qe,processMessage:Ge,isCCDPresent:Ze,launchCCD:Ye,executeWorkflowViaCCDURI:Xe}))},294:function(e,t,n){"use strict";n.r(t),n.d(t,"getClosestFVD",(function(){return r})),n.d(t,"getClosestToBasicFour",(function(){return o})),n.d(t,"getFVDsWithWeight",(function(){return a})),n.d(t,"getStyleFromFVD",(function(){return s})),n.d(t,"getWeightFromFVD",(function(){return c}));const i={normal:["normal","italic","oblique"],italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"]};function r(e,t){if(!e||!t.length)return;const n=c(e),r=s(e);if(isNaN(n)||!r)return;const o={};t.forEach((e=>{const t=c(e),n=s(e);!isNaN(t)&&n&&(o[t]||(o[t]={}),o[t][n]=e)}));let a=1,l=n,u=n>=500?1:-1;for(;a<20&&!o[l];)l+=a*u*100,u*=-1,a+=1;const d=i[r]||[];for(let i=0,s=d.length;i<s;i++){const e=o[l][d[i]];if(e)return e}}function o(e){let t=[];return["n4","n7"].forEach((n=>{const i=r(n,e);if(i){const n=c(i);t=t.concat(a(n,e))}})),[...new Set(t)]}function a(e,t){return t.filter((t=>c(t)==e))}function s(e){return"n"===e[0]?"normal":"i"===e[0]?"italic":"o"===e[0]?"oblique":void 0}function c(e){return parseInt(`${e[1]}00`,10)}},30:function(e,t,n){},304:function(e,t){window.__sharedModules__=window.__sharedModules__||{},e.exports={areWebComponentsEnabled:function(){return!!window.__webComponentsEnabled__},modules:{add:function(e){for(var t in e)window.__sharedModules__[t]=e[t]},get:function(e){return window.__sharedModules__[e]}},setWebComponentsEnabled:function(){window.__webComponentsEnabled__=!0}}},310:function(e,t,n){"use strict";n.r(t),n.d(t,"getUserInfoSync",(function(){return r})),n.d(t,"hasPaidCreativeCloud",(function(){return o}));var i=n(49);function r(){return Object(i.getData)("user-info")||{}}function o(){return r().hasPaidCreativeCloud}},32:function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"===typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},322:function(e,t){r.$inject=["$timeout","FontLoaderService"];var n="display-in-font--loading",i="adobe-notdef";function r(e,t){function r(r,o){var a=r.displayInFont();if(a){o.addClass(n);var s=a.fvd[1]+"00",c="n"===a.fvd[0]?"normal":"i"===a.fvd[0]?"italic":"oblique";o[0].style.fontFamily=[a.cssName,i].join(","),o[0].style.fontWeight=s,o[0].style.fontStyle=c,e((function(){var e={weight:s,style:c,featureSettings:a.featureSettings,unicodeRange:a.unicodeRange,dynamic:a.isDynamic,display:"block"};t.loadFont(a.cssName,a.opaqueId,e).then((function(){o.removeClass(n),o.addClass("display-in-font--loaded")}),(function(){o.removeClass(n),o.addClass("display-in-font--failed")}))}),10)}}return{restrict:"A",scope:{displayInFont:"&"},link:function(e,t){e.$watch("displayInFont()",r.bind(this,e,t),!0)}}}e.exports=r},323:function(e,t,n){var i=n(430);e.exports=i},325:function(e,t,n){n(326),e.exports="ngSanitize"},326:function(e,t){!function(e,t,n){"use strict";var i=t.$$minErr("$sanitize");var r=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,o=/^<\/\s*([\w:-]+)[^>]*>/,a=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,s=/^</,c=/^<\//,l=/<!--(.*?)-->/g,u=/<!DOCTYPE([^>]*?)>/i,d=/<!\[CDATA\[(.*?)]]>/g,f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p=/([^\#-~| |!])/g,h=$("area,br,col,hr,img,wbr"),m=$("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),g=$("rp,rt"),v=t.extend({},g,m),y=t.extend({},m,$("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),b=t.extend({},g,$("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),_=$("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),S=$("script,style"),w=t.extend({},h,y,b,v,_),C=$("background,cite,href,longdesc,src,usemap,xlink:href"),k=$("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),F=$("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),E=t.extend({},C,F,k);function $(e,n){var i,r={},o=e.split(",");for(i=0;i<o.length;i++)r[n?t.lowercase(o[i]):o[i]]=!0;return r}var x=document.createElement("pre");function T(e){return e?(x.innerHTML=e.replace(/</g,"&lt;"),x.textContent):""}function A(e){return e.replace(/&/g,"&amp;").replace(f,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(p,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function P(e,n){var i=!1,r=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!i&&S[e]&&(i=e),i||!0!==w[e]||(r("<"),r(e),t.forEach(o,(function(i,o){var a=t.lowercase(o),s="img"===e&&"src"===a||"background"===a;!0!==E[a]||!0===C[a]&&!n(i,s)||(r(" "),r(o),r('="'),r(A(i)),r('"'))})),r(a?"/>":">"))},end:function(e){e=t.lowercase(e),i||!0!==w[e]||(r("</"),r(e),r(">")),e==i&&(i=!1)},chars:function(e){i||r(A(e))}}}t.module("ngSanitize",[]).provider("$sanitize",(function(){this.$get=["$$sanitizeUri",function(e){return function(n){var f=[];return function(e,n){"string"!==typeof e&&(e=null===e||"undefined"===typeof e?"":""+e);var f,p,m,g,_=[],w=e;_.last=function(){return _[_.length-1]};for(;e;){if(g="",p=!0,_.last()&&S[_.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+_.last()+"[^>]*>","i"),(function(e,t){return t=t.replace(l,"$1").replace(d,"$1"),n.chars&&n.chars(T(t)),""})),k("",_.last())):(0===e.indexOf("\x3c!--")?(f=e.indexOf("--",4))>=0&&e.lastIndexOf("--\x3e",f)===f&&(n.comment&&n.comment(e.substring(4,f)),e=e.substring(f+3),p=!1):u.test(e)?(m=e.match(u))&&(e=e.replace(m[0],""),p=!1):c.test(e)?(m=e.match(o))&&(e=e.substring(m[0].length),m[0].replace(o,k),p=!1):s.test(e)&&((m=e.match(r))?(m[4]&&(e=e.substring(m[0].length),m[0].replace(r,C)),p=!1):(g+="<",e=e.substring(1))),p&&(g+=(f=e.indexOf("<"))<0?e:e.substring(0,f),e=f<0?"":e.substring(f),n.chars&&n.chars(T(g)))),e==w)throw i("badparse","The sanitizer was unable to parse the following block of html: {0}",e);w=e}function C(e,i,r,o){if(i=t.lowercase(i),y[i])for(;_.last()&&b[_.last()];)k("",_.last());v[i]&&_.last()==i&&k("",i),(o=h[i]||!!o)||_.push(i);var s={};r.replace(a,(function(e,t,n,i,r){var o=n||i||r||"";s[t]=T(o)})),n.start&&n.start(i,s,o)}function k(e,i){var r,o=0;if(i=t.lowercase(i))for(o=_.length-1;o>=0&&_[o]!=i;o--);if(o>=0){for(r=_.length-1;r>=o;r--)n.end&&n.end(_[r]);_.length=o}}k()}(n,P(f,(function(t,n){return!/^unsafe/.test(e(t,n))}))),f.join("")}}]})),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i;return function(r,o){if(!r)return r;for(var a,s,c,l=r,u=[];a=l.match(n);)s=a[0],a[2]||a[4]||(s=(a[3]?"http://":"mailto:")+s),c=a.index,d(l.substr(0,c)),f(s,a[0].replace(i,"")),l=l.substring(c+a[0].length);return d(l),e(u.join(""));function d(e){var n,i;e&&u.push((n=e,P(i=[],t.noop).chars(n),i.join("")))}function f(e,n){u.push("<a "),t.isDefined(o)&&u.push('target="',o,'" '),u.push('href="',e.replace(/"/g,"&quot;"),'">'),d(n),u.push("</a>")}}}])}(window,window.angular)},327:function(e,t){function n(e){this.autocompleteService=e}n.$inject=["FamilyAutocompleteSearchService"],e.exports=n},328:function(e,t,n){s.$inject=["$document","$scope","$window","BifrostWamService","DataService","DialogService","FamilyAutocompleteSearchService","FirstMileService","NewrelicService","UrlService","UserPrefsService","UserService"];var i=n(120),r=n(119),o=n(121),a=n(73).ViewportSize;function s(e,t,n,i,r,o,a,s,c,l,u,d){var f=this;f.$document=e,f.$scope=t,f.$window=n,f.BifrostWamService=i,f.FirstMileService=s,f.DataService=r,f.DialogService=o,f.FamilyAutocompleteSearchService=a,f.NewrelicService=c,f.UrlService=l,f.UserPrefsService=u,f.UserService=d,f._setViewportDefinition(),n.addEventListener("resize",(function(){f._handleWindowResize()})),f._preloadData().then((function(){f._setNewrelicCustomAttributes()}))}s.prototype._handleWindowResize=function(){this._setViewportDefinition(),this.$scope.$digest()},s.prototype._handleOpenCCDButton=function(){this.NewrelicService.addPageAction("typekit.click.use-model-font-activation-open-app",{source:"Manage Fonts"}),this.FirstMileService.openCreativeCloudDesktop()},s.prototype._setViewportDefinition=function(){this.$window.innerWidth<720?this.viewportSize=a.XX_SMALL:this.$window.innerWidth<840?this.viewportSize=a.X_SMALL:this.$window.innerWidth<960?this.viewportSize=a.SMALL:this.$window.innerWidth<1024?this.viewportSize=a.MEDIUM:this.viewportSize=a.LARGE},s.prototype._webComponents_initNavBarCombo=function(){var e=this,t=this,n=t.$document.find("af-navbar-combo")[0],a=document.querySelector("header");n&&(n.addEventListener(o.EVENT_NAME,(function(e){t.FamilyAutocompleteSearchService.get(e.detail.searchParam).then((function(e){n.searchResults=e.data}))})),n.addEventListener(r.EXPANDED_EVENT,(function(){e.DialogService.trapFocus(),a.inert=!1})),n.addEventListener(r.COLLAPSED_EVENT,(function(){return e.DialogService.releaseFocus()})),n.addEventListener(i.OPEN_CCD_EVENT,(function(){t._handleOpenCCDButton()})),n.addEventListener(i.CLOSE_CCD_TOUR_EVENT,(function(){t.UserPrefsService.updatePrefs({hideUseModelCCDTutorial:!0})})),t.UserPrefsService.getUserPrefs().then((function(e){t.showCoachmark=!e.hideUseModelCCDTutorial||void 0})))},s.prototype._preloadData=function(){var e=this;return e._webComponents_initNavBarCombo(),e.DataService.get("/user_info").then((function(t){e.UserService.setActivityState(t.activity_state),e.UserService.setAdobeProfileId(t.adobe_profile_id),e.UserService.setDaysSinceSyncActivity(t.days_since_sync_activity),e.UserService.setPlan(t.plan)}))},s.prototype._setNewrelicCustomAttributes=function(){var e=this.UrlService.getSearchParam("referrer");e&&this.NewrelicService.setCustomAttribute("referrer",e),this.NewrelicService.setCustomAttribute("activityState",this.UserService.getActivityState()),this.NewrelicService.setCustomAttribute("adobeProfileId",this.UserService.getAdobeProfileId()),this.NewrelicService.setCustomAttribute("daysSinceSyncActivity",this.UserService.getDaysSinceSyncActivity()),this.NewrelicService.setCustomAttribute("plan",this.UserService.getPlan())},e.exports=s},329:function(e,t,n){o.$inject=["$document","$scope","$window","DataService","FamilyAutocompleteSearchService","NewrelicService","NewrelicClickTrackerService"];var i=n(121),r=n(49);function o(e,t,n,i,o,a,s){if(this.$document=e,this.$window=n,this.DataService=i,this.FamilyAutocompleteSearchService=o,this.NewrelicService=a,this._preloadData(),n.addEventListener("resize",(function(){t.$apply()})),!r.getData("project_crossbar_data")){s.init({page:"marketplace_homepage"});var c=this;n.addEventListener("beforeunload",(function(){c.NewrelicService.addPageAction("typekit.marketplace_homepage.page_exit")}))}}o.prototype._webComponents_initSearchBar=function(){var e=this,t=e.$document.find("af-search-bar")[0];t&&t.addEventListener(i.EVENT_NAME,(function(n){e.FamilyAutocompleteSearchService.get(n.detail.searchParam).then((function(e){t.results=e.data}))}))},o.prototype.getSmallScreenClass=function(){return this.$window.innerWidth<500?"spectrum-grid-col-xs-12":this.$window.innerWidth<768?"spectrum-grid-col-xs-6":""},o.prototype.handleSearchByImageClick=function(){this.NewrelicService.addPageAction("typekit.marketplace_homepage.search_by_image_click")},o.prototype._preloadData=function(){var e=this;e.DataService.get("/preloaded_homepage_data").then((function(t){e.browseByClassifications=t.browse_by_classifications,e.browseByLanguages=t.browse_by_languages,e.browseByTags=t.browse_by_tags})),this._webComponents_initSearchBar()},e.exports=o},330:function(e,t,n){u.$inject=["$document","$http","$q","$scope","$window","DataService","DialogService","FilterVariationsService","I18nService","NewrelicService","ScrollService","UrlService","UserPrefsService","VisualSearchService"];var i=n(19),r=n(331),o=n(6),a="visual-searches--loading",s=/(fonts\/vs\/[^\/]*)(\/)*(.*)*/,c="text",l=["upload","select","confirm","results"];function u(e,t,n,i,r,o,a,s,c,l,u,d,f,p){var h=this;h.$document=e,h.$http=t,h.$q=n,h.$scope=i,h.$window=r,h.DataService=o,h.DialogService=a,h.FilterVariationsService=s,h.I18nService=c,h.NewrelicService=l,h.ScrollService=u,h.UrlService=d,h.VisualSearchService=p,h.UserPrefsService=f,h.filterValues=[],h._init()}u.prototype.filterFontsByRequiredActions=function(e){var t=this.FilterVariationsService.filterRequiredActionsByToggles(this.fonts,e);this.preferredAction=t.preferred,this.filteredFonts=this.FilterVariationsService.filterFontsByRequiredActions(this.fonts,t.filters)},u.prototype.showPaidFontsSelected=function(){return this.showPaidFonts},u.prototype.showTipsModal=function(){var e=this;e.DialogService.show("/angular_templates/dialogs/visual_search_tips.html",{closeOnDrag:!0}).then((function(){e.NewrelicService.addPageAction("typekit.render.visual-search.search-tips-modal")}))},u.prototype.handleExampleTextKeyup=function(e){"Enter"===e.key||13===e.keyCode?this.handleNextButtonClick():(this._userEnteredText=e.target.value,this._updateExampleText(e.target.value))},u.prototype.handleNextButtonClick=function(){this.loadStep(this._getNextStep())},u.prototype.handleStartOverClick=function(){this._setCurrentStep(l[0],!0)},u.prototype.handlePreviousClick=function(){var e=l.indexOf(this._currentStep),t=l[e-1];this._setCurrentStep(t,!0)},u.prototype.fontVariationCardsClass=function(){return"grid"===this.viewType?"spectrum-grid-row font-variations-grid-view":""},u.prototype.getExampleTextValue=function(){return this._userEnteredText||this.extractedText},u.prototype.loadStep=function(e){var t=this;t._currentStep!=e&&(t._currentStep==l[1]?t._updateResultsForCoordinates().then((function(){t._setCurrentStep(e,!0),t._updateExampleText(t._userEnteredText||t.extractedText),t._scrollToTop()})):(t._setCurrentStep(e,!0),t._scrollToTop()))},u.prototype.isCurrentStep=function(e){return this._currentStep==e},u.prototype.isConfirmationImageVisible=function(){switch(this._currentStep){case l[0]:case l[1]:return!1;default:return!0}},u.prototype.isFontListEmpty=function(){return 0===this.fonts.length},u.prototype.isFilteredFontListEmpty=function(){return 0===this.filteredFonts.length},u.prototype.getSimilarFontCountForDisplay=function(){return this.filteredFonts.length>1?this.I18nService.getMessage(this._i18n,"neue.visual_search.results_page.similar_fonts_plural",{num_fonts:this.filteredFonts.length}):1===this.filteredFonts.length?this.I18nService.getMessage(this._i18n,"neue.visual_search.results_page.similar_font_singular",{num_fonts:1}):this.I18nService.getMessage(this._i18n,"neue.visual_search.results_page.similar_fonts_plural",{num_fonts:0})},u.prototype._getCropperCoordinates=function(){var e=this.cropper.getData();return{x_min:e.x,y_min:e.y,x_max:e.x+e.width,y_max:e.y+e.height}},u.prototype._getCropperData=function(e){if(e.coordinates&&0!=Object.keys(e.coordinates).length)return{x:e.coordinates.x_min,y:e.coordinates.y_min,width:e.coordinates.x_max-e.coordinates.x_min,height:e.coordinates.y_max-e.coordinates.y_min};if(e.detectedRegion&&0!=Object.keys(e.detectedRegion).length){var t=e.detectedRegion;return{x:t.x_min,y:t.y_min,width:t.x_max-t.x_min,height:t.y_max-t.y_min}}return{}},u.prototype._getNextStep=function(){var e=l.indexOf(this._currentStep);return e+1<l.length?l[e+1]:l[0]},u.prototype._getPlaceholderConfirmationCanvas=function(){return this.$document[0].querySelector(".visual-searches__confirm-image .visual-searches__confirmation-canvas-placeholder")},u.prototype._getStepFromUrl=function(){var e=s.exec(this.$window.location.pathname);return e[e.length-1]?e[e.length-1]:l[0]},u.prototype._getUrlForStep=function(e){return"/"+s.exec(this.$window.location.pathname)[1]+"/"+e},u.prototype._init=function(){var e=this;e.viewType="list",e._preloadData().then((function(t){var n=t[1];e._currentStep!=l[0]&&e._preloadImage().then((function(){return e._initCropper(e._getCropperData(n))})).then((function(){e._confirmationCanvas=e._getPlaceholderConfirmationCanvas(),e._showCroppedImage()}))})),e.$window.onpopstate=function(){e.$scope.$apply((function(){e._setCurrentStep(e._getStepFromUrl())}))}},u.prototype._initCropper=function(e){var t=this;return t.$q((function(n){t._setMaxContainerDimensions(),t.cropper=new r(t.image,{background:!1,data:e,minCropBoxHeight:10,minCropBoxWidth:10,minContainerHeight:10,minContainerWidth:10,dragMode:"none",responsive:!0,zoomable:!1,checkCrossOrigin:!1,viewMode:1,ready:n})}))},u.prototype._preloadImage=function(){var e=this;return e.$q((function(t){e.image=e.$document[0].getElementById("visual-searches__image-cropper-image"),e.$http({method:"GET",url:e.image.getAttribute("data-src"),responseType:"blob"}).then((function(n){e.image.onload=t,e.image.src=e.$window.URL.createObjectURL(n.data)}))}))},u.prototype._scrollToTop=function(){var e=this.$document[0].querySelector("#visual-search-heading");this.ScrollService.scrollUpTo(e,1e3)},u.prototype._setMaxContainerDimensions=function(){var e=this,t=e.$document[0].getElementById("visual-searches__image-cropper");t.style.maxWidth=e.image.naturalWidth+"px",t.style.maxHeight=e.image.naturalHeight+"px"},u.prototype._preloadData=function(){var e=this;return e.$q.all([e.UserPrefsService.getUserPrefs().then((function(t){e.showPaidFonts=!!t.showPaidFonts})),e.$q((function(t){e.DataService.get("/neue/preloaded_variation_data").then((function(n){e._currentStep=n.step,n.step!=l[0]&&(e.fonts=n.fonts,e.extractedText=n.detectedText,e.visualSearchOpaqueId=n.visualSearchOpaqueId,e.textSamples=n.textSampleData.textSamples,e.textSamplePrimers=n.textSampleData.textSamplePrimers,e.textSampleData=n.textSampleData),e.showUpgradeActionToggle=e.FilterVariationsService.hasUpgradeFilterOption(e.fonts),e.filterFontsByRequiredActions(),e.UrlService.getSearchParam(c)&&(e._userEnteredText=decodeURIComponent(e.UrlService.getSearchParam(c))),e._updateExampleText(e._userEnteredText||e.extractedText),t(n)})),e.DataService.get("/visual_search/i18n").then((function(t){e._i18n=t}))}))])},u.prototype._setCurrentStep=function(e,t){this._currentStep=e,this.NewrelicService.addPageAction("typekit.render.visual-search.step",{step:e}),t&&this.UrlService.pushState(null,null,this._getUrlForStep(e)),e!=l[0]&&this._storeDataInUrl()},u.prototype._setLoadingState=function(){i.element(this.$document[0].body).addClass(a)},u.prototype._showCroppedImage=function(){var e=this.cropper.getCroppedCanvas();this._confirmationCanvas.parentNode.replaceChild(e,this._confirmationCanvas),this._confirmationCanvas=e},u.prototype._storeDataInUrl=function(){var e=this._getCropperCoordinates();this._userEnteredText&&(e.text=encodeURIComponent(this._userEnteredText)),this.UrlService.setSearchParams(e)},u.prototype._unsetLoadingState=function(){i.element(this.$document[0].body).removeClass(a)},u.prototype._updateExampleText=function(e){this.exampleText={size:50,value:e||"The quick brown fox jumps over the lazy dog"}},u.prototype._updateResultsForCoordinates=function(){var e=this;return e.$q((function(t){e._setLoadingState(),e.VisualSearchService.put(e.visualSearchOpaqueId,e._getCropperCoordinates()).then((function(n){e._showCroppedImage(),e.extractedText=n.data.text,e.fonts=n.data.fonts;var i={upgrade:e.showPaidFonts},r=e.FilterVariationsService.filterRequiredActionsByToggles(e.fonts,i);e.filteredFonts=e.FilterVariationsService.filterFontsByRequiredActions(e.fonts,r.filters);var a={fontCount:e.fonts.length};e.fonts.length>0&&(a.topResult=o.first(o.pluck(e.fonts,"name"))),e.NewrelicService.addPageAction("typekit.render.visual-search",a),t(),e._unsetLoadingState()}))}))},e.exports=u},331:function(e,t,n){e.exports=function(){"use strict";var e={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},t='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>',n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},a=/^data:([^;]+);base64,/,s=/([a-z\d])([A-Z])/g,c=/^(https?:)\/\/([^:/?#]+):?(\d*)/i,l=/\s+/,u=/^(width|height|left|top|marginLeft|marginTop)$/,d=/^\s+(.*)\s+$/,f=/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i,p="undefined"!==typeof window?window.navigator:null,h=p&&f.test(p.userAgent),m=Object.prototype,g=m.toString,v=m.hasOwnProperty,y=(Array.prototype.slice,String.fromCharCode);function b(e){return g.call(e).slice(8,-1).toLowerCase()}function _(e){return"number"===typeof e&&!isNaN(e)}function S(e){return"undefined"===typeof e}function w(e){return"object"===("undefined"===typeof e?"undefined":n(e))&&null!==e}function C(e){if(!w(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&v.call(n,"isPrototypeOf")}catch(i){return!1}}function k(e){return"function"===b(e)}function F(e){return Array.isArray?Array.isArray(e):"array"===b(e)}function E(e){return"string"===typeof e&&(e=e.trim?e.trim():e.replace(d,"$1")),e}function $(e,t){if(e&&k(t)){var n=void 0;if(F(e)||_(e.length)){var i=e.length;for(n=0;n<i&&!1!==t.call(e,e[n],n,e);n++);}else w(e)&&Object.keys(e).forEach((function(n){t.call(e,e[n],n,e)}))}return e}function x(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=!0===t[0],r=i?t[1]:t[0];return w(r)&&t.length>1&&(t.shift(),t.forEach((function(e){w(e)&&Object.keys(e).forEach((function(t){i&&w(r[t])?x(!0,r[t],e[t]):r[t]=e[t]}))}))),r}function T(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.apply(t,i.concat(r))}}function A(e,t){var n=e.style;$(t,(function(e,t){u.test(t)&&_(e)&&(e+="px"),n[t]=e}))}function P(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function M(e,t){if(_(e.length))$(e,(function(e){M(e,t)}));else if(e.classList)e.classList.add(t);else{var n=E(e.className);n?n.indexOf(t)<0&&(e.className=n+" "+t):e.className=t}}function D(e,t){_(e.length)?$(e,(function(e){D(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}function I(e,t,n){_(e.length)?$(e,(function(e){I(e,t,n)})):n?M(e,t):D(e,t)}function L(e){return e.replace(s,"$1-$2").toLowerCase()}function N(e,t){return w(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-"+L(t))}function R(e,t,n){w(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-"+L(t),n)}function O(e,t){if(w(e[t]))delete e[t];else if(e.dataset)try{delete e.dataset[t]}catch(n){e.dataset[t]=null}else e.removeAttribute("data-"+L(t))}function j(e,t,n){var i=E(t).split(l);i.length>1?$(i,(function(t){j(e,t,n)})):e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}function V(e,t,n,i){var r=E(t).split(l),o=n;r.length>1?$(r,(function(t){V(e,t,n)})):(i&&(n=function(){for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return j(e,t,n),o.apply(e,r)}),e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n))}function U(e,t,n){if(e.dispatchEvent){var i=void 0;return k(Event)&&k(CustomEvent)?i=S(n)?new Event(t,{bubbles:!0,cancelable:!0}):new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):S(n)?(i=document.createEvent("Event")).initEvent(t,!0,!0):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(i)}return!e.fireEvent||e.fireEvent("on"+t)}function B(e){var t=e||window.event;if(t.target||(t.target=t.srcElement||document),!_(t.pageX)&&_(t.clientX)){var n=e.target.ownerDocument||document,i=n.documentElement,r=n.body;t.pageX=t.clientX+((i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0)),t.pageY=t.clientY+((i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0))}return t}function W(e){var t=document.documentElement,n=e.getBoundingClientRect();return{left:n.left+((window.scrollX||t&&t.scrollLeft||0)-(t&&t.clientLeft||0)),top:n.top+((window.scrollY||t&&t.scrollTop||0)-(t&&t.clientTop||0))}}function z(e,t){return e.getElementsByTagName(t)}function H(e,t){return e.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t)}function q(e){return document.createElement(e)}function G(e,t){e.appendChild(t)}function Z(e){e.parentNode&&e.parentNode.removeChild(e)}function Y(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function X(e){var t=e.match(c);return t&&(t[1]!==location.protocol||t[2]!==location.hostname||t[3]!==location.port)}function K(e){var t="timestamp="+(new Date).getTime();return e+(-1===e.indexOf("?")?"?":"&")+t}function J(e,t){if(!e.naturalWidth||h){var n=q("img");n.onload=function(){t(this.width,this.height)},n.src=e.src}else t(e.naturalWidth,e.naturalHeight)}function Q(e){var t=[],n=e.translateX,i=e.translateY,r=e.rotate,o=e.scaleX,a=e.scaleY;_(n)&&0!==n&&t.push("translateX("+n+"px)"),_(i)&&0!==i&&t.push("translateY("+i+"px)"),_(r)&&0!==r&&t.push("rotate("+r+"deg)"),_(o)&&1!==o&&t.push("scaleX("+o+")"),_(a)&&1!==a&&t.push("scaleY("+a+")");var s=t.length?t.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function ee(e,t){var n=Math.abs(e.degree)%180,i=(n>90?180-n:n)*Math.PI/180,r=Math.sin(i),o=Math.cos(i),a=e.width,s=e.height,c=e.aspectRatio,l=void 0,u=void 0;return t?u=(l=a/(o+r/c))/c:(l=a*o+s*r,u=a*r+s*o),{width:l,height:u}}function te(e,t){var n=q("canvas"),i=n.getContext("2d"),r=0,o=0,a=t.naturalWidth,s=t.naturalHeight,c=t.rotate,l=t.scaleX,u=t.scaleY,d=_(l)&&_(u)&&(1!==l||1!==u),f=_(c)&&0!==c,p=f||d,h=a*Math.abs(l||1),m=s*Math.abs(u||1),g=void 0,v=void 0,y=void 0;return d&&(g=h/2,v=m/2),f&&(g=(h=(y=ee({width:h,height:m,degree:c})).width)/2,v=(m=y.height)/2),n.width=h,n.height=m,p&&(r=-a/2,o=-s/2,i.save(),i.translate(g,v)),f&&i.rotate(c*Math.PI/180),d&&i.scale(l,u),i.drawImage(e,Math.floor(r),Math.floor(o),Math.floor(a),Math.floor(s)),p&&i.restore(),n}function ne(e,t,n){var i="",r=t;for(n+=t;r<n;r++)i+=y(e.getUint8(r));return i}function ie(e){var t=new DataView(e),n=t.byteLength,i=void 0,r=void 0,o=void 0,a=void 0,s=void 0,c=void 0,l=void 0,u=void 0,d=void 0;if(255===t.getUint8(0)&&216===t.getUint8(1))for(u=2;u<n;){if(255===t.getUint8(u)&&225===t.getUint8(u+1)){c=u;break}u++}if(c&&(r=c+10,"Exif"===ne(t,c+4,4)&&((a=18761===(s=t.getUint16(r)))||19789===s)&&42===t.getUint16(r+2,a)&&(o=t.getUint32(r+4,a))>=8&&(l=r+o)),l)for(n=t.getUint16(l,a),d=0;d<n;d++)if(u=l+12*d+2,274===t.getUint16(u,a)){u+=8,i=t.getUint16(u,a),h&&t.setUint16(u,1,a);break}return i}function re(e){var t=e.replace(a,""),n=atob(t),i=n.length,r=new ArrayBuffer(i),o=new Uint8Array(r),s=void 0;for(s=0;s<i;s++)o[s]=n.charCodeAt(s);return r}function oe(e){var t=new Uint8Array(e),n=t.length,i="",r=void 0;for(r=0;r<n;r++)i+=y(t[r]);return"data:image/jpeg;base64,"+btoa(i)}var ae={render:function(){var e=this;e.initContainer(),e.initCanvas(),e.initCropBox(),e.renderCanvas(),e.cropped&&e.renderCropBox()},initContainer:function(){var e=this,t=e.options,n=e.element,i=e.container,r=e.cropper,o="cropper-hidden",a=void 0;M(r,o),D(n,o),e.containerData=a={width:Math.max(i.offsetWidth,Number(t.minContainerWidth)||200),height:Math.max(i.offsetHeight,Number(t.minContainerHeight)||100)},A(r,{width:a.width,height:a.height}),M(n,o),D(r,o)},initCanvas:function(){var e=this,t=e.options.viewMode,n=e.containerData,i=e.imageData,r=90===Math.abs(i.rotate),o=r?i.naturalHeight:i.naturalWidth,a=r?i.naturalWidth:i.naturalHeight,s=o/a,c=n.width,l=n.height;n.height*s>n.width?3===t?c=n.height*s:l=n.width/s:3===t?l=n.width/s:c=n.height*s;var u={naturalWidth:o,naturalHeight:a,aspectRatio:s,width:c,height:l};u.oldLeft=u.left=(n.width-c)/2,u.oldTop=u.top=(n.height-l)/2,e.canvasData=u,e.limited=1===t||2===t,e.limitCanvas(!0,!0),e.initialImageData=x({},i),e.initialCanvasData=x({},u)},limitCanvas:function(e,t){var n=this,i=n.options,r=i.viewMode,o=n.containerData,a=n.canvasData,s=a.aspectRatio,c=n.cropBoxData,l=n.cropped&&c;if(e){var u=Number(i.minCanvasWidth)||0,d=Number(i.minCanvasHeight)||0;r>1?(u=Math.max(u,o.width),d=Math.max(d,o.height),3===r&&(d*s>u?u=d*s:d=u/s)):r>0&&(u?u=Math.max(u,l?c.width:0):d?d=Math.max(d,l?c.height:0):l&&(u=c.width,(d=c.height)*s>u?u=d*s:d=u/s)),u&&d?d*s>u?d=u/s:u=d*s:u?d=u/s:d&&(u=d*s),a.minWidth=u,a.minHeight=d,a.maxWidth=1/0,a.maxHeight=1/0}if(t)if(r){var f=o.width-a.width,p=o.height-a.height;a.minLeft=Math.min(0,f),a.minTop=Math.min(0,p),a.maxLeft=Math.max(0,f),a.maxTop=Math.max(0,p),l&&n.limited&&(a.minLeft=Math.min(c.left,c.left+(c.width-a.width)),a.minTop=Math.min(c.top,c.top+(c.height-a.height)),a.maxLeft=c.left,a.maxTop=c.top,2===r&&(a.width>=o.width&&(a.minLeft=Math.min(0,f),a.maxLeft=Math.max(0,f)),a.height>=o.height&&(a.minTop=Math.min(0,p),a.maxTop=Math.max(0,p))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=o.width,a.maxTop=o.height},renderCanvas:function(e){var t=this,n=t.canvasData,i=t.imageData,r=i.rotate,o=void 0,a=void 0;t.rotated&&(t.rotated=!1,(o=(a=ee({width:i.width,height:i.height,degree:r})).width/a.height)!==n.aspectRatio&&(n.left-=(a.width-n.width)/2,n.top-=(a.height-n.height)/2,n.width=a.width,n.height=a.height,n.aspectRatio=o,n.naturalWidth=i.naturalWidth,n.naturalHeight=i.naturalHeight,r%180&&(a=ee({width:i.naturalWidth,height:i.naturalHeight,degree:r}),n.naturalWidth=a.width,n.naturalHeight=a.height),t.limitCanvas(!0,!1))),(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),t.limitCanvas(!1,!0),n.oldLeft=n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.oldTop=n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),A(t.canvas,x({width:n.width,height:n.height},Q({translateX:n.left,translateY:n.top}))),t.renderImage(),t.cropped&&t.limited&&t.limitCropBox(!0,!0),e&&t.output()},renderImage:function(e){var t=this,n=t.canvasData,i=t.imageData,r=void 0,o=void 0,a=void 0,s=void 0;i.rotate&&(r={width:a=(o=ee({width:n.width,height:n.height,degree:i.rotate,aspectRatio:i.aspectRatio},!0)).width,height:s=o.height,left:(n.width-a)/2,top:(n.height-s)/2}),x(i,r||{width:n.width,height:n.height,left:0,top:0}),A(t.image,x({width:i.width,height:i.height},Q(x({translateX:i.left,translateY:i.top},i)))),e&&t.output()},initCropBox:function(){var e=this,t=e.options,n=t.aspectRatio,i=Number(t.autoCropArea)||.8,r=e.canvasData,o={width:r.width,height:r.height};n&&(r.height*n>r.width?o.height=o.width/n:o.width=o.height*n),e.cropBoxData=o,e.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*i),o.height=Math.max(o.minHeight,o.height*i),o.oldLeft=o.left=r.left+(r.width-o.width)/2,o.oldTop=o.top=r.top+(r.height-o.height)/2,e.initialCropBoxData=x({},o)},limitCropBox:function(e,t){var n=this,i=n.options,r=i.aspectRatio,o=n.containerData,a=n.canvasData,s=n.cropBoxData,c=n.limited;if(e){var l=Number(i.minCropBoxWidth)||0,u=Number(i.minCropBoxHeight)||0,d=Math.min(o.width,c?a.width:o.width),f=Math.min(o.height,c?a.height:o.height);l=Math.min(l,o.width),u=Math.min(u,o.height),r&&(l&&u?u*r>l?u=l/r:l=u*r:l?u=l/r:u&&(l=u*r),f*r>d?f=d/r:d=f*r),s.minWidth=Math.min(l,d),s.minHeight=Math.min(u,f),s.maxWidth=d,s.maxHeight=f}t&&(c?(s.minLeft=Math.max(0,a.left),s.minTop=Math.max(0,a.top),s.maxLeft=Math.min(o.width,a.left+a.width)-s.width,s.maxTop=Math.min(o.height,a.top+a.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=o.width-s.width,s.maxTop=o.height-s.height))},renderCropBox:function(){var e=this,t=e.options,n=e.containerData,i=e.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),e.limitCropBox(!1,!0),i.oldLeft=i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.oldTop=i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),t.movable&&t.cropBoxMovable&&R(e.face,"action",i.width===n.width&&i.height===n.height?"move":"all"),A(e.cropBox,x({width:i.width,height:i.height},Q({translateX:i.left,translateY:i.top}))),e.cropped&&e.limited&&e.limitCanvas(!0,!0),e.disabled||e.output()},output:function(){var e=this;e.preview(),e.complete&&U(e.element,"crop",e.getData())}},se="preview",ce={initPreview:function(){var e=this,t=e.options.preview,n=q("img"),i=e.crossOrigin,r=i?e.crossOriginUrl:e.url;if(i&&(n.crossOrigin=i),n.src=r,G(e.viewBox,n),e.image2=n,t){var o=t.querySelector?[t]:document.querySelectorAll(t);e.previews=o,$(o,(function(e){var t=q("img");R(e,se,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),i&&(t.crossOrigin=i),t.src=r,t.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',Y(e),G(e,t)}))}},resetPreview:function(){$(this.previews,(function(e){var t=N(e,se);A(e,{width:t.width,height:t.height}),e.innerHTML=t.html,O(e,se)}))},preview:function(){var e=this,t=e.imageData,n=e.canvasData,i=e.cropBoxData,r=i.width,o=i.height,a=t.width,s=t.height,c=i.left-n.left-t.left,l=i.top-n.top-t.top;e.cropped&&!e.disabled&&(A(e.image2,x({width:a,height:s},Q(x({translateX:-c,translateY:-l},t)))),$(e.previews,(function(e){var n=N(e,se),i=n.width,u=n.height,d=i,f=u,p=1;r&&(f=o*(p=i/r)),o&&f>u&&(d=r*(p=u/o),f=u),A(e,{width:d,height:f}),A(z(e,"img")[0],x({width:a*p,height:s*p},Q(x({translateX:-c*p,translateY:-l*p},t))))})))}},le="undefined"!==typeof window?window.PointerEvent:null,ue=le?"pointerdown":"touchstart mousedown",de=le?"pointermove":"touchmove mousemove",fe=le?" pointerup pointercancel":"touchend touchcancel mouseup",pe="wheel mousewheel DOMMouseScroll",he="dblclick",me="resize",ge="cropstart",ve="cropmove",ye="cropend",be="crop",_e="zoom",Se={bind:function(){var e=this,t=e.options,n=e.element,i=e.cropper;k(t.cropstart)&&V(n,ge,t.cropstart),k(t.cropmove)&&V(n,ve,t.cropmove),k(t.cropend)&&V(n,ye,t.cropend),k(t.crop)&&V(n,be,t.crop),k(t.zoom)&&V(n,_e,t.zoom),V(i,ue,e.onCropStart=T(e.cropStart,e)),t.zoomable&&t.zoomOnWheel&&V(i,pe,e.onWheel=T(e.wheel,e)),t.toggleDragModeOnDblclick&&V(i,he,e.onDblclick=T(e.dblclick,e)),V(document,de,e.onCropMove=T(e.cropMove,e)),V(document,fe,e.onCropEnd=T(e.cropEnd,e)),t.responsive&&V(window,me,e.onResize=T(e.resize,e))},unbind:function(){var e=this,t=e.options,n=e.element,i=e.cropper;k(t.cropstart)&&j(n,ge,t.cropstart),k(t.cropmove)&&j(n,ve,t.cropmove),k(t.cropend)&&j(n,ye,t.cropend),k(t.crop)&&j(n,be,t.crop),k(t.zoom)&&j(n,_e,t.zoom),j(i,ue,e.onCropStart),t.zoomable&&t.zoomOnWheel&&j(i,pe,e.onWheel),t.toggleDragModeOnDblclick&&j(i,he,e.onDblclick),j(document,de,e.onCropMove),j(document,fe,e.onCropEnd),t.responsive&&j(window,me,e.onResize)}},we=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/;function Ce(e,t){var n=e.pageX,i=e.pageY,r={endX:n,endY:i};return t?r:x({startX:n,startY:i},r)}var ke={resize:function(){var e=this,t=e.options.restore,n=e.container,i=e.containerData;if(!e.disabled&&i){var r=n.offsetWidth/i.width,o=void 0,a=void 0;1===r&&n.offsetHeight===i.height||(t&&(o=e.getCanvasData(),a=e.getCropBoxData()),e.render(),t&&(e.setCanvasData($(o,(function(e,t){o[t]=e*r}))),e.setCropBoxData($(a,(function(e,t){a[t]=e*r})))))}},dblclick:function(){var e=this;e.disabled||e.setDragMode(P(e.dragBox,"cropper-crop")?"move":"crop")},wheel:function(e){var t=this,n=B(e),i=Number(t.options.wheelZoomRatio)||.1,r=1;t.disabled||(n.preventDefault(),t.wheeling||(t.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),n.deltaY?r=n.deltaY>0?1:-1:n.wheelDelta?r=-n.wheelDelta/120:n.detail&&(r=n.detail>0?1:-1),t.zoom(-r*i,n)))},cropStart:function(e){var t=this;if(!t.disabled){var n=t.options,i=t.pointers,r=B(e),o=void 0;if(r.changedTouches?$(r.changedTouches,(function(e){i[e.identifier]=Ce(e)})):i[r.pointerId||0]=Ce(r),o=Object.keys(i).length>1&&n.zoomable&&n.zoomOnTouch?"zoom":N(r.target,"action"),we.test(o)){if(!1===U(t.element,"cropstart",{originalEvent:r,action:o}))return;r.preventDefault(),t.action=o,t.cropping=!1,"crop"===o&&(t.cropping=!0,M(t.dragBox,"cropper-modal"))}}},cropMove:function(e){var t=this,n=t.action;if(!t.disabled&&n){var i=t.pointers,r=B(e);r.preventDefault(),!1!==U(t.element,"cropmove",{originalEvent:r,action:n})&&(r.changedTouches?$(r.changedTouches,(function(e){x(i[e.identifier],Ce(e,!0))})):x(i[r.pointerId||0],Ce(r,!0)),t.change(r))}},cropEnd:function(e){var t=this,n=t.action;if(!t.disabled&&n){var i=t.pointers,r=B(e);r.preventDefault(),r.changedTouches?$(r.changedTouches,(function(e){delete i[e.identifier]})):delete i[r.pointerId||0],Object.keys(i).length||(t.action=""),t.cropping&&(t.cropping=!1,I(t.dragBox,"cropper-modal",t.cropped&&this.options.modal)),U(t.element,"cropend",{originalEvent:r,action:n})}}},Fe="e",Ee="w",$e="s",xe="n",Te="se",Ae="sw",Pe="ne",Me="nw";function De(e){var t=x({},e),n=[];return $(e,(function(e,i){delete t[i],$(t,(function(t){var i=Math.abs(e.startX-t.startX),r=Math.abs(e.startY-t.startY),o=Math.abs(e.endX-t.endX),a=Math.abs(e.endY-t.endY),s=Math.sqrt(i*i+r*r),c=(Math.sqrt(o*o+a*a)-s)/s;n.push(c)}))})),n.sort((function(e,t){return Math.abs(e)<Math.abs(t)})),n[0]}var Ie={change:function(e){var t=this,n=t.options,i=t.containerData,r=t.canvasData,o=t.cropBoxData,a=n.aspectRatio,s=t.action,c=o.width,l=o.height,u=o.left,d=o.top,f=u+c,p=d+l,h=0,m=0,g=i.width,v=i.height,y=!0,b=void 0;!a&&e.shiftKey&&(a=c&&l?c/l:1),t.limited&&(h=o.minLeft,m=o.minTop,g=h+Math.min(i.width,r.width,r.left+r.width),v=m+Math.min(i.height,r.height,r.top+r.height));var _=t.pointers,S=_[Object.keys(_)[0]],w={x:S.endX-S.startX,y:S.endY-S.startY};switch(a&&(w.X=w.y*a,w.Y=w.x/a),s){case"all":u+=w.x,d+=w.y;break;case Fe:if(w.x>=0&&(f>=g||a&&(d<=m||p>=v))){y=!1;break}c+=w.x,a&&(l=c/a,d-=w.Y/2),c<0&&(s=Ee,c=0);break;case xe:if(w.y<=0&&(d<=m||a&&(u<=h||f>=g))){y=!1;break}l-=w.y,d+=w.y,a&&(c=l*a,u+=w.X/2),l<0&&(s=$e,l=0);break;case Ee:if(w.x<=0&&(u<=h||a&&(d<=m||p>=v))){y=!1;break}c-=w.x,u+=w.x,a&&(l=c/a,d+=w.Y/2),c<0&&(s=Fe,c=0);break;case $e:if(w.y>=0&&(p>=v||a&&(u<=h||f>=g))){y=!1;break}l+=w.y,a&&(c=l*a,u-=w.X/2),l<0&&(s=xe,l=0);break;case Pe:if(a){if(w.y<=0&&(d<=m||f>=g)){y=!1;break}l-=w.y,d+=w.y,c=l*a}else w.x>=0?f<g?c+=w.x:w.y<=0&&d<=m&&(y=!1):c+=w.x,w.y<=0?d>m&&(l-=w.y,d+=w.y):(l-=w.y,d+=w.y);c<0&&l<0?(s=Ae,l=0,c=0):c<0?(s=Me,c=0):l<0&&(s=Te,l=0);break;case Me:if(a){if(w.y<=0&&(d<=m||u<=h)){y=!1;break}l-=w.y,d+=w.y,c=l*a,u+=w.X}else w.x<=0?u>h?(c-=w.x,u+=w.x):w.y<=0&&d<=m&&(y=!1):(c-=w.x,u+=w.x),w.y<=0?d>m&&(l-=w.y,d+=w.y):(l-=w.y,d+=w.y);c<0&&l<0?(s=Te,l=0,c=0):c<0?(s=Pe,c=0):l<0&&(s=Ae,l=0);break;case Ae:if(a){if(w.x<=0&&(u<=h||p>=v)){y=!1;break}c-=w.x,u+=w.x,l=c/a}else w.x<=0?u>h?(c-=w.x,u+=w.x):w.y>=0&&p>=v&&(y=!1):(c-=w.x,u+=w.x),w.y>=0?p<v&&(l+=w.y):l+=w.y;c<0&&l<0?(s=Pe,l=0,c=0):c<0?(s=Te,c=0):l<0&&(s=Me,l=0);break;case Te:if(a){if(w.x>=0&&(f>=g||p>=v)){y=!1;break}l=(c+=w.x)/a}else w.x>=0?f<g?c+=w.x:w.y>=0&&p>=v&&(y=!1):c+=w.x,w.y>=0?p<v&&(l+=w.y):l+=w.y;c<0&&l<0?(s=Me,l=0,c=0):c<0?(s=Ae,c=0):l<0&&(s=Pe,l=0);break;case"move":t.move(w.x,w.y),y=!1;break;case"zoom":t.zoom(De(_),e),y=!1;break;case"crop":if(!w.x||!w.y){y=!1;break}b=W(t.cropper),u=S.startX-b.left,d=S.startY-b.top,c=o.minWidth,l=o.minHeight,w.x>0?s=w.y>0?Te:Pe:w.x<0&&(u-=c,s=w.y>0?Ae:Me),w.y<0&&(d-=l),t.cropped||(D(t.cropBox,"cropper-hidden"),t.cropped=!0,t.limited&&t.limitCropBox(!0,!0))}y&&(o.width=c,o.height=l,o.left=u,o.top=d,t.action=s,t.renderCropBox()),$(_,(function(e){e.startX=e.endX,e.startY=e.endY}))}};function Le(e){var t=0,n=0,i=0;return $(e,(function(e){var r=e.startX,o=e.startY;t+=r,n+=o,i+=1})),{pageX:t/=i,pageY:n/=i}}var Ne={crop:function(){var e=this;return e.ready&&!e.disabled&&(e.cropped||(e.cropped=!0,e.limitCropBox(!0,!0),e.options.modal&&M(e.dragBox,"cropper-modal"),D(e.cropBox,"cropper-hidden")),e.setCropBoxData(e.initialCropBoxData)),e},reset:function(){var e=this;return e.ready&&!e.disabled&&(e.imageData=x({},e.initialImageData),e.canvasData=x({},e.initialCanvasData),e.cropBoxData=x({},e.initialCropBoxData),e.renderCanvas(),e.cropped&&e.renderCropBox()),e},clear:function(){var e=this;return e.cropped&&!e.disabled&&(x(e.cropBoxData,{left:0,top:0,width:0,height:0}),e.cropped=!1,e.renderCropBox(),e.limitCanvas(),e.renderCanvas(),D(e.dragBox,"cropper-modal"),M(e.cropBox,"cropper-hidden")),e},replace:function(e,t){var n=this;return!n.disabled&&e&&(n.isImg&&(n.element.src=e),t?(n.url=e,n.image.src=e,n.ready&&(n.image2.src=e,$(n.previews,(function(t){z(t,"img")[0].src=e})))):(n.isImg&&(n.replaced=!0),n.options.data=null,n.load(e))),n},enable:function(){var e=this;return e.ready&&(e.disabled=!1,D(e.cropper,"cropper-disabled")),e},disable:function(){var e=this;return e.ready&&(e.disabled=!0,M(e.cropper,"cropper-disabled")),e},destroy:function(){var e=this,t=e.element,n=e.image;return e.loaded?(e.isImg&&e.replaced&&(t.src=e.originalUrl),e.unbuild(),D(t,"cropper-hidden")):e.isImg?j(t,"load",e.start):n&&Z(n),O(t,"cropper"),e},move:function(e,t){var n=this,i=n.canvasData;return n.moveTo(S(e)?e:i.left+Number(e),S(t)?t:i.top+Number(t))},moveTo:function(e,t){var n=this,i=n.canvasData,r=!1;return S(t)&&(t=e),e=Number(e),t=Number(t),n.ready&&!n.disabled&&n.options.movable&&(_(e)&&(i.left=e,r=!0),_(t)&&(i.top=t,r=!0),r&&n.renderCanvas(!0)),n},zoom:function(e,t){var n=this,i=n.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,n.zoomTo(i.width*e/i.naturalWidth,t)},zoomTo:function(e,t){var n=this,i=n.options,r=n.canvasData,o=r.width,a=r.height,s=r.naturalWidth,c=r.naturalHeight;if((e=Number(e))>=0&&n.ready&&!n.disabled&&i.zoomable){var l=s*e,u=c*e;if(!1===U(n.element,"zoom",{originalEvent:t,oldRatio:o/s,ratio:l/s}))return n;if(t){var d=n.pointers,f=W(n.cropper),p=d&&Object.keys(d).length?Le(d):{pageX:t.pageX,pageY:t.pageY};r.left-=(l-o)*((p.pageX-f.left-r.left)/o),r.top-=(u-a)*((p.pageY-f.top-r.top)/a)}else r.left-=(l-o)/2,r.top-=(u-a)/2;r.width=l,r.height=u,n.renderCanvas(!0)}return n},rotate:function(e){var t=this;return t.rotateTo((t.imageData.rotate||0)+Number(e))},rotateTo:function(e){var t=this;return _(e=Number(e))&&t.ready&&!t.disabled&&t.options.rotatable&&(t.imageData.rotate=e%360,t.rotated=!0,t.renderCanvas(!0)),t},scale:function(e,t){var n=this,i=n.imageData,r=!1;return S(t)&&(t=e),e=Number(e),t=Number(t),n.ready&&!n.disabled&&n.options.scalable&&(_(e)&&(i.scaleX=e,r=!0),_(t)&&(i.scaleY=t,r=!0),r&&n.renderImage(!0)),n},scaleX:function(e){var t=this,n=t.imageData.scaleY;return t.scale(e,_(n)?n:1)},scaleY:function(e){var t=this,n=t.imageData.scaleX;return t.scale(_(n)?n:1,e)},getData:function(e){var t=this,n=t.options,i=t.imageData,r=t.canvasData,o=t.cropBoxData,a=void 0,s=void 0;return t.ready&&t.cropped?(s={x:o.left-r.left,y:o.top-r.top,width:o.width,height:o.height},a=i.width/i.naturalWidth,$(s,(function(t,n){t/=a,s[n]=e?Math.round(t):t}))):s={x:0,y:0,width:0,height:0},n.rotatable&&(s.rotate=i.rotate||0),n.scalable&&(s.scaleX=i.scaleX||1,s.scaleY=i.scaleY||1),s},setData:function(e){var t=this,n=t.options,i=t.imageData,r=t.canvasData,o={},a=void 0,s=void 0,c=void 0;return k(e)&&(e=e.call(t.element)),t.ready&&!t.disabled&&C(e)&&(n.rotatable&&_(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,t.rotated=a=!0),n.scalable&&(_(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,s=!0),_(e.scaleY)&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,s=!0)),a?t.renderCanvas():s&&t.renderImage(),c=i.width/i.naturalWidth,_(e.x)&&(o.left=e.x*c+r.left),_(e.y)&&(o.top=e.y*c+r.top),_(e.width)&&(o.width=e.width*c),_(e.height)&&(o.height=e.height*c),t.setCropBoxData(o)),t},getContainerData:function(){var e=this;return e.ready?e.containerData:{}},getImageData:function(){var e=this;return e.loaded?e.imageData:{}},getCanvasData:function(){var e=this,t=e.canvasData,n={};return e.ready&&$(["left","top","width","height","naturalWidth","naturalHeight"],(function(e){n[e]=t[e]})),n},setCanvasData:function(e){var t=this,n=t.canvasData,i=n.aspectRatio;return k(e)&&(e=e.call(t.element)),t.ready&&!t.disabled&&C(e)&&(_(e.left)&&(n.left=e.left),_(e.top)&&(n.top=e.top),_(e.width)?(n.width=e.width,n.height=e.width/i):_(e.height)&&(n.height=e.height,n.width=e.height*i),t.renderCanvas(!0)),t},getCropBoxData:function(){var e=this,t=e.cropBoxData,n=void 0;return e.ready&&e.cropped&&(n={left:t.left,top:t.top,width:t.width,height:t.height}),n||{}},setCropBoxData:function(e){var t=this,n=t.cropBoxData,i=t.options.aspectRatio,r=void 0,o=void 0;return k(e)&&(e=e.call(t.element)),t.ready&&t.cropped&&!t.disabled&&C(e)&&(_(e.left)&&(n.left=e.left),_(e.top)&&(n.top=e.top),_(e.width)&&e.width!==n.width&&(r=!0,n.width=e.width),_(e.height)&&e.height!==n.height&&(o=!0,n.height=e.height),i&&(r?n.height=n.width/i:o&&(n.width=n.height*i)),t.renderCropBox()),t},getCroppedCanvas:function(e){var t=this;if(!t.ready||!window.HTMLCanvasElement)return null;if(!t.cropped)return te(t.image,t.imageData);C(e)||(e={});var n=t.getData(),i=n.width,r=n.height,a=i/r,s=void 0,c=void 0,l=void 0;C(e)&&(s=e.width,c=e.height,s?(c=s/a,l=s/i):c&&(s=c*a,l=c/r));var u=Math.floor(s||i),d=Math.floor(c||r),f=q("canvas"),p=f.getContext("2d");f.width=u,f.height=d,e.fillColor&&(p.fillStyle=e.fillColor,p.fillRect(0,0,u,d));var h,m,g,v,y,b,_,S,w,k,F,E,$,x=(h=te(t.image,t.imageData),m=h.width,g=h.height,v=t.canvasData,y=[h],b=n.x+v.naturalWidth*(Math.abs(n.scaleX||1)-1)/2,_=n.y+v.naturalHeight*(Math.abs(n.scaleY||1)-1)/2,S=void 0,w=void 0,k=void 0,F=void 0,E=void 0,$=void 0,b<=-i||b>m?b=S=k=E=0:b<=0?(k=-b,b=0,S=E=Math.min(m,i+b)):b<=m&&(k=0,S=E=Math.min(i,m-b)),S<=0||_<=-r||_>g?_=w=F=$=0:_<=0?(F=-_,_=0,w=$=Math.min(g,r+_)):_<=g&&(F=0,w=$=Math.min(r,g-_)),y.push(Math.floor(b),Math.floor(_),Math.floor(S),Math.floor(w)),l&&(k*=l,F*=l,E*=l,$*=l),E>0&&$>0&&y.push(Math.floor(k),Math.floor(F),Math.floor(E),Math.floor($)),y);return p.drawImage.apply(p,o(x)),f},setAspectRatio:function(e){var t=this,n=t.options;return t.disabled||S(e)||(n.aspectRatio=Math.max(0,e)||NaN,t.ready&&(t.initCropBox(),t.cropped&&t.renderCropBox())),t},setDragMode:function(e){var t=this,n=t.options,i=t.dragBox,r=t.face,o=void 0,a=void 0;return t.loaded&&!t.disabled&&(o="crop"===e,a=n.movable&&"move"===e,R(i,"action",e=o||a?e:"none"),I(i,"cropper-crop",o),I(i,"cropper-move",a),n.cropBoxMovable||(R(r,"action",e),I(r,"cropper-crop",o),I(r,"cropper-move",a))),t}},Re="cropper",Oe=Re+"-hidden",je="error",Ve="load",Ue="ready",Be="crop",We=/^data:/,ze=/^data:image\/jpeg.*;base64,/,He=void 0,qe=function(){function n(t,r){i(this,n);var o=this;o.element=t,o.options=x({},e,C(r)&&r),o.loaded=!1,o.ready=!1,o.complete=!1,o.rotated=!1,o.cropped=!1,o.disabled=!1,o.replaced=!1,o.limited=!1,o.wheeling=!1,o.isImg=!1,o.originalUrl="",o.canvasData=null,o.cropBoxData=null,o.previews=null,o.pointers={},o.init()}return r(n,[{key:"init",value:function(){var e=this,t=e.element,n=t.tagName.toLowerCase(),i=void 0;if(!N(t,Re)){if(R(t,Re,e),"img"===n){if(e.isImg=!0,e.originalUrl=i=t.getAttribute("src"),!i)return;i=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(i=t.toDataURL());e.load(i)}}},{key:"load",value:function(e){var t=this,n=t.options,i=t.element;if(e)if(t.url=e,t.imageData={},n.checkOrientation&&window.ArrayBuffer)if(We.test(e))ze?t.read(re(e)):t.clone();else{var r=new XMLHttpRequest;r.onerror=r.onabort=function(){t.clone()},r.onload=function(){t.read(r.response)},n.checkCrossOrigin&&X(e)&&i.crossOrigin&&(e=K(e)),r.open("get",e),r.responseType="arraybuffer",r.withCredentials="use-credentials"===i.crossOrigin,r.send()}else t.clone()}},{key:"read",value:function(e){var t=this,n=t.options,i=ie(e),r=t.imageData,o=0,a=1,s=1;if(i>1)switch(t.url=oe(e),i){case 2:a=-1;break;case 3:o=-180;break;case 4:s=-1;break;case 5:o=90,s=-1;break;case 6:o=90;break;case 7:o=90,a=-1;break;case 8:o=-90}n.rotatable&&(r.rotate=o),n.scalable&&(r.scaleX=a,r.scaleY=s),t.clone()}},{key:"clone",value:function(){var e=this,t=e.element,n=e.url,i=void 0,r=void 0,o=void 0,a=void 0;e.options.checkCrossOrigin&&X(n)&&((i=t.crossOrigin)?r=n:(i="anonymous",r=K(n))),e.crossOrigin=i,e.crossOriginUrl=r;var s=q("img");i&&(s.crossOrigin=i),s.src=r||n,e.image=s,e.onStart=o=T(e.start,e),e.onStop=a=T(e.stop,e),e.isImg?t.complete?e.start():V(t,Ve,o):(V(s,Ve,o),V(s,je,a),M(s,"cropper-hide"),t.parentNode.insertBefore(s,t.nextSibling))}},{key:"start",value:function(e){var t=this,n=t.isImg?t.element:t.image;e&&(j(n,Ve,t.onStart),j(n,je,t.onStop)),J(n,(function(e,n){x(t.imageData,{naturalWidth:e,naturalHeight:n,aspectRatio:e/n}),t.loaded=!0,t.build()}))}},{key:"stop",value:function(){var e=this,t=e.image;j(t,Ve,e.onStart),j(t,je,e.onStop),Z(t),e.image=null}},{key:"build",value:function(){var e=this,n=e.options,i=e.element,r=e.image,o=void 0,a=void 0,s=void 0,c=void 0,l=void 0,u=void 0;if(e.loaded){e.ready&&e.unbuild();var d=q("div");d.innerHTML=t,e.container=o=i.parentNode,e.cropper=a=H(d,"cropper-container")[0],e.canvas=s=H(a,"cropper-canvas")[0],e.dragBox=c=H(a,"cropper-drag-box")[0],e.cropBox=l=H(a,"cropper-crop-box")[0],e.viewBox=H(a,"cropper-view-box")[0],e.face=u=H(l,"cropper-face")[0],G(s,r),M(i,Oe),o.insertBefore(a,i.nextSibling),e.isImg||D(r,"cropper-hide"),e.initPreview(),e.bind(),n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,e.cropped=n.autoCrop,n.autoCrop?n.modal&&M(c,"cropper-modal"):M(l,Oe),n.guides||M(H(l,"cropper-dashed"),Oe),n.center||M(H(l,"cropper-center"),Oe),n.background&&M(a,"cropper-bg"),n.highlight||M(u,"cropper-invisible"),n.cropBoxMovable&&(M(u,"cropper-move"),R(u,"action","all")),n.cropBoxResizable||(M(H(l,"cropper-line"),Oe),M(H(l,"cropper-point"),Oe)),e.setDragMode(n.dragMode),e.render(),e.ready=!0,e.setData(n.data),e.completing=setTimeout((function(){k(n.ready)&&V(i,Ue,n.ready,!0),U(i,Ue),U(i,Be,e.getData()),e.complete=!0}),0)}}},{key:"unbuild",value:function(){var e=this;e.ready&&(e.complete||clearTimeout(e.completing),e.ready=!1,e.complete=!1,e.initialImageData=null,e.initialCanvasData=null,e.initialCropBoxData=null,e.containerData=null,e.canvasData=null,e.cropBoxData=null,e.unbind(),e.resetPreview(),e.previews=null,e.viewBox=null,e.cropBox=null,e.dragBox=null,e.canvas=null,e.container=null,Z(e.cropper),e.cropper=null)}}],[{key:"noConflict",value:function(){return window.Cropper=He,n}},{key:"setDefaults",value:function(t){x(e,C(t)&&t)}}]),n}();return x(qe.prototype,ae),x(qe.prototype,ce),x(qe.prototype,Se),x(qe.prototype,ke),x(qe.prototype,Ie),x(qe.prototype,Ne),"undefined"!==typeof window&&(He=window.Cropper,window.Cropper=qe),qe}()},332:function(e,t,n){e.exports=function(){return{restrict:"E",scope:{},bindToController:{locales:"&"},link:function(e,t,n,i){var r=i[0],o=i[1];r.ngModel=o,r.localeList=t[0].querySelector(".adobe-fonts-locale-switcher__locale-items"),r.localeSwitcherButton=t[0].querySelector(".adobe-fonts-locale-switcher__popover-button")},controller:n(333),controllerAs:"adobeFontsLocaleSwitcherCtrl",require:["adobeFontsLocaleSwitcher","?ngModel"],templateUrl:"/angular_templates/directives/adobe_fonts_locale_switcher.html"}}},333:function(e,t,n){r.$inject=["$scope","$window"];var i=n(184);function r(e,t){this.$scope=e,this.$window=t,this.isOpen=!1}r.prototype.getLabel=function(){for(var e=this.locales(),t=0;t<e.length;t++)if(e[t].value===this.getValue())return e[t].label},r.prototype.getValue=function(){if(this.ngModel)return this.ngModel.$viewValue},r.prototype.handleToggle=function(e){e.stopPropagation();var t=this;this.isOpen||(this.$window.addEventListener("click",(function(){t.$scope.$apply((function(){t.isOpen=!1}))}),{once:!0}),this.$window.addEventListener("keydown",(function(){"Escape"===e.key&&t.$scope.$apply((function(){t.isOpen=!1}))}),{once:!0})),this.isOpen=!this.isOpen},r.prototype.isSelected=function(e){return e.value===this.getValue()},r.prototype.updateValue=function(e){this.ngModel&&this.ngModel.$setViewValue(e.value)},r.prototype.navigateLocale=function(e){if("Escape"===e.key||"Tab"===e.key)return this.handleToggle(e);i.navigateDropdown(e,this.localeSwitcherButton,this.localeList)},r.prototype.isButtonItemsDisabled=function(){return!this.isOpen},e.exports=r},334:function(e,t){function n(e,t){return{post:function(n){if(t.Visitor){var i=t.Visitor.getInstance("9E1005A551ED61CA0A490D45@AdobeOrg");return n.visitor_guid=i.getMarketingCloudVisitorID(),n.page_name=t.document.title,n.event_url=t.location.href,e.post("/analytics/events",n)}}}}n.$inject=["$http","$window"],e.exports=n},335:function(e,t){function n(e){return{get:function(t){return e.get("/search/autocomplete?query="+t)},getItemHyperlink:function(e){return"/fonts/"+e.slug}}}n.$inject=["$http"],e.exports=n},336:function(e,t){function n(e,t){return{getSubmittedFeedback:function(e,t){return this._setDefaultSubmittedFeedback(e,t),t?this._submittedFeedback[e].familyFeedback[t]:this._submittedFeedback[e].feedback},post:function(n,i,r,o,a,s,c){var l=this;return t.getUserPrefs().then((function(t){if(l.getSubmittedFeedback(r,a)!==o){var u=l._getFeedbackParams(n,i,r,o,a,t,s,c);return e.post("/feedbacks.json",u).then((function(){l.setSubmittedFeedback(r,o,a)}))}}))},setFiltersModel:function(e){this.filtersModel=e},setSubmittedFeedback:function(e,t,n){this._setDefaultSubmittedFeedback(e,n),n?this._submittedFeedback[e].familyFeedback[n]=t:this._submittedFeedback[e].feedback=t},_getFeedbackParams:function(e,t,n,i,r,o,a,s){var c={category:e,feedback_type:i,id:n,view_type:o.selectedViewType};return t&&(c.subcategory=t),this.filtersModel&&(c.filters=this.filtersModel.getSelectedFilters().join(","),c.languages=this.filtersModel.getSelectedLanguages().join(","),c.locale=this.filtersModel.getLocale()),r&&(c.family_slug=r),a&&(c.variation_one=a),s&&(c.variation_two=s),c},_setDefaultSubmittedFeedback:function(e,t){this._submittedFeedback=this._submittedFeedback||{},this._submittedFeedback[e]=this._submittedFeedback[e]||{},t&&(this._submittedFeedback[e].familyFeedback=this._submittedFeedback[e].familyFeedback||{})}}}n.$inject=["$http","UserPrefsService"],e.exports=n},337:function(e,t){function n(e,t,n,i){return{isReleaseEnabled:function(e){if(null==this.releaseFlagBitIndices||null==this.releaseFlagBitString)throw new Error("FloodgateService has not loaded yet. Make sure to call load() first.");if(0===this.releaseFlagBitString.length)return!1;var t=null;this.releaseFlagBitIndices[e]&&(t="1"===this.releaseFlagBitString[this.releaseFlagBitIndices[e]]);return t},load:function(){var e=this;return Promise.allSettled([n.get("/neue/release_flag_bit_indices").then((function(t){e.releaseFlagBitIndices=t})),new Promise((function(n){i.addOnReadyHandler((function(){t.adobeIMS.getReleaseFlags(!0).then((function(t){e.releaseFlagBitString=t,n()})).catch((function(){e.releaseFlagBitString="",n()}))}))}))])}}}n.$inject=["$q","$window","DataService","ImsEventsService"],e.exports=n},338:function(e,t){e.exports=function(){var e,t,n,i,r;return{getAllActivatedFontsCount:function(){return e},getAllPreviouslyActivatedFontsCount:function(){return t},getFilteredActivatedFontsCount:function(){return n},getThirtyDayActivatedFontsCount:function(){return i},getAllFamiliesCount:function(){return r},isAllActivatedFontsCountSet:o,isAllPreviouslyActivatedFontsCountSet:a,isFilteredActivatedFontsCountSet:s,isThirtyDayActivatedFontsCountSet:c,isAllFamiliesCountSet:l,setAllActivatedFontsCount:function(t){e=t},setAllPreviouslyActivatedFontsCount:function(e){t=e},setFilteredActivatedFontsCount:function(e){n=e},setThirtyDayActivatedFontsCount:function(e){i=e},setAllFamiliesCount:function(e){r=e},updateActivatedFontsCount:function(t){o()&&(e+=t);s()&&(n+=t);c()&&(i+=t)},updatePreviouslyActivatedFontsCount:function(e){a()&&(t+=e)},updateFamiliesCount:function(e){l()&&(r+=e)}};function o(){return!("undefined"===typeof e)}function a(){return!("undefined"===typeof t)}function s(){return!("undefined"===typeof n)}function c(){return!("undefined"===typeof i)}function l(){return!("undefined"===typeof r)}}},339:function(e,t,n){r.$inject=["$document","NewrelicService"];var i=n(19);function r(e,t){var n;return{init:function(t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),n=t.page,i.element(e[0].body).on("click",r)}};function r(e){e.target.matches("a, a *")?function(e){var n=o(e,"A");if(null!=n){var i=n.href,r=n.className;t.addPageAction(a("click"),{elementUrl:i,elementClass:r})}}(e):function(e){return e.matches("input")}(e.target)&&function(e){var n=e.target;if("submit"===n.type){n=o(e,"FORM").querySelector("input[type=text]")}t.addPageAction(a("input"),{inputValue:n.value,inputName:n.name})}(e)}function o(e,t){for(var n=e.target;n;){if(n.tagName===t)return n;n=n.parentNode}return null}function a(e){return["typekit",n,e].join(".")}}e.exports=r},340:function(e,t){n.$inject=["$q","DataService","UrlService"];function n(e,t,n){return{getContext:i,handleContext:function(){return e((function(e){i().then((function(t){n.removeSearchParam("ctx"),e(t)}))}))},handleContextIfPresent:function(){return e((function(e,t){i().then((function(i){n.getSearchParam("ctx")||t(),n.removeSearchParam("ctx"),e(i)}))}))}};function i(){return t.get("/neue/context")}}e.exports=n},341:function(e,t,n){o.$inject=["$http","$q","NewrelicService","UserService"];var i=n(6),r="/desktop_font_selections";function o(e,t,n,o){return{addSyncedVariations:function(a,s,c){var l=o.isInOverage(),u=i.extend({add_font_ids:a},s||{});return e({data:{data:JSON.stringify(u)},method:"PUT",url:r}).then((function(e){return t((function(t){"data"in e&&e.data.added_font_ids.length>0&&o.incrementSyncUsage(e.data.added_font_ids.length),n.addPageAction("typekit.click.sync-add-fonts",{fontCount:a.length,royaltyFontCount:e.data.added_paid_count,toSyncCount:c,plan:o.getPlan(),enteredOverage:!l&&o.isInOverage(),inOverage:o.isInOverage(),overageAmount:o.getSyncOverageAmount(),fromFontpack:!!(s||{}).fontpack_id}),t(e)}))}))},removeSyncedVariations:function(a,s){var c=o.isInOverage(),l=i.extend({remove_font_ids:a},s||{});return e({data:{data:JSON.stringify(l)},method:"PUT",url:r}).then((function(e){return t((function(t){"data"in e&&e.data.removed_font_ids.length>0&&o.decrementSyncUsage(e.data.removed_font_ids.length),n.addPageAction("typekit.click.sync-remove-fonts",{fontCount:a.length,royaltyFontCount:e.data.removed_paid_count,plan:o.getPlan(),exitedOverage:c&&!o.isInOverage(),inOverage:o.isInOverage(),overageAmount:o.getSyncOverageAmount()}),t(e)}))}))}}}e.exports=o},358:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const i="af.filter-sidebar.clear-filters";class r extends CustomEvent{constructor(){super(i,{bubbles:!0,composed:!0})}}r.EVENT_NAME=i},359:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const i="af.filter-sidebar.filter-toggled";class r extends CustomEvent{constructor(e){super(i,{detail:{filterKey:e},bubbles:!0,composed:!0})}}r.EVENT_NAME=i},360:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const i="af.filter-sidebar.language-filter-toggled";class r extends CustomEvent{constructor(e){super(i,{detail:{language:e},bubbles:!0,composed:!0})}}r.EVENT_NAME=i},361:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const i="af.filter-sidebar.number-of-fonts-slider-changed";class r extends CustomEvent{constructor(e,t){super(i,{detail:{handleName:e,value:t},bubbles:!0,composed:!0})}}r.EVENT_NAME=i},362:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const i="af.filter-sidebar.show-paid-fonts-toggled";class r extends CustomEvent{constructor(e){super(i,{detail:{showPaidFonts:e},bubbles:!0,composed:!0})}}r.EVENT_NAME=i},363:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const i="af.filter-sidebar.tag-toggled";class r extends CustomEvent{constructor(e){super(i,{detail:{tag:e},bubbles:!0,composed:!0})}}r.EVENT_NAME=i},393:function(e,t,n){"use strict";n.r(t),n.d(t,"EVENT_NAME",(function(){return i})),n.d(t,"default",(function(){return r}));const i="af.filter-sidebar.technology-filter-toggled";class r extends CustomEvent{constructor(e){super(i,{detail:{fontTechnology:e},bubbles:!0,composed:!0})}}r.EVENT_NAME=i},395:function(e,t){n.$inject=["$scope","$window","DataService","NewrelicService","UrlService","UserService"];function n(e,t,n,i,r,o){var a=this;a.$scope=e,a.$window=t,a.DataService=n,a.NewrelicService=i,a.UrlService=r,a.UserService=o,a.$window.addEventListener("resize",(function(){a._handleWindowResize()})),a._preloadData().then((function(){a._setNewrelicCustomAttributes()}))}n.prototype.handleNavigationToggleButton=function(){this.isNavigationExpanded=!this.isNavigationExpanded},n.prototype._handleWindowResize=function(){this.$window.innerWidth>=768&&(this.isNavigationExpanded=!1,this.$scope.$digest())},n.prototype._preloadData=function(){var e=this;return e.DataService.get("/user_info").then((function(t){e.UserService.setActivityState(t.activity_state),e.UserService.setDaysSinceSyncActivity(t.days_since_sync_activity),e.UserService.setPlan(t.plan)}))},n.prototype._setNewrelicCustomAttributes=function(){var e=this.UrlService.getSearchParam("referrer");e&&this.NewrelicService.setCustomAttribute("referrer",e),this.NewrelicService.setCustomAttribute("activityState",this.UserService.getActivityState()),this.NewrelicService.setCustomAttribute("daysSinceSyncActivity",this.UserService.getDaysSinceSyncActivity()),this.NewrelicService.setCustomAttribute("plan",this.UserService.getPlan())},e.exports=n},416:function(e,t){e.exports={getImageClass:function(e){if(!e)return;if("gif"===e.type)return"adobe-fonts-family-image-card--gif"},getStillImageUrl:function(e){if(!e)return"";for(var t=0;t<e.length;t++)if("gif"!==e[t].type)return e[t].url;return""}}},423:function(e,t,n){var i=n(19),r="Escape";function o(e,t){return t==e||!!t.parentNode&&o(e,t.parentNode)}e.exports=function(){return{bindToController:{dropdownBaseOptions:"&"},link:function(e,t,n,a){var s=a[0],c=a[1];s.ngModel=c,t.addClass(s.getClass()),(s.dropdownBaseOptions()||{}).disableBodyEvents||function(e,t,n){i.element(document.body).on("click",(function(i){o(e[0],i.target)||n.$apply((function(){t.toggleMenu(!1)}))})),i.element(document.body).on("keydown",(function(e){e.key==r&&n.$apply((function(){t.toggleMenu(!1)}))}))}(t,s,e),s.menuButton=t[0].querySelector(".".concat(s.getMenuButtonClass())),s.menuItemsList=t[0].querySelector(".".concat(s.getMenuItemsClass())),s.menuItems=s.menuItemsList.children},controller:n(424),controllerAs:"dropdownBase",require:["dropdownBase","?ngModel"],restrict:"A"}}},424:function(e,t,n){a.$inject=["$element"];var i=n(184),r=n(6),o="is-selected";function a(e){this.$element=e,this.isOpen=!1}a.prototype.getClass=function(){return"adobe-fonts-select-menu"},a.prototype.getContentClass=function(){return"adobe-fonts-select-menu__content"},a.prototype.getMenuButtonClass=function(){return"adobe-fonts-select-menu__dropdown-button"},a.prototype.getMenuItemClass=function(){return"adobe-fonts-select-menu__menu-item"},a.prototype.getMenuItemSelectedClass=function(){return o},a.prototype.getOpenClass=function(){return"is-open"},a.prototype.getMenuItemsClass=function(){return"adobe-fonts-select-menu__menu-items"},a.prototype.getValue=function(){if(this.ngModel)return this.ngModel.$viewValue},a.prototype.toggleMenu=function(e){this.isOpen=void 0===e?!this.isOpen:e,this.toggleMenuItemsAttributes(this.isOpen),this.$element.toggleClass(this.getOpenClass(),this.isOpen)},a.prototype.updateValue=function(e){this.ngModel&&this.ngModel.$setViewValue(e)},a.prototype.navigateMenu=function(e){i.navigateDropdown(e,this.menuButton,this.menuItemsList)},a.prototype.toggleMenuItemsAttributes=function(e){0!==this.menuItems.length&&r.forEach(this.menuItems,(function(t){t.ariaSelected=!!r.includes(t.classList,o),t.tabIndex=e?0:-1}))},e.exports=a},425:function(e,t){e.exports=function(){return{link:function(e,t,n,i){t.addClass(i.getMenuButtonClass()),t.on("click",(function(){e.$apply((function(){i.toggleMenu()}))}))},require:"^dropdownBase",restrict:"A"}}},426:function(e,t){e.exports=function(){return{link:function(e,t,n,i){t.addClass(i.getContentClass()),e.$watch((function(){return i.isOpen}),(function(){t.toggleClass(i.getOpenClass(),i.isOpen)})),t.on("keydown",(function(e){"ArrowDown"!==e.key&&"ArrowUp"!==e.key||i.navigateMenu(e),"Tab"===e.key&&(i.toggleMenu(),t.toggleClass(i.getOpenClass(),i.isOpen))}))},require:"^dropdownBase",restrict:"A"}}},427:function(e,t,n){var i=n(6);e.exports=function(){return{link:function(e,t,n,r){t.addClass(r.getMenuItemClass());var o=e.$eval(n.value);t.on("click",(function(){r.toggleMenu(!1),o&&r.updateValue(o)})),o&&e.$watch((function(){return r.getValue()}),(function(){t.toggleClass(r.getMenuItemSelectedClass(),i.isEqual(r.getValue(),o))}))},require:"^dropdownBase",restrict:"A"}}},428:function(e,t,n){function i(e,t){return{scope:{},bindToController:{groups:"&",heroImageFocus:"@",imageUrl:"@",static:"@"},controller:n(429),controllerAs:"fontpackHero",require:["fontpackHero","?ngModel"],restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/fontpack_hero.html",link:function(n,i,r,o){var a=o[0],s=o[1];a.ngModel=s,a.element=i[0],function(n){if(!n||!a.imageUrl||a.isStaticFontpack())return;e.get(a.imageUrl,{responseType:"blob"}).then((function(e){n.data=t.URL.createObjectURL(e.data),n.onload=function(){a.initSvg()}}))}(a.getSvgEl())}}}i.$inject=["$http","$window"],e.exports=i},429:function(e,t,n){s.$inject=["$scope","$window"];var i=n(19),r=n(6),o=n(323),a="#viewport";function s(e,t){var n=this;n.$scope=e,n.MAX_ZOOM_LEVEL=2,n.MIN_ZOOM_LEVEL=.5,n.isSvgInitialized=!1,t.addEventListener("resize",(function(){n.$scope.$apply((function(){n._handleWindowResize()}))}))}s.prototype.adjustSvgBackground=function(){var e=this.getSvgBackground();if(e){this.getSvgBackground().style.transform="scale(1, 1)";var t=e.getBoundingClientRect(),n=this.getSvgEl().getBoundingClientRect(),i=n.width/t.width,r=n.height/t.height;this.getSvgBackground().style.transform="scale("+i+","+r+")"}},s.prototype.getSvgBackground=function(){return this.getSvgEl().contentDocument.querySelector("#background")},s.prototype.getSvgEl=function(){return this.element.querySelector(".fontpack-hero__svg")},s.prototype.getSvgViewport=function(){return this.getSvgEl().contentDocument.querySelector(a)},s.prototype.handleSvgBackgroundClick=function(){this._resetSelectedVariation()},s.prototype.handleSvgGroupClick=function(e){this._isSelectedGroup(e)?this._resetSelectedGroups():this._selectSvgGroup(e)},s.prototype.handleVariationClick=function(e){this.isSvgInitialized&&(this.selectedVariationId==e.variation_id?this._resetSelectedVariation():this._selectVariation(e))},s.prototype.getVariationElementClass=function(e){return this.isVariationSelected(e)?"fontpack-hero__variation--selected":this.isVariationInSelectedGroups(e)?"fontpack-hero__variation--used":void 0},s.prototype.initSvg=function(){this.initSvgEvents(),this.initSvgPanZoom(),this.adjustSvgBackground()},s.prototype.initSvgEvents=function(){var e=this;e.svgGroups=e.getSvgViewport().children,r.each(e.svgGroups,(function(t){i.element(t).on("click",(function(n){n.stopPropagation(),e.$scope.$apply((function(){e.handleSvgGroupClick(t)}))}))})),i.element(this.getSvgBackground()).on("click",(function(t){t.stopPropagation(),e.$scope.$apply((function(){e.handleSvgBackgroundClick()}))}))},s.prototype.initSvgPanZoom=function(){var e=this;e.svgElPanZoom=o(e.getSvgEl(),{center:!0,contain:!0,fit:!1,customEventsHandler:{init:function(t){e.$scope.$apply((function(){e.svgZoomLevel=t.instance.getZoom()})),e.isSvgInitialized=!0}},mouseWheelZoomEnabled:!1,viewportSelector:a})},s.prototype.isStaticFontpack=function(){return"true"===this.static},s.prototype.isVariationInSelectedGroups=function(e){if(!this.selectedGroupIds)return!1;for(var t=0;t<this.selectedGroupIds.length;t++)if(r.contains(this.groups()[this.selectedGroupIds[t]],e.variation_id))return!0;return!1},s.prototype.isVariationSelected=function(e){return e.variation_id==this.selectedVariationId},s.prototype.objectPositionStyle=function(){return this.heroImageFocus&&this.heroImageFocus.length>0?{"object-position":this.heroImageFocus}:{}},s.prototype.zoomIn=function(){!this.isSvgInitialized||this.svgZoomLevel>=this.MAX_ZOOM_LEVEL||(this.svgZoomLevel+=.2,this.svgElPanZoom.zoom(this.svgZoomLevel))},s.prototype.zoomOut=function(){!this.isSvgInitialized||this.svgZoomLevel<=this.MIN_ZOOM_LEVEL||(this.svgZoomLevel-=.2,this.svgElPanZoom.zoom(this.svgZoomLevel))},s.prototype.zoomReset=function(){this.isSvgInitialized&&(this.svgElPanZoom.resize(),this.svgElPanZoom.contain(),this.svgElPanZoom.center(),this.svgZoomLevel=this.svgElPanZoom.getZoom())},s.prototype._disableSvgGroups=function(){r.each(this.svgGroups,(function(e){e.style.opacity=.2}))},s.prototype._getGroupsForVariation=function(e){var t=[];return r.each(this.groups(),(function(n,i){r.contains(n,e.variation_id)&&t.push(i)})),t},s.prototype._getSvgGroupEl=function(e){return this.getSvgEl().contentDocument.querySelector("#"+e)},s.prototype._handleWindowResize=function(){this.zoomReset(),this.adjustSvgBackground()},s.prototype._highlightSvgGroupEls=function(e){this._disableSvgGroups(),r.each(e,(function(e){e.style.opacity=1}))},s.prototype._isSelectedGroup=function(e){return this.selectedGroupIds&&1==this.selectedGroupIds.length&&r.contains(this.selectedGroupIds,e.id)},s.prototype._resetSelectedGroups=function(){this._highlightSvgGroupEls(this.svgGroups),this._setSelectedGroupIds([])},s.prototype._resetSelectedVariation=function(){this.selectedVariationId=null,this._resetSelectedGroups()},s.prototype._selectSvgGroup=function(e){this._setSelectedGroupIds([e.id]),this._highlightSvgGroupEls([e]),this.selectedVariationId=null},s.prototype._selectVariation=function(e){var t=this;t.selectedVariationId=e.variation_id,t._setSelectedGroupIds(t._getGroupsForVariation(e));var n=r.map(t.selectedGroupIds,(function(e){return t._getSvgGroupEl(e)}));t._highlightSvgGroupEls(n),this.svgElPanZoom.fit(),this.svgZoomLevel=this.svgElPanZoom.getZoom()},s.prototype._setSelectedGroupIds=function(e){this.selectedGroupIds=e,this.ngModel&&this.ngModel.$setViewValue(e)},e.exports=s},430:function(e,t,n){var i=n(431),r=n(432),o=n(219),a=n(218),s=n(433),c=function(e,t){this.init(e,t)},l={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},u={passive:!0};c.prototype.init=function(e,t){var n=this;this.svg=e,this.defs=e.querySelector("defs"),a.setupSvgAttributes(this.svg),this.options=o.extend(o.extend({},l),t),this.state="none";var i=a.getBoundingClientRectNormalized(e);this.width=i.width,this.height=i.height,this.viewport=s(a.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(e,t){if(n.viewport&&n.options.beforeZoom)return n.options.beforeZoom(e,t)},onZoom:function(e){if(n.viewport&&n.options.onZoom)return n.options.onZoom(e)},beforePan:function(e,t){if(n.viewport&&n.options.beforePan)return n.options.beforePan(e,t)},onPan:function(e){if(n.viewport&&n.options.onPan)return n.options.onPan(e)},onUpdatedCTM:function(e){if(n.viewport&&n.options.onUpdatedCTM)return n.options.onUpdatedCTM(e)}});var c=this.getPublicInstance();c.setBeforeZoom(this.options.beforeZoom),c.setOnZoom(this.options.onZoom),c.setBeforePan(this.options.beforePan),c.setOnPan(this.options.onPan),c.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&r.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()},c.prototype.setupHandlers=function(){var e=this,t=null;if(this.eventListeners={mousedown:function(n){var i=e.handleMouseDown(n,t);return t=n,i},touchstart:function(n){var i=e.handleMouseDown(n,t);return t=n,i},mouseup:function(t){return e.handleMouseUp(t)},touchend:function(t){return e.handleMouseUp(t)},mousemove:function(t){return e.handleMouseMove(t)},touchmove:function(t){return e.handleMouseMove(t)},mouseleave:function(t){return e.handleMouseUp(t)},touchleave:function(t){return e.handleMouseUp(t)},touchcancel:function(t){return e.handleMouseUp(t)}},null!=this.options.customEventsHandler){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var n=this.options.customEventsHandler.haltEventListeners;if(n&&n.length)for(var i=n.length-1;i>=0;i--)this.eventListeners.hasOwnProperty(n[i])&&delete this.eventListeners[n[i]]}for(var r in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(r,this.eventListeners[r],!this.options.preventMouseEventsDefault&&u);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())},c.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var e=this;this.wheelListener=function(t){return e.handleMouseWheel(t)};var t=!this.options.preventMouseEventsDefault;i.on(this.options.eventsListenerElement||this.svg,this.wheelListener,t),this.options.mouseWheelZoomEnabled=!0}},c.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var e=!this.options.preventMouseEventsDefault;i.off(this.options.eventsListenerElement||this.svg,this.wheelListener,e),this.options.mouseWheelZoomEnabled=!1}},c.prototype.handleMouseWheel=function(e){if(this.options.zoomEnabled&&"none"===this.state){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1);var t=e.deltaY||1,n=Date.now()-this.lastMouseWheelEventTime,i=3+Math.max(0,30-n);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in e&&0===e.deltaMode&&e.wheelDelta&&(t=0===e.deltaY?0:Math.abs(e.wheelDelta)/e.deltaY),t=-.3<t&&t<.3?t:(t>0?1:-1)*Math.log(Math.abs(t)+10)/i;var r=this.svg.getScreenCTM().inverse(),o=a.getEventPoint(e,this.svg).matrixTransform(r),s=Math.pow(1+this.options.zoomScaleSensitivity,-1*t);this.zoomAtPoint(s,o)}},c.prototype.zoomAtPoint=function(e,t,n){var i=this.viewport.getOriginalState();n?(e=Math.max(this.options.minZoom*i.zoom,Math.min(this.options.maxZoom*i.zoom,e)),e/=this.getZoom()):this.getZoom()*e<this.options.minZoom*i.zoom?e=this.options.minZoom*i.zoom/this.getZoom():this.getZoom()*e>this.options.maxZoom*i.zoom&&(e=this.options.maxZoom*i.zoom/this.getZoom());var r=this.viewport.getCTM(),o=t.matrixTransform(r.inverse()),a=this.svg.createSVGMatrix().translate(o.x,o.y).scale(e).translate(-o.x,-o.y),s=r.multiply(a);s.a!==r.a&&this.viewport.setCTM(s)},c.prototype.zoom=function(e,t){this.zoomAtPoint(e,a.getSvgCenterPoint(this.svg,this.width,this.height),t)},c.prototype.publicZoom=function(e,t){t&&(e=this.computeFromRelativeZoom(e)),this.zoom(e,t)},c.prototype.publicZoomAtPoint=function(e,t,n){if(n&&(e=this.computeFromRelativeZoom(e)),"SVGPoint"!==o.getType(t)){if(!("x"in t)||!("y"in t))throw new Error("Given point is invalid");t=a.createSVGPoint(this.svg,t.x,t.y)}this.zoomAtPoint(e,t,n)},c.prototype.getZoom=function(){return this.viewport.getZoom()},c.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()},c.prototype.computeFromRelativeZoom=function(e){return e*this.viewport.getOriginalState().zoom},c.prototype.resetZoom=function(){var e=this.viewport.getOriginalState();this.zoom(e.zoom,!0)},c.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())},c.prototype.reset=function(){this.resetZoom(),this.resetPan()},c.prototype.handleDblClick=function(e){var t;if((this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.options.controlIconsEnabled)&&(e.target.getAttribute("class")||"").indexOf("svg-pan-zoom-control")>-1)return!1;t=e.shiftKey?1/(2*(1+this.options.zoomScaleSensitivity)):2*(1+this.options.zoomScaleSensitivity);var n=a.getEventPoint(e,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(t,n)},c.prototype.handleMouseDown=function(e,t){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),o.mouseAndTouchNormalize(e,this.svg),this.options.dblClickZoomEnabled&&o.isDblClick(e,t)?this.handleDblClick(e):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=a.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()))},c.prototype.handleMouseMove=function(e){if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),"pan"===this.state&&this.options.panEnabled){var t=a.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()),n=this.firstEventCTM.translate(t.x-this.stateOrigin.x,t.y-this.stateOrigin.y);this.viewport.setCTM(n)}},c.prototype.handleMouseUp=function(e){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),"pan"===this.state&&(this.state="none")},c.prototype.fit=function(){var e=this.viewport.getViewBox(),t=Math.min(this.width/e.width,this.height/e.height);this.zoom(t,!0)},c.prototype.contain=function(){var e=this.viewport.getViewBox(),t=Math.max(this.width/e.width,this.height/e.height);this.zoom(t,!0)},c.prototype.center=function(){var e=this.viewport.getViewBox(),t=.5*(this.width-(e.width+2*e.x)*this.getZoom()),n=.5*(this.height-(e.height+2*e.y)*this.getZoom());this.getPublicInstance().pan({x:t,y:n})},c.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()},c.prototype.pan=function(e){var t=this.viewport.getCTM();t.e=e.x,t.f=e.y,this.viewport.setCTM(t)},c.prototype.panBy=function(e){var t=this.viewport.getCTM();t.e+=e.x,t.f+=e.y,this.viewport.setCTM(t)},c.prototype.getPan=function(){var e=this.viewport.getState();return{x:e.x,y:e.y}},c.prototype.resize=function(){var e=a.getBoundingClientRectNormalized(this.svg);this.width=e.width,this.height=e.height;var t=this.viewport;t.options.width=this.width,t.options.height=this.height,t.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())},c.prototype.destroy=function(){var e=this;for(var t in this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,null!=this.options.customEventsHandler&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()}),this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(t,this.eventListeners[t],!this.options.preventMouseEventsDefault&&u);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),d=d.filter((function(t){return t.svg!==e.svg})),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}},c.prototype.getPublicInstance=function(){var e=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return e.options.panEnabled=!0,e.pi},disablePan:function(){return e.options.panEnabled=!1,e.pi},isPanEnabled:function(){return!!e.options.panEnabled},pan:function(t){return e.pan(t),e.pi},panBy:function(t){return e.panBy(t),e.pi},getPan:function(){return e.getPan()},setBeforePan:function(t){return e.options.beforePan=null===t?null:o.proxy(t,e.publicInstance),e.pi},setOnPan:function(t){return e.options.onPan=null===t?null:o.proxy(t,e.publicInstance),e.pi},enableZoom:function(){return e.options.zoomEnabled=!0,e.pi},disableZoom:function(){return e.options.zoomEnabled=!1,e.pi},isZoomEnabled:function(){return!!e.options.zoomEnabled},enableControlIcons:function(){return e.options.controlIconsEnabled||(e.options.controlIconsEnabled=!0,r.enable(e)),e.pi},disableControlIcons:function(){return e.options.controlIconsEnabled&&(e.options.controlIconsEnabled=!1,r.disable(e)),e.pi},isControlIconsEnabled:function(){return!!e.options.controlIconsEnabled},enableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!0,e.pi},disableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!1,e.pi},isDblClickZoomEnabled:function(){return!!e.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return e.enableMouseWheelZoom(),e.pi},disableMouseWheelZoom:function(){return e.disableMouseWheelZoom(),e.pi},isMouseWheelZoomEnabled:function(){return!!e.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(t){return e.options.zoomScaleSensitivity=t,e.pi},setMinZoom:function(t){return e.options.minZoom=t,e.pi},setMaxZoom:function(t){return e.options.maxZoom=t,e.pi},setBeforeZoom:function(t){return e.options.beforeZoom=null===t?null:o.proxy(t,e.publicInstance),e.pi},setOnZoom:function(t){return e.options.onZoom=null===t?null:o.proxy(t,e.publicInstance),e.pi},zoom:function(t){return e.publicZoom(t,!0),e.pi},zoomBy:function(t){return e.publicZoom(t,!1),e.pi},zoomAtPoint:function(t,n){return e.publicZoomAtPoint(t,n,!0),e.pi},zoomAtPointBy:function(t,n){return e.publicZoomAtPoint(t,n,!1),e.pi},zoomIn:function(){return this.zoomBy(1+e.options.zoomScaleSensitivity),e.pi},zoomOut:function(){return this.zoomBy(1/(1+e.options.zoomScaleSensitivity)),e.pi},getZoom:function(){return e.getRelativeZoom()},setOnUpdatedCTM:function(t){return e.options.onUpdatedCTM=null===t?null:o.proxy(t,e.publicInstance),e.pi},resetZoom:function(){return e.resetZoom(),e.pi},resetPan:function(){return e.resetPan(),e.pi},reset:function(){return e.reset(),e.pi},fit:function(){return e.fit(),e.pi},contain:function(){return e.contain(),e.pi},center:function(){return e.center(),e.pi},updateBBox:function(){return e.updateBBox(),e.pi},resize:function(){return e.resize(),e.pi},getSizes:function(){return{width:e.width,height:e.height,realZoom:e.getZoom(),viewBox:e.viewport.getViewBox()}},destroy:function(){return e.destroy(),e.pi}}),this.publicInstance};var d=[];e.exports=function(e,t){var n=o.getSvg(e);if(null===n)return null;for(var i=d.length-1;i>=0;i--)if(d[i].svg===n)return d[i].instance.getPublicInstance();return d.push({svg:n,instance:new c(n,t)}),d[d.length-1].instance.getPublicInstance()}},431:function(e,t){e.exports=function(){var e,t,n,i="",r=[],o={passive:!0};function a(t,a,s,c){var l;l="wheel"===n?s:function(e,t){var i=function(e){!e&&(e=window.event);var i={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==n?(i.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(i.deltaX=-1/40*e.wheelDeltaX)):i.deltaY=e.detail,t(i)};return r.push({element:e,fn:i}),i}(t,s),t[e](i+a,l,!!c&&o)}function s(e,a,s,c){var l;l="wheel"===n?s:function(e){for(var t=0;t<r.length;t++)if(r[t].element===e)return r[t].fn;return function(){}}(e),e[t](i+a,l,!!c&&o),function(e){for(var t=0;t<r.length;t++)if(r[t].element===e)return r.splice(t,1)}(e)}return window.addEventListener?(e="addEventListener",t="removeEventListener"):(e="attachEvent",t="detachEvent",i="on"),n="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",{on:function(e,t,i){a(e,n,t,i),"DOMMouseScroll"==n&&a(e,"MozMousePixelScroll",t,i)},off:function(e,t,i){s(e,n,t,i),"DOMMouseScroll"==n&&s(e,"MozMousePixelScroll",t,i)}}}()},432:function(e,t,n){var i=n(218);e.exports={enable:function(e){var t=e.svg.querySelector("defs");if(t||(t=document.createElementNS(i.svgNS,"defs"),e.svg.appendChild(t)),!t.querySelector("style#svg-pan-zoom-controls-styles")){var n=document.createElementNS(i.svgNS,"style");n.setAttribute("id","svg-pan-zoom-controls-styles"),n.setAttribute("type","text/css"),n.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",t.appendChild(n)}var r=document.createElementNS(i.svgNS,"g");r.setAttribute("id","svg-pan-zoom-controls"),r.setAttribute("transform","translate("+(e.width-70)+" "+(e.height-76)+") scale(0.75)"),r.setAttribute("class","svg-pan-zoom-control"),r.appendChild(this._createZoomIn(e)),r.appendChild(this._createZoomReset(e)),r.appendChild(this._createZoomOut(e)),e.svg.appendChild(r),e.controlIcons=r},_createZoomIn:function(e){var t=document.createElementNS(i.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-in"),t.setAttribute("transform","translate(30.5 5) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",(function(){e.getPublicInstance().zoomIn()}),!1),t.addEventListener("touchstart",(function(){e.getPublicInstance().zoomIn()}),!1);var n=document.createElementNS(i.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var r=document.createElementNS(i.svgNS,"path");return r.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r),t},_createZoomReset:function(e){var t=document.createElementNS(i.svgNS,"g");t.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),t.setAttribute("transform","translate(5 35) scale(0.4)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",(function(){e.getPublicInstance().reset()}),!1),t.addEventListener("touchstart",(function(){e.getPublicInstance().reset()}),!1);var n=document.createElementNS(i.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var r=document.createElementNS(i.svgNS,"path");r.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r);var o=document.createElementNS(i.svgNS,"path");return o.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),o.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(o),t},_createZoomOut:function(e){var t=document.createElementNS(i.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-out"),t.setAttribute("transform","translate(30.5 70) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",(function(){e.getPublicInstance().zoomOut()}),!1),t.addEventListener("touchstart",(function(){e.getPublicInstance().zoomOut()}),!1);var n=document.createElementNS(i.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var r=document.createElementNS(i.svgNS,"path");return r.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r),t},disable:function(e){e.controlIcons&&(e.controlIcons.parentNode.removeChild(e.controlIcons),e.controlIcons=null)}}},433:function(e,t,n){var i=n(218),r=n(219),o=function(e,t){this.init(e,t)};o.prototype.init=function(e,t){this.viewport=e,this.options=t,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=r.proxy(this.updateCTM,this),this.requestAnimationFrame=r.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var n=this.processCTM();this.setCTM(n),this.updateCTM()},o.prototype.cacheViewBox=function(){var e=this.options.svg.getAttribute("viewBox");if(e){var t=e.split(/[\s\,]/).filter((function(e){return e})).map(parseFloat);this.viewBox.x=t[0],this.viewBox.y=t[1],this.viewBox.width=t[2],this.viewBox.height=t[3];var n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=n,this.activeState.x=(this.options.width-this.viewBox.width*n)/2,this.activeState.y=(this.options.height-this.viewBox.height*n)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()},o.prototype.simpleViewBoxCache=function(){var e=this.viewport.getBBox();this.viewBox.x=e.x,this.viewBox.y=e.y,this.viewBox.width=e.width,this.viewBox.height=e.height},o.prototype.getViewBox=function(){return r.extend({},this.viewBox)},o.prototype.processCTM=function(){var e,t=this.getCTM();(this.options.fit||this.options.contain)&&(e=this.options.fit?Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),t.a=e,t.d=e,t.e=-this.viewBox.x*e,t.f=-this.viewBox.y*e);if(this.options.center){var n=.5*(this.options.width-(this.viewBox.width+2*this.viewBox.x)*t.a),i=.5*(this.options.height-(this.viewBox.height+2*this.viewBox.y)*t.a);t.e=n,t.f=i}return this.originalState.zoom=t.a,this.originalState.x=t.e,this.originalState.y=t.f,t},o.prototype.getOriginalState=function(){return r.extend({},this.originalState)},o.prototype.getState=function(){return r.extend({},this.activeState)},o.prototype.getZoom=function(){return this.activeState.zoom},o.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom},o.prototype.computeRelativeZoom=function(e){return e/this.originalState.zoom},o.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}},o.prototype.getCTM=function(){var e=this.options.svg.createSVGMatrix();return e.a=this.activeState.zoom,e.b=0,e.c=0,e.d=this.activeState.zoom,e.e=this.activeState.x,e.f=this.activeState.y,e},o.prototype.setCTM=function(e){var t=this.isZoomDifferent(e),n=this.isPanDifferent(e);if(t||n){if(t&&(!1===this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(e.a))?(e.a=e.d=this.activeState.zoom,t=!1):(this.updateCache(e),this.options.onZoom(this.getRelativeZoom()))),n){var i=this.options.beforePan(this.getPan(),{x:e.e,y:e.f}),o=!1,a=!1;!1===i?(e.e=this.getPan().x,e.f=this.getPan().y,o=a=!0):r.isObject(i)&&(!1===i.x?(e.e=this.getPan().x,o=!0):r.isNumber(i.x)&&(e.e=i.x),!1===i.y?(e.f=this.getPan().y,a=!0):r.isNumber(i.y)&&(e.f=i.y)),o&&a||!this.isPanDifferent(e)?n=!1:(this.updateCache(e),this.options.onPan(this.getPan()))}(t||n)&&this.updateCTMOnNextFrame()}},o.prototype.isZoomDifferent=function(e){return this.activeState.zoom!==e.a},o.prototype.isPanDifferent=function(e){return this.activeState.x!==e.e||this.activeState.y!==e.f},o.prototype.updateCache=function(e){this.activeState.zoom=e.a,this.activeState.x=e.e,this.activeState.y=e.f},o.prototype.pendingUpdate=!1,o.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))},o.prototype.updateCTM=function(){var e=this.getCTM();i.setCTM(this.viewport,e,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(e)},e.exports=function(e,t){return new o(e,t)}},434:function(e,t){e.exports=function(){return{scope:{fontpackHeroVariation:"&"},link:function(e,t,n,i){var r=n.class;function o(){t[0].className=[r,i.getVariationElementClass(e.fontpackHeroVariation())].join(" ")}t.on("click",(function(){i.handleVariationClick(e.fontpackHeroVariation())})),e.$watchCollection((function(){return i.selectedGroupIds}),(function(){o()})),e.$watch((function(){return i.selectedVariationId}),(function(){o()}))},require:"^fontpackHero",restrict:"A"}}},435:function(e,t){e.exports=function(){return{link:function(e,t,n,i){t.on("click",(function(){i.zoomIn()})),t.addClass("button fontpack-hero__zoom-in-button")},require:"^fontpackHero",restrict:"A"}}},436:function(e,t){e.exports=function(){return{link:function(e,t,n,i){t.on("click",(function(){i.zoomOut()})),t.addClass("button fontpack-hero__zoom-out-button")},require:"^fontpackHero",restrict:"A"}}},437:function(e,t){e.exports=function(){return{link:function(e,t,n,i){t.on("click",(function(){i.zoomReset()})),t.addClass("button fontpack-hero__zoom-reset-button")},require:"^fontpackHero",restrict:"A"}}},438:function(e,t,n){function i(e,t){return{scope:{},bindToController:{imageUrl:"@",useSvgPanZoom:"@"},controller:n(439),controllerAs:"foundryLogo",require:["foundryLogo","?ngModel"],restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/foundry_logo.html",link:function(n,i,r,o){var a=o[0],s=o[1];a.ngModel=s,a.element=i[0],function(n){if(!n||!a.imageUrl)return;e.get(a.imageUrl,{responseType:"blob"}).then((function(e){n.data=t.URL.createObjectURL(e.data),a.isSvgLoaded=!0,void 0!==a.useSvgPanZoom&&"true"!==a.useSvgPanZoom||(n.onload=function(){a.initSvg()})}))}(a.getSvgEl())}}}i.$inject=["$http","$window"],e.exports=i},439:function(e,t,n){r.$inject=["$scope"];var i=n(323);function r(e){this.$scope=e,this.isSvgLoaded=!1}r.prototype.getSvgEl=function(){return this.element.querySelector(".foundry-info--logo-box")},r.prototype.initSvg=function(){i(this.getSvgEl(),{fit:!0,zoomEnabled:!1})},e.exports=r},440:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{menuItems:"&",prioritize:"&",selectedValue:"=",onSelectedItemChange:"&",triggerButtonDataId:"@"},controller:n(441),controllerAs:"spectrumDropdown",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/spectrum/dropdown.html",transclude:!0,link:function(e,t,n,i,r){i.placeholderText=r().text()}}}},441:function(e,t){function n(e){this.$timeout=e,this.prioritizedItem=this.prioritize()}n.$inject=["$timeout"],n.prototype.getLabel=function(){if(!this.selectedValue)return this.getPlaceholderText();for(var e=this.menuItems(),t=0;t<e.length;t++)if(e[t].value==this.selectedValue)return e[t].label},n.prototype.handleChange=function(){var e=this;e.$timeout((function(){e.onSelectedItemChange()}))},n.prototype.getPlaceholderText=function(){if(this.placeholderText&&this.placeholderText.trim().length>0)return this.placeholderText.trim()},e.exports=n},442:function(e,t){e.exports=function(){return{scope:{},restrict:"E",templateUrl:"/angular_templates/directives/tk_aligned_specimen.html",transclude:!0,link:function(e,t,n,i,r){e.text=r().text()}}}},443:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{category:"&",familySlug:"&",subcategory:"&",tooltipText:"&",user:"&",variationOne:"&",variationTwo:"&",selectedFeedback:"="},controller:n(444),controllerAs:"feedbackIcons",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/feedback_icons.html"}}},444:function(e,t,n){r.$inject=["$scope","FeedbackService","NewrelicService"];var i=n(6);function r(e,t,n){var i=this;i.FeedbackService=t,i.NewrelicService=n,e.$watch((function(){return i.FeedbackService.getSubmittedFeedback(i._getID(),i.familySlug())}),(function(e){i.selectedFeedback=e}))}r.prototype.areThumbsUpDownVisible=function(){return!this.isSimilarityAndPairingVariant()},r.prototype.isCancelButtonVisible=function(){return this.isSimilarityAndPairingVariant()},r.prototype.isSimilarityAndPairingVariant=function(){return this._isFontSimilarityVariant()||this._isFontPairingVariant()},r.prototype.initSelectedFeedback=function(){return i.isEmpty(this.selectedFeedback)?"positive":"negative"},r.prototype.toggleSelectedFeedback=function(){return"negative"===this.selectedFeedback?"positive":"negative"},r.prototype.getClass=function(e,t){return this.selectedFeedback===e?[t,"on"].join(" "):t},r.prototype.getTooltipClass=function(){return this.isCancelButtonVisible()?"negative"===this.selectedFeedback?"spectrum-Tooltip--bottom flag-icon-tooltip on":"spectrum-Tooltip--bottom flag-icon-tooltip":"spectrum-Tooltip--top"},r.prototype.handleClick=function(e,t){e&&(e.preventDefault(),e.stopPropagation()),this.selectedFeedback=t,this.isSimilarityAndPairingVariant()?(this.NewrelicService.addPageAction("typekit.browse.similarity_and_pairing.feedback",this._getNewRelicAttributes(t)),this.FeedbackService.post(this.category(),this.subcategory(),this._getID(),t,this.familySlug(),this.variationOne().id,this.variationTwo().id)):(this.NewrelicService.addPageAction("typekit.browse.click",this._getNewRelicAttributes(t)),this.FeedbackService.post(this.category(),this.subcategory(),this._getID(),t,this.familySlug()))},r.prototype._getID=function(){if(this._isTagVariant())return this.FeedbackService.filtersModel.getSelectedTag();if(this._isRecommendationVariant())return this.user();if(this.isSimilarityAndPairingVariant())return this.variationOne().id+"-"+this.variationTwo().id;throw new Error("Unrecognized feedback icon category: "+this.category())},r.prototype._isFontPairingVariant=function(){return"pairing"===this.category()},r.prototype._isFontSimilarityVariant=function(){return"similarity"===this.category()},r.prototype._isRecommendationVariant=function(){return"recommendation"===this.category()},r.prototype._isTagVariant=function(){return"tag"===this.category()},r.prototype._getNewRelicAttributes=function(e){if(this._isTagVariant())return{tagName:this.FeedbackService.filtersModel.getSelectedTag(),familySlug:this.familySlug(),feedback:e};if(this._isRecommendationVariant())return{familySlug:this.familySlug(),feedback:e,subcategory:this.subcategory(),user:this.user()};if(this.isSimilarityAndPairingVariant())return{category:this.category(),subcategory:this.subcategory(),feedback:e,variation_one:this.variationOne().name,variation_two:this.variationTwo().name};throw new Error("Unrecognized feedback icon category: "+this.category())},e.exports=r},49:function(e,t){e.exports={getData:function(e){var t=document.getElementById(e);if(!t||!function(e){return"script"===e.tagName.toLowerCase()&&("application/json"===e.type||"text/ng-data"===e.type)}(t))return;return JSON.parse(t.innerHTML)}}},54:function(e,t,n){"use strict";n.r(t),n.d(t,"clearFlags",(function(){return i})),n.d(t,"disableFlag",(function(){return r})),n.d(t,"enableFlag",(function(){return o})),n.d(t,"isFlagEnabled",(function(){return c})),n.d(t,"isValidFlag",(function(){return l})),n.d(t,"loadFlagData",(function(){return s})),n.d(t,"toggleFlag",(function(){return a}));function i(){u().clear()}function r(e){return!!l(e)&&(u().set(e,!1),!0)}function o(e){return!!l(e)&&(u().set(e,!0),!0)}function a(e,t){return!!l(e)&&(u().set(e,t),!0)}function s(e){Object.entries(e).forEach((([e,t])=>u().set(e,t.enabled)))}function c(e){return l(e)&&!!u().get(e)}function l(e){return u().has(e)}function u(){return window.__afs_flag_status}window.__afs_flag_status||(window.__afs_flag_status=new Map),s({EnableUseModelV2:{description:"Enable use model version 2",enabled:!1},EnableNewAddToWebProjectDialog:{description:"Enable the new web component based add to web projects dialog",enabled:!1}})},59:function(e,t,n){var i,r=n(106),o=n(87),a=n(79),s=n(49);function c(e){this._adobeLanguageTag=e.adobe_language_tag,this._clientId=e.clientId,this._cucumberConfig=e.cucumberConfig,this._imsEnv=e.imsEnv,this._scope=e.scope,this._ssoLoginUrl=e.ssoLoginUrl,this._ssoLogoutUrl=e.ssoLogoutUrl,this._useDebugMode=e.useDebugMode,e.tkRequestInfo&&(this._currentRequestMethod=e.tkRequestInfo.requestMethod,this._imsCookieName=e.tkRequestInfo.cookieName,this._loggedInOnServer=e.tkRequestInfo.loggedInOnServer,this._serverAdobeProfileId=e.tkRequestInfo.adobeProfileID),this._adobeProfilePlaceholder=document.querySelector(".__adobeprofile")}e.exports={init:function(e){if(!i)return i=new c(e)},getAdobeId:function(){return i.getAdobeId()},getInstance:function(){return i},getUserProfile:function(){if(i)return i.getCachedProfile()},getAccessToken:function(){if(i)return i.getAccessToken()},isSignedInUser:function(){return!(!i||!i.getAdobeIMS())&&i.getAdobeIMS().isSignedInUser()}},c.prototype.getAdobeId=function(){var e=this;return{environment:e._imsEnv,api_parameters:{logout:{redirect_uri:e._ssoLogoutUrl}},client_id:e._clientId,is_mandatory_sign_in:!1,scope:e._scope,use_debug_mode:e._useDebugMode,uses_redirect_mode:!0,onAccessToken:function(t){e._accessToken=t.token},onReady:function(t){if(e._cucumberConfig)return a.fireOnReadyHandlers(),e._onReadyForCucumber();window.adobeIMS.isSignedInUser()?e.getAdobeIMS().getProfile().then((function(t){e._profile=t,e._onReadyWhenLoggedIn()})).finally((function(){a.fireOnReadyHandlers()})):(e._onReadyWhenNotLoggedIn(),a.fireOnReadyHandlers())}}},c.prototype.getAdobeIMS=function(){return window.adobeIMS},c.prototype.getCachedProfile=function(){if(this.getAdobeIMS().isSignedInUser())return this._profile},c.prototype._onReadyForCucumber=function(){this._loadInfoFromCucumber(),this._onReadyWhenLoggedIn(),a.fireOnReadyHandlers()},c.prototype._onReadyWhenLoggedIn=function(){var e=this;e._serverAdobeProfileId!=e._profile.userId&&r.login(e._ssoLoginUrl+".json",e._accessToken,(function(t){t.logged_in&&"GET"==e._currentRequestMethod&&window.location.reload()})),o(e._imsCookieName,e._accessToken,{path:"/"}),e._initProfileMenu()},c.prototype._initProfileMenu=function(){if(window.adobeProfile){var e=s.getData("/profileMenu/i18n");window.adobeProfile.init({target:this._adobeProfilePlaceholder,locale:this._adobeLanguageTag,theme:"theme-light",class:"adobe-profile-menu",localMenu:{title:e.account_links,links:[{label:e.api_tokens,action:"/account/tokens",description:e.api_tokens}]}})}},c.prototype._onReadyWhenNotLoggedIn=function(){o(this._imsCookieName,null),this._adobeProfilePlaceholder.style.visibility="visible",this._loggedInOnServer&&(window.location.href=this._ssoLogoutUrl)},c.prototype._loadInfoFromCucumber=function(){this._profile={userId:o(this._cucumberConfig.userIdCookieName),serviceAccounts:JSON.parse(o(this._cucumberConfig.serviceAccounts))},this.getAdobeIMS().setProfile(this._profile),this._accessToken=o(this._cucumberConfig.imsTokenCookieName)},c.prototype.getAccessToken=function(){return this._accessToken}},6:function(e,t,n){var i;(function(){var n=this,r=n._,o=Array.prototype,a=Object.prototype,s=Function.prototype,c=o.push,l=o.slice,u=a.toString,d=a.hasOwnProperty,f=Array.isArray,p=Object.keys,h=s.bind,m=Object.create,g=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};e.exports&&(t=e.exports=v),t._=v,v.VERSION="1.8.3";var y=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},b=function(e,t,n){return null==e?v.identity:v.isFunction(e)?y(e,t,n):v.isObject(e)?v.matcher(e):v.property(e)};v.iteratee=function(e,t){return b(e,t,1/0)};var _=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=e(o),s=a.length,c=0;c<s;c++){var l=a[c];t&&void 0!==n[l]||(n[l]=o[l])}return n}},S=function(e){if(!v.isObject(e))return{};if(m)return m(e);g.prototype=e;var t=new g;return g.prototype=null,t},w=function(e){return function(t){return null==t?void 0:t[e]}},C=Math.pow(2,53)-1,k=w("length"),F=function(e){var t=k(e);return"number"==typeof t&&t>=0&&t<=C};function E(e){function t(t,n,i,r,o,a){for(;o>=0&&o<a;o+=e){var s=r?r[o]:o;i=n(i,t[s],s,t)}return i}return function(n,i,r,o){i=y(i,o,4);var a=!F(n)&&v.keys(n),s=(a||n).length,c=e>0?0:s-1;return arguments.length<3&&(r=n[a?a[c]:c],c+=e),t(n,i,r,a,c,s)}}v.each=v.forEach=function(e,t,n){var i,r;if(t=y(t,n),F(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var o=v.keys(e);for(i=0,r=o.length;i<r;i++)t(e[o[i]],o[i],e)}return e},v.map=v.collect=function(e,t,n){t=b(t,n);for(var i=!F(e)&&v.keys(e),r=(i||e).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=t(e[s],s,e)}return o},v.reduce=v.foldl=v.inject=E(1),v.reduceRight=v.foldr=E(-1),v.find=v.detect=function(e,t,n){var i;if(void 0!==(i=F(e)?v.findIndex(e,t,n):v.findKey(e,t,n))&&-1!==i)return e[i]},v.filter=v.select=function(e,t,n){var i=[];return t=b(t,n),v.each(e,(function(e,n,r){t(e,n,r)&&i.push(e)})),i},v.reject=function(e,t,n){return v.filter(e,v.negate(b(t)),n)},v.every=v.all=function(e,t,n){t=b(t,n);for(var i=!F(e)&&v.keys(e),r=(i||e).length,o=0;o<r;o++){var a=i?i[o]:o;if(!t(e[a],a,e))return!1}return!0},v.some=v.any=function(e,t,n){t=b(t,n);for(var i=!F(e)&&v.keys(e),r=(i||e).length,o=0;o<r;o++){var a=i?i[o]:o;if(t(e[a],a,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,n,i){return F(e)||(e=v.values(e)),("number"!=typeof n||i)&&(n=0),v.indexOf(e,t,n)>=0},v.invoke=function(e,t){var n=l.call(arguments,2),i=v.isFunction(t);return v.map(e,(function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)}))},v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,n){var i,r,o=-1/0,a=-1/0;if(null==t&&null!=e)for(var s=0,c=(e=F(e)?e:v.values(e)).length;s<c;s++)(i=e[s])>o&&(o=i);else t=b(t,n),v.each(e,(function(e,n,i){((r=t(e,n,i))>a||r===-1/0&&o===-1/0)&&(o=e,a=r)}));return o},v.min=function(e,t,n){var i,r,o=1/0,a=1/0;if(null==t&&null!=e)for(var s=0,c=(e=F(e)?e:v.values(e)).length;s<c;s++)(i=e[s])<o&&(o=i);else t=b(t,n),v.each(e,(function(e,n,i){((r=t(e,n,i))<a||r===1/0&&o===1/0)&&(o=e,a=r)}));return o},v.shuffle=function(e){for(var t,n=F(e)?e:v.values(e),i=n.length,r=Array(i),o=0;o<i;o++)(t=v.random(0,o))!==o&&(r[o]=r[t]),r[t]=n[o];return r},v.sample=function(e,t,n){return null==t||n?(F(e)||(e=v.values(e)),e[v.random(e.length-1)]):v.shuffle(e).slice(0,Math.max(0,t))},v.sortBy=function(e,t,n){return t=b(t,n),v.pluck(v.map(e,(function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index})),"value")};var $=function(e){return function(t,n,i){var r={};return n=b(n,i),v.each(t,(function(i,o){var a=n(i,o,t);e(r,i,a)})),r}};v.groupBy=$((function(e,t,n){v.has(e,n)?e[n].push(t):e[n]=[t]})),v.indexBy=$((function(e,t,n){e[n]=t})),v.countBy=$((function(e,t,n){v.has(e,n)?e[n]++:e[n]=1})),v.toArray=function(e){return e?v.isArray(e)?l.call(e):F(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:F(e)?e.length:v.keys(e).length},v.partition=function(e,t,n){t=b(t,n);var i=[],r=[];return v.each(e,(function(e,n,o){(t(e,n,o)?i:r).push(e)})),[i,r]},v.first=v.head=v.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},v.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},v.compact=function(e){return v.filter(e,v.identity)};var x=function(e,t,n,i){for(var r=[],o=0,a=i||0,s=k(e);a<s;a++){var c=e[a];if(F(c)&&(v.isArray(c)||v.isArguments(c))){t||(c=x(c,t,n));var l=0,u=c.length;for(r.length+=u;l<u;)r[o++]=c[l++]}else n||(r[o++]=c)}return r};function T(e){return function(t,n,i){n=b(n,i);for(var r=k(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(n(t[o],o,t))return o;return-1}}function A(e,t,n){return function(i,r,o){var a=0,s=k(i);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return i[o=n(i,r)]===r?o:-1;if(r!==r)return(o=t(l.call(i,a,s),v.isNaN))>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(i[o]===r)return o;return-1}}v.flatten=function(e,t){return x(e,t,!1)},v.without=function(e){return v.difference(e,l.call(arguments,1))},v.uniq=v.unique=function(e,t,n,i){v.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=b(n,i));for(var r=[],o=[],a=0,s=k(e);a<s;a++){var c=e[a],l=n?n(c,a,e):c;t?(a&&o===l||r.push(c),o=l):n?v.contains(o,l)||(o.push(l),r.push(c)):v.contains(r,c)||r.push(c)}return r},v.union=function(){return v.uniq(x(arguments,!0,!0))},v.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=k(e);i<r;i++){var o=e[i];if(!v.contains(t,o)){for(var a=1;a<n&&v.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},v.difference=function(e){var t=x(arguments,!0,!0,1);return v.filter(e,(function(e){return!v.contains(t,e)}))},v.zip=function(){return v.unzip(arguments)},v.unzip=function(e){for(var t=e&&v.max(e,k).length||0,n=Array(t),i=0;i<t;i++)n[i]=v.pluck(e,i);return n},v.object=function(e,t){for(var n={},i=0,r=k(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},v.findIndex=T(1),v.findLastIndex=T(-1),v.sortedIndex=function(e,t,n,i){for(var r=(n=b(n,i,1))(t),o=0,a=k(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<r?o=s+1:a=s}return o},v.indexOf=A(1,v.findIndex,v.sortedIndex),v.lastIndexOf=A(-1,v.findLastIndex),v.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e;return r};var P=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=S(e.prototype),a=e.apply(o,r);return v.isObject(a)?a:o};v.bind=function(e,t){if(h&&e.bind===h)return h.apply(e,l.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var n=l.call(arguments,2),i=function(){return P(e,i,t,this,n.concat(l.call(arguments)))};return i},v.partial=function(e){var t=l.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),a=0;a<r;a++)o[a]=t[a]===v?arguments[i++]:t[a];for(;i<arguments.length;)o.push(arguments[i++]);return P(e,n,this,this,o)};return n},v.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)e[n=arguments[t]]=v.bind(e[n],e);return e},v.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return v.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},v.delay=function(e,t){var n=l.call(arguments,2);return setTimeout((function(){return e.apply(null,n)}),t)},v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,n){var i,r,o,a=null,s=0;n||(n={});var c=function(){s=!1===n.leading?0:v.now(),a=null,o=e.apply(i,r),a||(i=r=null)};return function(){var l=v.now();s||!1!==n.leading||(s=l);var u=t-(l-s);return i=this,r=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),s=l,o=e.apply(i,r),a||(i=r=null)):a||!1===n.trailing||(a=setTimeout(c,u)),o}},v.debounce=function(e,t,n){var i,r,o,a,s,c=function(){var l=v.now()-a;l<t&&l>=0?i=setTimeout(c,t-l):(i=null,n||(s=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=v.now();var l=n&&!i;return i||(i=setTimeout(c,t)),l&&(s=e.apply(o,r),o=r=null),s}},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},v.once=v.partial(v.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function I(e,t){var n=D.length,i=e.constructor,r=v.isFunction(i)&&i.prototype||a,o="constructor";for(v.has(e,o)&&!v.contains(t,o)&&t.push(o);n--;)(o=D[n])in e&&e[o]!==r[o]&&!v.contains(t,o)&&t.push(o)}v.keys=function(e){if(!v.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)v.has(e,n)&&t.push(n);return M&&I(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var n in e)t.push(n);return M&&I(e,t),t},v.values=function(e){for(var t=v.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},v.mapObject=function(e,t,n){t=b(t,n);for(var i,r=v.keys(e),o=r.length,a={},s=0;s<o;s++)a[i=r[s]]=t(e[i],i,e);return a},v.pairs=function(e){for(var t=v.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},v.invert=function(e){for(var t={},n=v.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},v.functions=v.methods=function(e){var t=[];for(var n in e)v.isFunction(e[n])&&t.push(n);return t.sort()},v.extend=_(v.allKeys),v.extendOwn=v.assign=_(v.keys),v.findKey=function(e,t,n){t=b(t,n);for(var i,r=v.keys(e),o=0,a=r.length;o<a;o++)if(t(e[i=r[o]],i,e))return i},v.pick=function(e,t,n){var i,r,o={},a=e;if(null==a)return o;v.isFunction(t)?(r=v.allKeys(a),i=y(t,n)):(r=x(arguments,!1,!1,1),i=function(e,t,n){return t in n},a=Object(a));for(var s=0,c=r.length;s<c;s++){var l=r[s],u=a[l];i(u,l,a)&&(o[l]=u)}return o},v.omit=function(e,t,n){if(v.isFunction(t))t=v.negate(t);else{var i=v.map(x(arguments,!1,!1,1),String);t=function(e,t){return!v.contains(i,t)}}return v.pick(e,t,n)},v.defaults=_(v.allKeys,!0),v.create=function(e,t){var n=S(e);return t&&v.extendOwn(n,t),n},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var n=v.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;o<i;o++){var a=n[o];if(t[a]!==r[a]||!(a in r))return!1}return!0};var L=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var r=u.call(e);if(r!==u.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(v.isFunction(a)&&a instanceof a&&v.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}i=i||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!L(e[c],t[c],n,i))return!1}else{var l,d=v.keys(e);if(c=d.length,v.keys(t).length!==c)return!1;for(;c--;)if(l=d[c],!v.has(t,l)||!L(e[l],t[l],n,i))return!1}return n.pop(),i.pop(),!0};v.isEqual=function(e,t){return L(e,t)},v.isEmpty=function(e){return null==e||(F(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length)},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=f||function(e){return"[object Array]"===u.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],(function(e){v["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}})),v.isArguments(arguments)||(v.isArguments=function(e){return v.has(e,"callee")}),"object"!=typeof Int8Array&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&e!==+e},v.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){return null!=e&&d.call(e,t)},v.noConflict=function(){return n._=r,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=w,v.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,n){var i=Array(Math.max(0,e));t=y(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=v.invert(N),O=function(e){var t=function(t){return e[t]},n="(?:"+v.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};v.escape=O(N),v.unescape=O(R),v.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),v.isFunction(i)?i.call(e):i};var j=0;v.uniqueId=function(e){var t=++j+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,W=function(e){return"\\"+U[e]};v.template=function(e,t,n){!t&&n&&(t=n),t=v.defaults({},t,v.templateSettings);var i=RegExp([(t.escape||V).source,(t.interpolate||V).source,(t.evaluate||V).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,(function(t,n,i,a,s){return o+=e.slice(r,s).replace(B,W),r=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t})),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(l){throw l.source=o,l}var s=function(e){return a.call(this,e,v)},c=t.variable||"obj";return s.source="function("+c+"){\n"+o+"}",s},v.chain=function(e){var t=v(e);return t._chain=!0,t};var z=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){v.each(v.functions(e),(function(t){var n=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),z(this,n.apply(v,e))}}))},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=o[e];v.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],z(this,n)}})),v.each(["concat","join","slice"],(function(e){var t=o[e];v.prototype[e]=function(){return z(this,t.apply(this._wrapped,arguments))}})),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(i=function(){return v}.apply(t,[]))||(e.exports=i)}).call(this)},66:function(e,t,n){function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},67:function(e,t,n){var i,r=n(235),o=n(149),a=n(237),s=n(238),c=n(239);"undefined"!==typeof ArrayBuffer&&(i=n(240));var l="undefined"!==typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!==typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=l||u;t.protocol=3;var f=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=r(f),h={type:"error",data:"parser error"},m=n(241);function g(e,t,n){for(var i=new Array(e.length),r=s(e.length,n),o=function(e,n,r){t(n,(function(t,n){i[e]=n,r(t,i)}))},a=0;a<e.length;a++)o(a,e[a],r)}t.encodePacket=function(e,n,i,r){"function"===typeof n&&(r=n,n=!1),"function"===typeof i&&(r=i,i=null);var o=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!==typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(e,n,i){if(!n)return t.encodeBase64Packet(e,i);var r=e.data,o=new Uint8Array(r),a=new Uint8Array(1+r.byteLength);a[0]=f[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return i(a.buffer)}(e,n,r);if("undefined"!==typeof m&&o instanceof m)return function(e,n,i){if(!n)return t.encodeBase64Packet(e,i);if(d)return function(e,n,i){if(!n)return t.encodeBase64Packet(e,i);var r=new FileReader;return r.onload=function(){t.encodePacket({type:e.type,data:r.result},n,!0,i)},r.readAsArrayBuffer(e.data)}(e,n,i);var r=new Uint8Array(1);r[0]=f[e.type];var o=new m([r.buffer,e.data]);return i(o)}(e,n,r);if(o&&o.base64)return function(e,n){var i="b"+t.packets[e.type]+e.data.data;return n(i)}(e,r);var a=f[e.type];return void 0!==e.data&&(a+=i?c.encode(String(e.data),{strict:!1}):String(e.data)),r(""+a)},t.encodeBase64Packet=function(e,n){var i,r="b"+t.packets[e.type];if("undefined"!==typeof m&&e.data instanceof m){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(r+e)},o.readAsDataURL(e.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(l){for(var a=new Uint8Array(e.data),s=new Array(a.length),c=0;c<a.length;c++)s[c]=a[c];i=String.fromCharCode.apply(null,s)}return r+=btoa(i),n(r)},t.decodePacket=function(e,n,i){if(void 0===e)return h;if("string"===typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(i&&!1===(e=function(e){try{e=c.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return h;var r=e.charAt(0);return Number(r)==r&&p[r]?e.length>1?{type:p[r],data:e.substring(1)}:{type:p[r]}:h}r=new Uint8Array(e)[0];var o=a(e,1);return m&&"blob"===n&&(o=new m([o])),{type:p[r],data:o}},t.decodeBase64Packet=function(e,t){var n=p[e.charAt(0)];if(!i)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=i.decode(e.substr(1));return"blob"===t&&m&&(r=new m([r])),{type:n,data:r}},t.encodePayload=function(e,n,i){"function"===typeof n&&(i=n,n=null);var r=o(e);if(n&&r)return m&&!d?t.encodePayloadAsBlob(e,i):t.encodePayloadAsArrayBuffer(e,i);if(!e.length)return i("0:");g(e,(function(e,i){t.encodePacket(e,!!r&&n,!1,(function(e){i(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return i(t.join(""))}))},t.decodePayload=function(e,n,i){if("string"!==typeof e)return t.decodePayloadAsBinary(e,n,i);var r;if("function"===typeof n&&(i=n,n=null),""===e)return i(h,0,1);for(var o,a,s="",c=0,l=e.length;c<l;c++){var u=e.charAt(c);if(":"===u){if(""===s||s!=(o=Number(s)))return i(h,0,1);if(s!=(a=e.substr(c+1,o)).length)return i(h,0,1);if(a.length){if(r=t.decodePacket(a,n,!1),h.type===r.type&&h.data===r.data)return i(h,0,1);if(!1===i(r,c+o,l))return}c+=o,s=""}else s+=u}return""!==s?i(h,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var i=t.reduce((function(e,t){var n;return e+(n="string"===typeof t?t.length:t.byteLength).toString().length+n+2}),0),r=new Uint8Array(i),o=0;return t.forEach((function(e){var t="string"===typeof e,n=e;if(t){for(var i=new Uint8Array(e.length),a=0;a<e.length;a++)i[a]=e.charCodeAt(a);n=i.buffer}r[o++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)r[o++]=parseInt(s[a]);r[o++]=255;for(i=new Uint8Array(n),a=0;a<i.length;a++)r[o++]=i[a]})),n(r.buffer)}))},t.encodePayloadAsBlob=function(e,n){g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"===typeof e){for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);e=i.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(o.length+1);for(r=0;r<o.length;r++)a[r]=parseInt(o[r]);if(a[o.length]=255,m){var s=new m([t.buffer,a.buffer,e]);n(null,s)}}))}),(function(e,t){return n(new m(t))}))},t.decodePayloadAsBinary=function(e,n,i){"function"===typeof n&&(i=n,n=null);for(var r=e,o=[];r.byteLength>0;){for(var s=new Uint8Array(r),c=0===s[0],l="",u=1;255!==s[u];u++){if(l.length>310)return i(h,0,1);l+=s[u]}r=a(r,2+l.length),l=parseInt(l);var d=a(r,0,l);if(c)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(m){var f=new Uint8Array(d);d="";for(u=0;u<f.length;u++)d+=String.fromCharCode(f[u])}o.push(d),r=a(r,l)}var p=o.length;o.forEach((function(e,r){i(t.decodePacket(e,n,!0),r,p)}))}},73:function(e,t,n){"use strict";var i;n.r(t),n.d(t,"ViewportSize",(function(){return i})),function(e){e.XX_SMALL="xx-small",e.X_SMALL="x-small",e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(i||(i={}))},79:function(e,t){var n=[],i=!1;e.exports={addOnReadyHandler:function(e){i?e():n.push(e)},fireOnReadyHandlers:function(){i=!0;for(;n.length>0;)n.pop()()},reset:function(){n=[],i=!1}}},87:function(e,t){e.exports=function(e,t,n){if("undefined"==typeof t){var i=null;if(document.cookie&&""!=document.cookie)for(var r=document.cookie.split(";"),o=0;o<r.length;o++){var a=r[o].trim();if(a.substring(0,e.length+1)==e+"="){i=decodeURIComponent(a.substring(e.length+1));break}}return i}n=n||{},null===t&&(t="",n.expires=-1);var s,c="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(s=new Date).setTime(s.getTime()+24*n.expires*60*60*1e3):s=n.expires,c="; expires="+s.toUTCString());var l=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),c,l,u,d].join("")}},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return Pt})),n.d(t,"b",(function(){return Mt})),n.d(t,"c",(function(){return Dt})),n.d(t,"d",(function(){return It})),n.d(t,"e",(function(){return Nt})),n.d(t,"f",(function(){return Lt})),n.d(t,"g",(function(){return Ot})),n.d(t,"h",(function(){return jt}));var i,r,o,a,s=n(1),c=n(21);function l(e){return e.type===r.literal}function u(e){return e.type===r.argument}function d(e){return e.type===r.number}function f(e){return e.type===r.date}function p(e){return e.type===r.time}function h(e){return e.type===r.select}function m(e){return e.type===r.plural}function g(e){return e.type===r.pound}function v(e){return e.type===r.tag}function y(e){return!(!e||"object"!=typeof e||e.type!==o.number)}function b(e){return!(!e||"object"!=typeof e||e.type!==o.dateTime)}(a=i||(i={}))[a.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",a[a.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",a[a.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",a[a.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",a[a.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",a[a.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",a[a.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",a[a.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",a[a.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",a[a.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",a[a.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",a[a.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",a[a.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",a[a.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",a[a.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",a[a.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",a[a.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",a[a.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",a[a.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",a[a.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",a[a.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",a[a.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",a[a.INVALID_TAG=23]="INVALID_TAG",a[a.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",a[a.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",a[a.UNCLOSED_TAG=27]="UNCLOSED_TAG",function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(r||(r={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(o||(o={}));var _=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,S=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function w(e){var t={};return e.replace(S,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var C,k=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i,F=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,E=/^(@+)?(\+|#+)?$/g,$=/(\*)(0+)|(#+)(0+)|(0+)/g,x=/^(0+)$/;function T(e){var t={};return e.replace(E,(function(e,n,i){return"string"!=typeof i?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===i?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof i?i.length:0)),""})),t}function A(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function P(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!x.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function M(e){return A(e)||{}}function D(e){for(var t={},n=0,i=e;n<i.length;n++){var r=i[n];switch(r.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=r.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=r.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=Object(s.b)(Object(s.b)(Object(s.b)({},t),{notation:"scientific"}),r.options.reduce((function(e,t){return Object(s.b)(Object(s.b)({},e),M(t))}),{}));continue;case"engineering":t=Object(s.b)(Object(s.b)(Object(s.b)({},t),{notation:"engineering"}),r.options.reduce((function(e,t){return Object(s.b)(Object(s.b)({},e),M(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(r.options[0]);continue;case"integer-width":if(r.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");r.options[0].replace($,(function(e,n,i,r,o,a){if(n)t.minimumIntegerDigits=i.length;else{if(r&&o)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(x.test(r.stem))t.minimumIntegerDigits=r.stem.length;else if(F.test(r.stem)){if(r.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");r.stem.replace(F,(function(e,n,i,r,o,a){return"*"===i?t.minimumFractionDigits=n.length:r&&"#"===r[0]?t.maximumFractionDigits=r.length:o&&a?(t.minimumFractionDigits=o.length,t.maximumFractionDigits=o.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""})),r.options.length&&(t=Object(s.b)(Object(s.b)({},t),T(r.options[0])))}else if(E.test(r.stem))t=Object(s.b)(Object(s.b)({},t),T(r.stem));else{var o=A(r.stem);o&&(t=Object(s.b)(Object(s.b)({},t),o));var a=P(r.stem);a&&(t=Object(s.b)(Object(s.b)({},t),a))}}return t}var I=new RegExp("^"+_.source+"*"),L=new RegExp(_.source+"*$");function N(e,t){return{start:e,end:t}}var R=!!String.prototype.startsWith,O=!!String.fromCodePoint,j=!!Object.fromEntries,V=!!String.prototype.codePointAt,U=!!String.prototype.trimStart,B=!!String.prototype.trimEnd,W=Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},z=!0;try{z="a"===(null===(C=J("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===C?void 0:C[0])}catch(a){z=!1}var H,q=R?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},G=O?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,i="",r=e.length,o=0;r>o;){if((n=e[o++])>1114111)throw RangeError(n+" is not a valid code point");i+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return i},Z=j?Object.fromEntries:function(e){for(var t={},n=0,i=e;n<i.length;n++){var r=i[n],o=r[0],a=r[1];t[o]=a}return t},Y=V?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var i,r=e.charCodeAt(t);return r<55296||r>56319||t+1===n||(i=e.charCodeAt(t+1))<56320||i>57343?r:i-56320+(r-55296<<10)+65536}},X=U?function(e){return e.trimStart()}:function(e){return e.replace(I,"")},K=B?function(e){return e.trimEnd()}:function(e){return e.replace(L,"")};function J(e,t){return new RegExp(e,t)}if(z){var Q=J("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");H=function(e,t){var n;return Q.lastIndex=t,null!==(n=Q.exec(e)[1])&&void 0!==n?n:""}}else H=function(e,t){for(var n=[];;){var i=Y(e,t);if(void 0===i||ne(i)||ie(i))break;n.push(i),t+=i>=65536?2:1}return G.apply(void 0,n)};var ee=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var o=[];!this.isEOF();){var a=this.char();if(123===a){if((s=this.parseArgument(e,n)).err)return s;o.push(s.val)}else{if(125===a&&e>0)break;if(35!==a||"plural"!==t&&"selectordinal"!==t){if(60===a&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(i.UNMATCHED_CLOSING_TAG,N(this.clonePosition(),this.clonePosition()))}if(60===a&&!this.ignoreTag&&te(this.peek()||0)){if((s=this.parseTag(e,t)).err)return s;o.push(s.val)}else{var s;if((s=this.parseLiteral(e,t)).err)return s;o.push(s.val)}}else{var c=this.clonePosition();this.bump(),o.push({type:r.pound,location:N(c,this.clonePosition())})}}}return{val:o,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var o=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:r.literal,value:"<"+o+"/>",location:N(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var a=this.parseMessage(e+1,t,!0);if(a.err)return a;var s=a.val,c=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!te(this.char()))return this.error(i.INVALID_TAG,N(c,this.clonePosition()));var l=this.clonePosition();return o!==this.parseTagName()?this.error(i.UNMATCHED_CLOSING_TAG,N(l,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:r.tag,value:o,children:s,location:N(n,this.clonePosition())},err:null}:this.error(i.INVALID_TAG,N(c,this.clonePosition())))}return this.error(i.UNCLOSED_TAG,N(n,this.clonePosition()))}return this.error(i.INVALID_TAG,N(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),i="";;){var o=this.tryParseQuote(t);if(o)i+=o;else{var a=this.tryParseUnquoted(e,t);if(a)i+=a;else{var s=this.tryParseLeftAngleBracket();if(!s)break;i+=s}}}var c=N(n,this.clonePosition());return{val:{type:r.literal,value:i,location:c},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(te(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return G.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),G(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,N(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(i.EMPTY_ARGUMENT,N(n,this.clonePosition()));var o=this.parseIdentifierIfPossible().value;if(!o)return this.error(i.MALFORMED_ARGUMENT,N(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,N(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:r.argument,value:o,location:N(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,N(n,this.clonePosition())):this.parseArgumentOptions(e,t,o,n);default:return this.error(i.MALFORMED_ARGUMENT,N(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=H(this.message,t),i=t+n.length;return this.bumpTo(i),{value:n,location:N(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,a){var c,l=this.clonePosition(),u=this.parseIdentifierIfPossible().value,d=this.clonePosition();switch(u){case"":return this.error(i.EXPECT_ARGUMENT_TYPE,N(l,d));case"number":case"date":case"time":this.bumpSpace();var f=null;if(this.bumpIf(",")){this.bumpSpace();var p=this.clonePosition();if((_=this.parseSimpleArgStyleIfPossible()).err)return _;if(0===(g=K(_.val)).length)return this.error(i.EXPECT_ARGUMENT_STYLE,N(this.clonePosition(),this.clonePosition()));f={style:g,styleLocation:N(p,this.clonePosition())}}if((S=this.tryParseArgumentClose(a)).err)return S;var h=N(a,this.clonePosition());if(f&&q(null==f?void 0:f.style,"::",0)){var m=X(f.style.slice(2));if("number"===u)return(_=this.parseNumberSkeletonFromString(m,f.styleLocation)).err?_:{val:{type:r.number,value:n,location:h,style:_.val},err:null};if(0===m.length)return this.error(i.EXPECT_DATE_TIME_SKELETON,h);var g={type:o.dateTime,pattern:m,location:f.styleLocation,parsedOptions:this.shouldParseSkeletons?w(m):{}};return{val:{type:"date"===u?r.date:r.time,value:n,location:h,style:g},err:null}}return{val:{type:"number"===u?r.number:"date"===u?r.date:r.time,value:n,location:h,style:null!==(c=null==f?void 0:f.style)&&void 0!==c?c:null},err:null};case"plural":case"selectordinal":case"select":var v=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(i.EXPECT_SELECT_ARGUMENT_OPTIONS,N(v,Object(s.b)({},v)));this.bumpSpace();var y=this.parseIdentifierIfPossible(),b=0;if("select"!==u&&"offset"===y.value){if(!this.bumpIf(":"))return this.error(i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,N(this.clonePosition(),this.clonePosition()));var _;if(this.bumpSpace(),(_=this.tryParseDecimalInteger(i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,i.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return _;this.bumpSpace(),y=this.parseIdentifierIfPossible(),b=_.val}var S,C=this.tryParsePluralOrSelectOptions(e,u,t,y);if(C.err)return C;if((S=this.tryParseArgumentClose(a)).err)return S;var k=N(a,this.clonePosition());return"select"===u?{val:{type:r.select,value:n,options:Z(C.val),location:k},err:null}:{val:{type:r.plural,value:n,options:Z(C.val),offset:b,pluralType:"plural"===u?"cardinal":"ordinal",location:k},err:null};default:return this.error(i.INVALID_ARGUMENT_TYPE,N(l,d))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,N(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();)switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(i.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,N(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,i=e.split(k).filter((function(e){return e.length>0}));n<i.length;n++){var r=i[n].split("/");if(0===r.length)throw new Error("Invalid number skeleton");for(var o=r[0],a=r.slice(1),s=0,c=a;s<c.length;s++)if(0===c[s].length)throw new Error("Invalid number skeleton");t.push({stem:o,options:a})}return t}(e)}catch(e){return this.error(i.INVALID_NUMBER_SKELETON,t)}return{val:{type:o.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?D(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var o,a=!1,s=[],c=new Set,l=r.value,u=r.location;;){if(0===l.length){var d=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var f=this.tryParseDecimalInteger(i.EXPECT_PLURAL_ARGUMENT_SELECTOR,i.INVALID_PLURAL_ARGUMENT_SELECTOR);if(f.err)return f;u=N(d,this.clonePosition()),l=this.message.slice(d.offset,this.offset())}if(c.has(l))return this.error("select"===t?i.DUPLICATE_SELECT_ARGUMENT_SELECTOR:i.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,u);"other"===l&&(a=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?i.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:i.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,N(this.clonePosition(),this.clonePosition()));var h=this.parseMessage(e+1,t,n);if(h.err)return h;var m=this.tryParseArgumentClose(p);if(m.err)return m;s.push([l,{value:h.val,location:N(p,this.clonePosition())}]),c.add(l),this.bumpSpace(),l=(o=this.parseIdentifierIfPossible()).value,u=o.location}return 0===s.length?this.error("select"===t?i.EXPECT_SELECT_ARGUMENT_SELECTOR:i.EXPECT_PLURAL_ARGUMENT_SELECTOR,N(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(i.MISSING_OTHER_CLAUSE,N(this.clonePosition(),this.clonePosition())):{val:s,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var r=!1,o=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;r=!0,o=10*o+(a-48),this.bump()}var s=N(i,this.clonePosition());return r?W(o*=n)?{val:o,err:null}:this.error(t,s):this.error(e,s)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Y(this.message,e);if(void 0===t)throw Error("Offset "+e+" is at invalid UTF-16 code unit boundary");return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(q(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset "+e+" must be greater than or equal to the current offset "+this.offset());for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset "+e+" is at invalid UTF-16 code unit boundary");if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&ne(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function te(e){return e>=97&&e<=122||e>=65&&e<=90}function ne(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function ie(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function re(e){e.forEach((function(e){if(delete e.location,h(e)||m(e))for(var t in e.options)delete e.options[t].location,re(e.options[t].value);else d(e)&&y(e.style)||(f(e)||p(e))&&b(e.style)?delete e.style.location:v(e)&&re(e.children)}))}function oe(e,t){void 0===t&&(t={}),t=Object(s.b)({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new ee(e,t).parse();if(n.err){var r=SyntaxError(i[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return(null==t?void 0:t.captureLocation)||re(n.val),n.val}function ae(e,t){var n=t&&t.cache?t.cache:he,i=t&&t.serializer?t.serializer:de;return(t&&t.strategy?t.strategy:ue)(e,{cache:n,serializer:i})}function se(e,t,n,i){var r,o=null==(r=i)||"number"==typeof r||"boolean"==typeof r?i:n(i),a=t.get(o);return void 0===a&&(a=e.call(this,i),t.set(o,a)),a}function ce(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=n(i),o=t.get(r);return void 0===o&&(o=e.apply(this,i),t.set(r,o)),o}function le(e,t,n,i,r){return n.bind(t,e,i,r)}function ue(e,t){return le(e,this,1===e.length?se:ce,t.cache.create(),t.serializer)}var de=function(){return JSON.stringify(arguments)};function fe(){this.cache=Object.create(null)}fe.prototype.has=function(e){return e in this.cache},fe.prototype.get=function(e){return this.cache[e]},fe.prototype.set=function(e,t){this.cache[e]=t};var pe,he={create:function(){return new fe}},me={variadic:function(e,t){return le(e,this,ce,t.cache.create(),t.serializer)},monadic:function(e,t){return le(e,this,se,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(pe||(pe={}));var ge,ve=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.code=n,r.originalMessage=i,r}return Object(s.c)(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),ye=function(e){function t(t,n,i,r){return e.call(this,'Invalid values for "'+t+'": "'+n+'". Options are "'+Object.keys(i).join('", "')+'"',pe.INVALID_VALUE,r)||this}return Object(s.c)(t,e),t}(ve),be=function(e){function t(t,n,i){return e.call(this,'Value for "'+t+'" must be of type '+n,pe.INVALID_VALUE,i)||this}return Object(s.c)(t,e),t}(ve),_e=function(e){function t(t,n){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+n+'"',pe.MISSING_VALUE,n)||this}return Object(s.c)(t,e),t}(ve);function Se(e){return"function"==typeof e}function we(e,t,n,i,r,o,a){if(1===e.length&&l(e[0]))return[{type:ge.literal,value:e[0].value}];for(var s=[],c=0,_=e;c<_.length;c++){var S=_[c];if(l(S))s.push({type:ge.literal,value:S.value});else if(g(S))"number"==typeof o&&s.push({type:ge.literal,value:n.getNumberFormat(t).format(o)});else{var w=S.value;if(!r||!(w in r))throw new _e(w,a);var C=r[w];if(u(S))C&&"string"!=typeof C&&"number"!=typeof C||(C="string"==typeof C||"number"==typeof C?String(C):""),s.push({type:"string"==typeof C?ge.literal:ge.object,value:C});else if(f(S)){var k="string"==typeof S.style?i.date[S.style]:b(S.style)?S.style.parsedOptions:void 0;s.push({type:ge.literal,value:n.getDateTimeFormat(t,k).format(C)})}else if(p(S))k="string"==typeof S.style?i.time[S.style]:b(S.style)?S.style.parsedOptions:void 0,s.push({type:ge.literal,value:n.getDateTimeFormat(t,k).format(C)});else if(d(S))(k="string"==typeof S.style?i.number[S.style]:y(S.style)?S.style.parsedOptions:void 0)&&k.scale&&(C*=k.scale||1),s.push({type:ge.literal,value:n.getNumberFormat(t,k).format(C)});else{if(v(S)){var F=S.children,E=S.value,$=r[E];if(!Se($))throw new be(E,"function",a);var x=$(we(F,t,n,i,r,o).map((function(e){return e.value})));Array.isArray(x)||(x=[x]),s.push.apply(s,x.map((function(e){return{type:"string"==typeof e?ge.literal:ge.object,value:e}})))}if(h(S)){if(!(T=S.options[C]||S.options.other))throw new ye(S.value,C,Object.keys(S.options),a);s.push.apply(s,we(T.value,t,n,i,r))}else if(m(S)){var T;if(!(T=S.options["="+C])){if(!Intl.PluralRules)throw new ve('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',pe.MISSING_INTL_API,a);var A=n.getPluralRules(t,{type:S.pluralType}).select(C-(S.offset||0));T=S.options[A]||S.options.other}if(!T)throw new ye(S.value,C,Object.keys(S.options),a);s.push.apply(s,we(T.value,t,n,i,r,C-(S.offset||0)))}}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===ge.literal&&t.type===ge.literal?n.value+=t.value:e.push(t),e}),[])}(s)}function Ce(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(ge||(ge={}));var ke,Fe=function(){function e(t,n,i,r){var o,a=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=a.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===ge.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return we(a.ast,a.locales,a.formatters,a.formats,e,void 0,a.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(a.locales)[0]}},this.getAst=function(){return a.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==r?void 0:r.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=function(e,t){return t?Object.keys(e).reduce((function(n,i){var r,o;return n[i]=(r=e[i],(o=t[i])?Object(s.b)(Object(s.b)(Object(s.b)({},r||{}),o||{}),Object.keys(r).reduce((function(e,t){return e[t]=Object(s.b)(Object(s.b)({},r[t]),o[t]||{}),e}),{})):r),n}),Object(s.b)({},e)):e}(e.formats,i),this.locales=n,this.formatters=r&&r.formatters||(void 0===(o=this.formatterCache)&&(o={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:ae((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Object(s.d)([void 0],t)))}),{cache:Ce(o.number),strategy:me.variadic}),getDateTimeFormat:ae((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Object(s.d)([void 0],t)))}),{cache:Ce(o.dateTime),strategy:me.variadic}),getPluralRules:ae((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Object(s.d)([void 0],t)))}),{cache:Ce(o.pluralRules),strategy:me.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=oe,e.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();!function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"}(ke||(ke={}));var Ee=function(e){function t(n,i,r){var o=e.call(this,"[@formatjs/intl Error "+n+"] "+i+" \n"+(r?"\n"+r.message+"\n"+r.stack:""))||this;return o.code=n,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return Object(s.c)(t,e),t}(Error),$e=function(e){function t(t,n){return e.call(this,ke.UNSUPPORTED_FORMATTER,t,n)||this}return Object(s.c)(t,e),t}(Ee),xe=function(e){function t(t,n){return e.call(this,ke.INVALID_CONFIG,t,n)||this}return Object(s.c)(t,e),t}(Ee),Te=function(e){function t(t,n){return e.call(this,ke.MISSING_DATA,t,n)||this}return Object(s.c)(t,e),t}(Ee),Ae=function(e){function t(t,n,i,r){var o=e.call(this,ke.FORMAT_ERROR,t+" \nLocale: "+n+"\nMessageID: "+(null==i?void 0:i.id)+"\nDefault Message: "+(null==i?void 0:i.defaultMessage)+"\nDescription: "+(null==i?void 0:i.description)+" \n",r)||this;return o.descriptor=i,o}return Object(s.c)(t,e),t}(Ee),Pe=function(e){function t(t,n){var i=e.call(this,ke.MISSING_TRANSLATION,'Missing message: "'+t.id+'" for locale "'+n+'", using '+(t.defaultMessage?"default message":"id")+" as fallback.")||this;return i.descriptor=t,i}return Object(s.c)(t,e),t}(Ee);function Me(e,t,n){return void 0===n&&(n={}),t.reduce((function(t,i){return i in e?t[i]=e[i]:i in n&&(t[i]=n[i]),t}),{})}var De={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},onError:function(e){}};function Ie(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function Le(e,t,n,i){var r,o=e&&e[t];if(o&&(r=o[n]),r)return r;i(new $e("No "+t+" format named: "+n))}function Ne(e,t){return Object.keys(e).reduce((function(n,i){return n[i]=Object(s.b)({timeZone:t},e[i]),n}),{})}function Re(e,t){return Object.keys(Object(s.b)(Object(s.b)({},e),t)).reduce((function(n,i){return n[i]=Object(s.b)(Object(s.b)({},e[i]||{}),t[i]||{}),n}),{})}function Oe(e,t){if(!t)return e;var n=Fe.formats;return Object(s.b)(Object(s.b)(Object(s.b)({},n),e),{date:Re(Ne(n.date,t),Ne(e.date||{},t)),time:Re(Ne(n.time,t),Ne(e.time||{},t))})}function je(e,t,n,i,o){var c=e.locale,l=e.formats,u=e.messages,d=e.defaultLocale,f=e.defaultFormats,p=e.onError,h=e.timeZone,m=e.defaultRichTextElements;void 0===n&&(n={id:""});var g=n.id,v=n.defaultMessage;!function(e,t,n){if(void 0===n&&(n=Error),!e)throw new n("[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue")}(!!g);var y=String(g),b=u&&Object.prototype.hasOwnProperty.call(u,y)&&u[y];if(Array.isArray(b)&&1===b.length&&b[0].type===r.literal)return b[0].value;if(!i&&b&&"string"==typeof b&&!m)return b.replace(/'\{(.*?)\}'/gi,"{$1}");if(i=Object(s.b)(Object(s.b)({},m),i||{}),l=Oe(l,h),f=Oe(f,h),!b){if((!v||c&&c.toLowerCase()!==d.toLowerCase())&&p(new Pe(n,c)),v)try{return t.getMessageFormat(v,d,f,o).format(i)}catch(a){return p(new Ae('Error formatting default message for: "'+y+'", rendering default message verbatim',c,n,a)),"string"==typeof v?v:y}return y}try{return t.getMessageFormat(b,c,l,Object(s.b)({formatters:t},o||{})).format(i)}catch(a){p(new Ae('Error formatting message: "'+y+'", using '+(v?"default message":"id")+" as fallback.",c,n,a))}if(v)try{return t.getMessageFormat(v,d,f,o).format(i)}catch(a){p(new Ae('Error formatting the default message for: "'+y+'", rendering message verbatim',c,n,a))}return"string"==typeof b?b:"string"==typeof v?v:y}var Ve=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem"];function Ue(e,t,n,i){var r=e.locale,o=e.formats,a=e.onError,c=e.timeZone;void 0===i&&(i={});var l=i.format,u=Object(s.b)(Object(s.b)({},c&&{timeZone:c}),l&&Le(o,t,l,a)),d=Me(i,Ve,u);return"time"!==t||d.hour||d.minute||d.second||d.timeStyle||d.dateStyle||(d=Object(s.b)(Object(s.b)({},d),{hour:"numeric",minute:"numeric"})),n(r,d)}function Be(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=n[0],o=n[1],a=void 0===o?{}:o,s="string"==typeof r?new Date(r||0):r;try{return Ue(e,"date",t,a).format(s)}catch(t){e.onError(new Ee(ke.FORMAT_ERROR,"Error formatting date.",t))}return String(s)}function We(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=n[0],o=n[1],a=void 0===o?{}:o,s="string"==typeof r?new Date(r||0):r;try{return Ue(e,"time",t,a).format(s)}catch(t){e.onError(new Ee(ke.FORMAT_ERROR,"Error formatting time.",t))}return String(s)}function ze(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=n[0],o=n[1],a=n[2],s=void 0===a?{}:a,c=e.timeZone,l=e.locale,u=e.onError,d=Me(s,Ve,c?{timeZone:c}:{});try{return t(l,d).formatRange(r,o)}catch(e){u(new Ee(ke.FORMAT_ERROR,"Error formatting date time range.",e))}return String(r)}function He(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=n[0],o=n[1],a=void 0===o?{}:o,s="string"==typeof r?new Date(r||0):r;try{return Ue(e,"date",t,a).formatToParts(s)}catch(t){e.onError(new Ee(ke.FORMAT_ERROR,"Error formatting date.",t))}return[]}function qe(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=n[0],o=n[1],a=void 0===o?{}:o,s="string"==typeof r?new Date(r||0):r;try{return Ue(e,"time",t,a).formatToParts(s)}catch(t){e.onError(new Ee(ke.FORMAT_ERROR,"Error formatting time.",t))}return[]}var Ge=["localeMatcher","style","type","fallback"];function Ze(e,t,n,i){var r=e.locale,o=e.onError;Intl.DisplayNames||o(new ve('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',pe.MISSING_INTL_API));var a=Me(i,Ge);try{return t(r,a).of(n)}catch(e){o(new Ee(ke.FORMAT_ERROR,"Error formatting display name.",e))}}var Ye=["localeMatcher","type","style"],Xe=Date.now();function Ke(e,t,n,i){void 0===i&&(i={});var r=Je(e,t,n,i).reduce((function(e,t){var n=t.value;return"string"!=typeof n?e.push(n):"string"==typeof e[e.length-1]?e[e.length-1]+=n:e.push(n),e}),[]);return 1===r.length?r[0]:r}function Je(e,t,n,i){var r=e.locale,o=e.onError;void 0===i&&(i={}),Intl.ListFormat||o(new ve('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',pe.MISSING_INTL_API));var c=Me(i,Ye);try{var l={},u=n.map((function(e,t){if("object"==typeof e){var n=function(e){return Xe+"_"+e+"_"+Xe}(t);return l[n]=e,n}return String(e)}));return t(r,c).formatToParts(u).map((function(e){return"literal"===e.type?e:Object(s.b)(Object(s.b)({},e),{value:l[e.value]||e.value})}))}catch(a){o(new Ee(ke.FORMAT_ERROR,"Error formatting list.",a))}return n}var Qe=["localeMatcher","type"];function et(e,t,n,i){var r=e.locale,o=e.onError;void 0===i&&(i={}),Intl.PluralRules||o(new ve('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',pe.MISSING_INTL_API));var a=Me(i,Qe);try{return t(r,a).select(n)}catch(e){o(new Ae("Error formatting plural.",e))}return"other"}var tt=["numeric","style"];function nt(e,t,n,i,r){void 0===r&&(r={}),i||(i="second"),Intl.RelativeTimeFormat||e.onError(new ve('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',pe.MISSING_INTL_API));try{return function(e,t,n){var i=e.locale,r=e.formats,o=e.onError;void 0===n&&(n={});var a=n.format,s=!!a&&Le(r,"relative",a,o)||{};return t(i,Me(n,tt,s))}(e,t,r).format(n,i)}catch(t){e.onError(new Ae("Error formatting relative time.",t))}return String(n)}var it=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay"];function rt(e,t,n){var i=e.locale,r=e.formats,o=e.onError;void 0===n&&(n={});var a=n.format,s=a&&Le(r,"number",a,o)||{};return t(i,Me(n,it,s))}function ot(e,t,n,i){void 0===i&&(i={});try{return rt(e,t,i).format(n)}catch(t){e.onError(new Ee(ke.FORMAT_ERROR,"Error formatting number.",t))}return String(n)}function at(e,t,n,i){void 0===i&&(i={});try{return rt(e,t,i).formatToParts(n)}catch(t){e.onError(new Ee(ke.FORMAT_ERROR,"Error formatting number.",t))}return[]}function st(e,t){var n=function(e){void 0===e&&(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var t=Intl.RelativeTimeFormat,n=Intl.ListFormat,i=Intl.DisplayNames,r=ae((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Object(s.d)([void 0],t)))}),{cache:Ie(e.dateTime),strategy:me.variadic}),o=ae((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Object(s.d)([void 0],t)))}),{cache:Ie(e.number),strategy:me.variadic}),a=ae((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Object(s.d)([void 0],t)))}),{cache:Ie(e.pluralRules),strategy:me.variadic});return{getDateTimeFormat:r,getNumberFormat:o,getMessageFormat:ae((function(e,t,n,i){return new Fe(e,t,n,Object(s.b)({formatters:{getNumberFormat:o,getDateTimeFormat:r,getPluralRules:a}},i||{}))}),{cache:Ie(e.message),strategy:me.variadic}),getRelativeTimeFormat:ae((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,Object(s.d)([void 0],e)))}),{cache:Ie(e.relativeTime),strategy:me.variadic}),getPluralRules:a,getListFormat:ae((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(n.bind.apply(n,Object(s.d)([void 0],e)))}),{cache:Ie(e.list),strategy:me.variadic}),getDisplayNames:ae((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(i.bind.apply(i,Object(s.d)([void 0],e)))}),{cache:Ie(e.displayNames),strategy:me.variadic})}}(t),i=Object(s.b)(Object(s.b)({},De),e),r=i.locale,o=i.defaultLocale,a=i.onError;return r?!Intl.NumberFormat.supportedLocalesOf(r).length&&a?a(new Te('Missing locale data for locale: "'+r+'" in Intl.NumberFormat. Using default locale: "'+o+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):!Intl.DateTimeFormat.supportedLocalesOf(r).length&&a&&a(new Te('Missing locale data for locale: "'+r+'" in Intl.DateTimeFormat. Using default locale: "'+o+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):(a&&a(new xe('"locale" was not configured, using "'+o+'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details')),i.locale=i.defaultLocale||"en"),function(e){var t;e.defaultRichTextElements&&"string"==typeof((t=e.messages||{})?t[Object.keys(t)[0]]:void 0)&&console.warn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution')}(i),Object(s.b)(Object(s.b)({},i),{formatters:n,formatNumber:ot.bind(null,i,n.getNumberFormat),formatNumberToParts:at.bind(null,i,n.getNumberFormat),formatRelativeTime:nt.bind(null,i,n.getRelativeTimeFormat),formatDate:Be.bind(null,i,n.getDateTimeFormat),formatDateToParts:He.bind(null,i,n.getDateTimeFormat),formatTime:We.bind(null,i,n.getDateTimeFormat),formatDateTimeRange:ze.bind(null,i,n.getDateTimeFormat),formatTimeToParts:qe.bind(null,i,n.getDateTimeFormat),formatPlural:et.bind(null,i,n.getPluralRules),formatMessage:je.bind(null,i,n),formatList:Ke.bind(null,i,n.getListFormat),formatListToParts:Je.bind(null,i,n.getListFormat),formatDisplayName:Ze.bind(null,i,n.getDisplayNames)})}const ct={academic_verification:{stage:"https://commerce-stg.adobe.com/academic-verification",production:"https://commerce.adobe.com/academic-verification"},acrobat_plan:{stage:"https://www-stage01.acrobat.adobe.com",production:"https://acrobat.adobe.com"},adobeaccount:{stage:"https://stage.account.adobe.com",production:"https://account.adobe.com"},adminconsole:{stage:"https://stage.adminconsole.adobe.com",production:"https://adminconsole.adobe.com"},assets:{stage:"https://assets-stage.adobecc.com",production:"https://assets.adobe.com"},behance:{stage:"https://net.s2stagehance.com",production:"https://www.behance.net"},cchome:{stage:"https://stage.creativecloud.adobe.com",production:"https://creativecloud.adobe.com"},color:{stage:"https://colorweb-stage.adobeku.com",production:"https://color.adobe.com"},community:{stage:"https://community-stg.adobe.com",production:"https://community.adobe.com"},creativecloudapp:{stage:"https://stage.ccmui.adobe.com",production:"https://creative.adobe.com"},dcweb:{stage:"https://dc.stage.acrobat.com",production:"https://documentcloud.adobe.com"},experiencecloud:{stage:"https://experiencecloud-stage.adobe.com",production:"https://experiencecloud.adobe.com"},fonts:{stage:"https://fonts-relstage.adobe.com",production:"https://fonts.adobe.com"},helpx:{stage:"https://helpx.stage.adobe.com",production:"https://helpx.adobe.com"},ims:{stage:"https://ims-na1-stg1.adobelogin.com",production:"https://adobeid-na1.services.adobe.com"},lightroom:{stage:"https://stage.adobelr.com",production:"https://lightroom.adobe.com"},mini_plans:{stage:"https://www.stage.adobe.com/mini-plans",production:"https://www.adobe.com/mini-plans"},ngl:{stage:"https://workflow-stage.licenses.adobe.com",production:"https://workflow.licenses.adobe.com"},portfolio:{stage:"https://portfolio.ccpsx.com",production:"https://portfolio.adobe.com"},redemption_ui:{stage:"https://redeem-stg.adobe.com",production:"https://redeem.adobe.com"},stock:{stage:"https://primary.stock.stage.adobe.com",production:"https://stock.adobe.com"},spark:{stage:"https://stage.adobeprojectm.com",production:"https://spark.adobe.com"},commerce_ui:{stage:"https://commerce-stg.adobe.com",production:"https://commerce.adobe.com"},unifiedcheckout:{stage:"https://commerce-stg.adobe.com",production:"https://commerce.adobe.com"},xd:{stage:"https://stage.xd.adobe.com",production:"https://xd.adobe.com"},adobedotcom:{stage:"https://www.stage.adobe.com",production:"https://www.adobe.com"}},lt=["adobedotcom","helpx","stock","accountmanagement","creativecloudapp","acrobat_plan","ngl","color","mini_plans"],ut=["adobeaccount","redemption_ui","unifiedcheckout","academic_verification","community"],dt=["adobedotcom","helpx","globalnav","ims","acrobat_plan","ngl","jarvis","mini_plans"],ft={africa:["africa","ao","bf","bi","bj","bw","cd","cf","cg","ci","cm","cv","dj","er","et","ga","gh","gm","gn","gq","gw","ke","km","lr","ls","mg","ml","mu","mw","mz","na","ne","ng","rw","sc","sd","sl","sn","so","st","sz","td","tg","tz","ug","za","zm","zw"],cis:["cis","am","az","by","ge","kg","kz","md","tj","tm","uz"],la:["la","ar","bl","bo","br","bz","cl","co","cr","cu","do","ec","fk","gf","gt","gy","hn","ht","mf","mq","ni","pa","pe","pr","py","sr","sv","uy","ve","tt"],mena:["mena","ae","bh","dz","eg","jo","kw","lb","ma","om","qa","sa","tn","ye","iq","ly","mr"],sea:["sea","id","my","ph","sg","th","vn","lk"],hk:["mo"],ie:["hr"]};var pt={cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-hant":"zh-Hant-TW"},ht={ar:"ar-AE",bg:"bg-BG",cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",et:"et-EE",fi:"fi-FI",fr:"fr-FR",he:"he-IL",hu:"hu-HU",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sv:"sv-SE",tr:"tr-TR",uk:"uk-UA","zh-Hans":"zh-Hans-CN","zh-Hant":"zh-Hant-TW"},mt={cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-Hans":"zh-Hans-CN","zh-Hant":"zh-Hant-TW"},gt={mena_ar:"ar-x-MENA",ae_ar:"ar-AE",sa_ar:"ar-SA",bg:"bg-BG",cz:"cs-CZ",dk:"da-DK",de:"de-DE",at:"de-AT",ch_de:"de-CH",lu_de:"de-LU",us:"en-US",ae_en:"en-AE",au:"en-AU",be_en:"en-BE",ca:"en-CA",cy_en:"en-CY",uk:"en-GB",gr_en:"en-GR",hk_en:"en-HK",ie:"en-IE",il_en:"en-IL",in:"en-IN",lu_en:"en-LU",mt:"en-MT",nz:"en-NZ",sa_en:"en-SA",sg:"en-SG",th_en:"en-TH",africa:"en-x-AFRICA",cis_en:"en-x-CIS",mena_en:"en-x-MENA",sea:"en-x-SEA",es:"es-ES",mx:"es-MX",cl:"es-CL",la:"es-x-LA",ee:"et-EE",fi:"fi-FI",fr:"fr-FR",be_fr:"fr-BE",ca_fr:"fr-CA",ch_fr:"fr-CH",lu_fr:"fr-LU",il_he:"he-IL",hu:"hu-HU",it:"it-IT",ch_it:"it-CH",jp:"ja-JP",kr:"ko-KR",lt:"lt-LT",lv:"lv-LV",no:"nb-NO",nl:"nl-NL",be_nl:"nl-BE",pl:"pl-PL",pt:"pt-PT",br:"pt-BR",ro:"ro-RO",ru:"ru-RU",cis_ru:"ru-x-CIS",sk:"sk-SK",si:"sl-SI",se:"sv-SE",th_th:"th-TH",tr:"tr-TR",ua:"uk-UA",cn:"zh-Hans-CN",tw:"zh-Hant-TW",hk_zh:"zh-Hant-HK"},vt=Object.freeze({__proto__:null,academic_verification:pt,adminconsole:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-cn":"zh-Hans-CN","zh-tw":"zh-Hant-TW"},adobeaccount:ht,assets:mt,behance:{"cs-CZ":"cs-CZ","da-DK":"da-DK","de-DE":"de-DE","en-US":"en-US","es-ES":"es-ES","fi-FI":"fi-FI","fr-FR":"fr-FR","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","nb-NO":"nb-NO","nl-NL":"nl-NL","pl-PL":"pl-PL","pt-BR":"pt-BR","ru-RU":"ru-RU","sv-SE":"sv-SE","tr-TR":"tr-TR","zh-CN":"zh-Hans-CN","zh-TW":"zh-Hant-TW"},cchome:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-Hans":"zh-Hans-CN","zh-Hant":"zh-Hant-TW"},ccsearch:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",hu:"hu-HU",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR",uk:"uk-UA","zh-Hans":"zh-Hans-CN","zh-Hant":"zh-Hant-TW"},comments:mt,color:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR",zh:"zh-Hant-TW"},community:{de:"de-DE",en:"en-US",es:"es-ES",fr:"fr-FR",ja:"ja-JP",pt:"pt-BR"},creativecloudapp:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-cn":"zh-Hans-CN","zh-tw":"zh-Hant-TW"},dcweb:{"cs-CZ":"cs-CZ","da-DK":"da-DK","de-DE":"de-DE","en-US":"en-US","en-GB":"en-GB","es-ES":"es-ES","fi-FI":"fi-FI","fr-FR":"fr-FR","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","nb-NO":"nb-NO","nl-NL":"nl-NL","pl-PL":"pl-PL","pt-BR":"pt-BR","ru-RU":"ru-RU","sv-SE":"sv-SE","tr-TR":"tr-TR","zh-CN":"zh-Hans-CN","zh-TW":"zh-Hant-TW"},editbilling:{ar:"ar-AE",bg:"bg-BG",cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",et:"et-EE",fi:"fi-FI",fr:"fr-FR",he:"he-IL",hu:"hu-HU",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sv:"sv-SE",tr:"tr-TR",uk:"uk-UA","zh-hans":"zh-Hans-CN","zh-hant":"zh-Hant-TW"},experiencecloud:{de:"de-DE",en:"en-US",es:"es-ES",fr:"fr-FR",it:"it-IT",ja:"ja-JP","ko-kr":"ko-KR","pt-br":"pt-BR","zh-cn":"zh-Hans-CN","zh-tw":"zh-Hant-TW"},helpx:{mena_ar:"ar-x-MENA",bg:"bg-BG",cz:"cs-CZ",dk:"da-DK",de:"de-DE",at:"de-AT",ch_de:"de-CH",lu_de:"de-LU",en:"en-US",au:"en-AU",be_en:"en-BE",ca:"en-CA",cy_en:"en-CY",uk:"en-GB",gr_en:"en-GR",hk_en:"en-HK",ie:"en-IE",il_en:"en-IL",in:"en-IN",lu_en:"en-LU",mt:"en-MT",nz:"en-NZ",africa:"en-x-AFRICA",eeurope:"en-x-EEUROPE",mena_en:"en-x-MENA",sea:"en-x-SEA",es:"es-ES",mx:"es-MX",la:"es-x-LA",ee:"et-EE",fi:"fi-FI",fr:"fr-FR",be_fr:"fr-BE",ca_fr:"fr-CA",ch_fr:"fr-CH",lu_fr:"fr-LU",il_he:"he-IL",hu:"hu-HU",it:"it-IT",ch_it:"it-CH",jp:"ja-JP",kr:"ko-KR",lt:"lt-LT",lv:"lv-LV",no:"nb-NO",nl:"nl-NL",be_nl:"nl-BE",pl:"pl-PL",pt:"pt-PT",br:"pt-BR",ro:"ro-RO",ru:"ru-RU",cis:"ru-x-CIS",sk:"sk-SK",si:"sl-SI",se:"sv-SE",tr:"tr-TR",ua:"uk-UA",cn:"zh-Hans-CN",tw:"zh-Hant-TW",hk_zh:"zh-Hant-HK"},ims:{bg_BG:"bg-BG",cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",en_US:"en-US",en_AE:"en-AE",en_GB:"en-GB",en_IL:"en-IL",en_XM:"en-x-MENA",es_ES:"es-ES",es_LA:"es-x-LA",es_MX:"es-MX",es_NA:"es-x-NA",et_EE:"et-EE",fi_FI:"fi-FI",fr_FR:"fr-FR",fr_CA:"fr-CA",fr_MA:"fr-MA",fr_XM:"fr-x-MENA",hr_HR:"hr-HR",hu_HU:"hu-HU",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",lt_LT:"lt-LT",lv_LV:"lv-LV",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_BR:"pt-BR",ro_RO:"ro-RO",ru_RU:"ru-RU",sk_SK:"sk-SK",sl_SI:"sl-SI",sr_RS:"sr-RS",sr_SP:"sr-RS",sv_SE:"sv-SE",tr_TR:"tr-TR",uk_UA:"uk-UA",zh_HANS:"zh-Hans-CN",zh_CN:"zh-Hans-CN",zh_HANT:"zh-Hant-TW",zh_TW:"zh-Hant-TW"},lightroom:{"de-DE":"de-DE","en-US":"en-US","en-GB":"en-GB","es-ES":"es-ES","es-MX":"es-MX","fr-FR":"fr-FR","fr-CA":"fr-CA","hu-HU":"hu-HU","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","nl-NL":"nl-NL","pt-BR":"pt-BR","ru-RU":"ru-RU","sv-SE":"sv-SE","th-TH":"th-TH","uk-UA":"uk-UA","zh-CN":"zh-Hans-CN","zh-TW":"zh-Hant-TW"},jarvis:{ar_MENA:"ar-x-MENA",bg_BG:"bg-BG",cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",de_AT:"de-AT",de_CH:"de-CH",de_LU:"de-LU",en_US:"en-US",en_AU:"en-AU",en_BE:"en-BE",en_CA:"en-CA",en_CY:"en-CY",en_GB:"en-GB",en_GR:"en-GR",en_HK:"en-HK",en_IE:"en-IE",en_IL:"en-IL",en_IN:"en-IN",en_LU:"en-LU",en_MENA:"en-x-MENA",en_MT:"en-MT",en_NZ:"en-NZ",en_SEA:"en-x-SEA",en_ZA:"en-x-AFRICA",es_ES:"es-ES",es_LA:"es-x-LA",es_MX:"es-MX",et_EE:"et-EE",fi_FI:"fi-FI",fr_FR:"fr-FR",fr_BE:"fr-BE",fr_CA:"fr-CA",fr_CH:"fr-CH",fr_LU:"fr-LU",he_IL:"he-IL",hu_HU:"hu-HU",it_CH:"it-CH",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",lt_LT:"lt-LT",lv_LV:"lv-LV",nb_NO:"nb-NO",nl_BE:"nl-BE",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_BR:"pt-BR",pt_PT:"pt-PT",ro_RO:"ro-RO",ru_RU:"ru-RU",sk_SK:"sk-SK",sl_SI:"sl-SI",sv_SE:"sv-SE",tr_TR:"tr-TR",uk_UA:"uk-UA",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW",zh_HK:"zh-Hant-HK"},mcs:{ar_AE:"ar-AE",bg_BG:"bg-BG",cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",en_US:"en-US",en_GB:"en-GB",en_HK:"en-HK",en_IL:"en-IL",es_ES:"es-ES",es_MX:"es-MX",et_EE:"et-EE",fi_FI:"fi-FI",fr_FR:"fr-FR",fr_CA:"fr-CA",he_IL:"he-IL",hr_HR:"hr-HR",hu_HU:"hu-HU",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",lt_LT:"lt-LT",lv_LV:"lv-LV",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_BR:"pt-BR",ro_RO:"ro-RO",ru_RU:"ru-RU",sk_SK:"sk-SK",sl_SI:"sl-SI",sr_RS:"sr-Latn-RS",sv_SE:"sv-SE",tr_TR:"tr-TR",uk_UA:"uk-UA",zh_CN:"zh-Hans-CN",zh_HK:"zh-Hant-HK",zh_TW:"zh-Hant-TW"},mt:{ar_AE:"ar-AE",bg_BG:"bg-BG",ca_ES:"ca-ES",cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",el_GR:"el-GR",en_US:"en-US",es_ES:"es-ES",et_EE:"et-EE",fa_IR:"fa-IR",fi_FI:"fi-FI",fr_FR:"fr-FR",he_IL:"he-IL",hi_IN:"hi-IN",ht_HT:"ht-HT",hu_HU:"hu-HU",id_ID:"id-ID",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",lt_LT:"lt-LT",lv_LV:"lv-LV",ms_MY:"ms-MY",nl_NL:"nl-NL",no_NO:"nb-NO",pl_PL:"pl-PL",pt_BR:"pt-BR",ro_RO:"ro-RO",ru_RU:"ru-RU",sk_SK:"sk-SK",sl_SI:"sl-SI",sv_SE:"sv-SE",th_TH:"th-TH",tr_TR:"tr-TR",uk_UA:"uk-UA",ur_PK:"ur-PK",vi_VN:"vi-VN",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW"},ngl:{cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",en_US:"en-US",en_GB:"en-GB",en_IL:"en-IL",en_AE:"en-AE",en_XM:"en-x-MENA",es_ES:"es-ES",es_MX:"es-MX",es_LA:"es-x-LA",es_NA:"es-x-NA",fi_FI:"fi-FI",fr_FR:"fr-FR",fr_CA:"fr-CA",fr_MA:"fr-MA",fr_XM:"fr-x-MENA",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_BR:"pt-BR",ru_RU:"ru-RU",sv_SE:"sv-SE",tr_TR:"tr-TR",hu_HU:"hu-HU",sk_SK:"sk-SK",sl_SI:"sl-SI",uk_UA:"uk-UA",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW"},acrobat_plan:{"at/de":"de-AT","au/en":"en-AU","be/en":"en-BE","be/fr":"fr-BE","be/nl":"nl-BE","bg/en":"en-BG","br/pt":"pt-BR","ca/en":"en-CA","ca/fr":"fr-CA","ch/de":"de-CH","ch/fr":"fr-CH","ch/it":"it-CH","cn/zh-Hans":"zh-Hans-CN","cy/en":"en-CY","cz/cs":"cs-CZ","de/de":"de-DE","dk/da":"da-DK","ee/en":"en-EE","es/es":"es-ES","fi/fi":"fi-FI","fr/fr":"fr-FR","gr/en":"en-GR","hk/en":"en-HK","hk/zh-Hant":"zh-Hant-HK","hu/hu":"hu-HU","ie/en":"en-IE","il/en":"en-IL","in/en":"en-IN","it/it":"it-IT","jp/ja":"ja-JP","kr/ko":"ko-KR","la/es":"es-x-LA","lt/en":"en-LT","lu/de":"de-LU","lu/en":"en-LU","lu/fr":"fr-LU","lv/en":"en-LV","mena/en":"en-x-MENA","mt/en":"en-MT","mx/es":"es-MX","nl/nl":"nl-NL","no/no":"nb-NO","nz/en":"en-NZ","pl/pl":"pl-PL","pt/pt":"pt-PT","ro/en":"en-RO","ru/ru":"ru-RU","se/sv":"sv-SE","sea/en":"en-x-SEA","si/en":"en-SI","sk/en":"en-SK","tr/tr":"tr-TR","tw/zh-Hant":"zh-Hant-TW","ua/en":"en-UA","uk/en":"en-GB","us/en":"en-US","za/en":"en-x-AFRICA"},panel_licensing:{"cs-CZ":"cs-CZ","da-DK":"da-DK","de-DE":"de-DE","en-US":"en-US","es-ES":"es-ES","fi-FI":"fi-FI","fr-FR":"fr-FR","hu-HU":"hu-HU","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","nb-NO":"nb-NO","nl-NL":"nl-NL","pl-PL":"pl-PL","pt-BR":"pt-BR","pt-PT":"pt-PT","ru-RU":"ru-RU","sv-SE":"sv-SE","th-TH":"th-TH","tr-TR":"tr-TR","uk-UA":"uk-UA","zh-CN":"zh-Hans-CN","zh-HK":"zh-Hant-HK","zh-TW":"zh-Hant-TW"},portfolio:{en_us:"en-US",en_au:"en-AU",en_be:"en-BE",en_br:"en-BR",en_ca:"en-CA",en_cis:"en-x-CIS",en_cy:"en-CY",en_gb:"en-GB",en_gr:"en-GR",en_il:"en-IL",en_ie:"en-IE",en_in:"en-IN",en_hk:"en-HK",en_lu:"en-LU",en_mena:"en-x-MENA",en_mt:"en-MT",en_nz:"en-NZ",en_sea:"en-x-SEA",en_za:"en-ZA",cs_cz:"cs-CZ",da_dk:"da-DK",de_de:"de-DE",de_ch:"de-CH",de_lu:"de-LU",es_es:"es-ES",es_419:"es-x-LA",es_mx:"es-MX",fr_fr:"fr-FR",fi_fi:"fi-FI",fr_ca:"fr-CA",fr_ch:"fr-CH",fr_be:"fr-BE",fr_mena:"fr-x-MENA",fr_lu:"fr-LU",it_it:"it-IT",it_ch:"it-CH",ja_jp:"ja-JP",ko_kr:"ko-KR",nb_no:"nb-NO",nl_nl:"nl-NL",pl_pl:"pl-PL",pt_pt:"pt-PT",pt_br:"pt-BR",ru_ru:"ru-RU",sv_se:"sv-SE",tr_tr:"tr-TR",zh_cn:"zh-Hans-CN",zh_tw:"zh-Hant-TW"},publiclinks:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-tw":"zh-Hant-TW"},react_spectrum:{"ar-AE":"ar-AE","bg-BG":"bg-BG","cs-CZ":"cs-CZ","da-DK":"da-DK","de-DE":"de-DE","en-US":"en-US","es-ES":"es-ES","et-EE":"et-EE","fi-FI":"fi-FI","fr-FR":"fr-FR","he-IL":"he-IL","hr-HR":"hr-HR","hu-HU":"hu-HU","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","lt-LT":"lt-LT","lv-LV":"lv-LV","nb-NO":"nb-NO","nl-NL":"nl-NL","pl-PL":"pl-PL","pt-BR":"pt-BR","ro-RO":"ro-RO","ru-RU":"ru-RU","sk-SK":"sk-SK","sl-SI":"sl-SI","sr-SP":"sr-Latn-RS","sv-SE":"sv-SE","tr-TR":"tr-TR","uk-UA":"uk-UA","zh-CN":"zh-Hans-CN","zh-TW":"zh-Hant-TW"},redemption_ui:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-hans":"zh-Hans-CN","zh-hant":"zh-Hant-TW"},sharesheet:mt,spark:{"cy-GB":"cy-GB","en-US":"en-US","de-DE":"de-DE","fr-FR":"fr-FR","es-ES":"es-ES","it-IT":"it-IT","pt-BR":"pt-BR","ja-JP":"ja-JP","ko-KR":"ko-KR","nb-NO":"nb-NO","da-DK":"da-DK","nl-NL":"nl-NL","sv-SE":"sv-SE","fi-FI":"fi-FI","zh-Hans-CN":"zh-Hans-CN","zh-Hant-TW":"zh-Hant-TW"},stock:{bg:"bg-BG",cz:"cs-CZ",dk:"da-DK",de:"de-DE",at:"de-AT",ch_de:"de-CH",lu_de:"de-LU",gr_en:"el-GR",cy_en:"el-CY",us:"en-US",be_en:"en-BE",ca:"en-CA",au:"en-AU",uk:"en-GB",ie:"en-IE",lu_en:"en-LU",nz:"en-NZ",ph:"en-PH",sg:"en-SG",es:"es-ES",ar:"es-AR",cl:"es-CL",co:"es-CO",cr:"es-CR",ec:"es-EC",gt:"es-GT",mx:"es-MX",pe:"es-PE",ve:"es-VE",ee:"et-EE",fi:"fi-FI",fr:"fr-FR",be_fr:"fr-BE",ca_fr:"fr-CA",ch_fr:"fr-CH",lu_fr:"fr-LU",il:"he-IL",in:"hi-IN",hu:"hu-HU",it:"it-IT",ch_it:"it-CH",jp:"ja-JP",kr:"ko-KR",lt:"lt-LT",lv:"lv-LV",mt:"mt-MT",no:"nb-NO",nl:"nl-NL",be_nl:"nl-BE",pl:"pl-PL",pt:"pt-PT",br:"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",si:"sl-SI",se:"sv-SE",th:"th-TH",ua:"uk-UA",tw:"zh-Hant-TW",hk:"zh-Hant-HK"},fonts:{"de-DE":"de-DE","en-US":"en-US","es-ES":"es-ES","fr-FR":"fr-FR","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","pt-BR":"pt-BR","ru-RU":"ru-RU","zh-CN":"zh-Hans-CN","zh-TW":"zh-Hant-TW"},commerce_ui:pt,unifiedcheckout:pt,unifiedcheckout_v1:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",no:"nb-NO",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-tw":"zh-Hant-TW"},unifiedpanel:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",hu:"hu-HU",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR",uk:"uk-UA","zh-Hans":"zh-Hans-CN","zh-Hant":"zh-Hant-TW"},uss:{cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",de_LU:"de-LU",el_GR:"el-GR",en_US:"en-US",en_GB:"en-GB",es_ES:"es-ES",et_EE:"et-EE",fi_FI:"fi-FI",fr_FR:"fr-FR",fr_CA:"fr-CA",hu_HU:"hu-HU",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_BR:"pt-BR",pt_PT:"pt-PT",ro_RO:"ro-RO",ru_RU:"ru-RU",sv_SE:"sv-SE",tr_TR:"tr-TR",uk_UA:"uk-UA",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW"},utilitynav:{cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",en_US:"en-US",es_ES:"es-ES",fi_FI:"fi-FI",fr_FR:"fr-FR",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_PT:"pt-PT",pt_BR:"pt-BR",ru_RU:"ru-RU",sv_SE:"sv-SE",tr_TR:"tr-TR",uk_UA:"uk-UA",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW"},ututs:{cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",en_US:"en-US",en_AE:"en-AE",en_GB:"en-GB",en_IL:"en-IL",es_ES:"es-ES",es_MX:"es-MX",fi_FI:"fi-FI",fr_FR:"fr-FR",fr_CA:"fr-CA",fr_MA:"fr-MA",hu_HU:"hu-HU",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_BR:"pt-BR",ru_RU:"ru-RU",sv_SE:"sv-SE",tr_TR:"tr-TR",uk_UA:"uk-UA",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW"},xd:{"de-DE":"de-DE","en-US":"en-US","es-ES":"es-ES","fr-FR":"fr-FR","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","pt-BR":"pt-BR","ru-RU":"ru-RU"},mini_plans_photoshop_lightroom_start_trial:{au:"en-AU",nz:"en-NZ"},mini_plans:{bg:"bg-BG",cz:"cs-CZ",dk:"da-DK",de:"de-DE",at:"de-AT",ch_de:"de-CH",lu_de:"de-LU",us:"en-US",au:"en-AU",be_en:"en-BE",ca:"en-CA",cy_en:"en-CY",uk:"en-GB",gr_en:"en-GR",hk_en:"en-HK",ie:"en-IE",lu_en:"en-LU",mt:"en-MT",nz:"en-NZ",africa:"en-x-AFRICA",es:"es-ES",mx:"es-MX",ee:"et-EE",fi:"fi-FI",fr:"fr-FR",be_fr:"fr-BE",ca_fr:"fr-CA",ch_fr:"fr-CH",lu_fr:"fr-LU",hu:"hu-HU",it:"it-IT",ch_it:"it-CH",jp:"ja-JP",kr:"ko-KR",lt:"lt-LT",lv:"lv-LV",no:"nb-NO",nl:"nl-NL",be_nl:"nl-BE",pl:"pl-PL",pt:"pt-PT",br:"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",si:"sl-SI",se:"sv-SE",hk_zh:"zh-Hant-HK"},adobedotcom:gt,globalnav:gt,switchplan_app:ht,_supplement:{uk:"uk-UA",pt:"pt-BR","ar-mena":"ar-x-MENA","en-africa":"en-x-AFRICA","en-cis":"en-x-CIS","en-mena":"en-x-MENA","en-sea":"en-x-SEA","es-la":"es-x-LA","ru-cis":"ru-x-CIS",zh:"zh-Hans-CN","es-419":"es-419"}}),yt={AF:[],AX:[],AL:[],DZ:["en","fr","ar"],AS:[],AD:["es","fr","pt"],AO:["pt"],AI:[],AQ:["en"],AG:["en"],AR:["es"],AM:["en","ru"],AW:[],AU:["en"],AT:["de"],AZ:["en","ru"],BS:["en"],BH:["ar","en"],BD:[],BB:["en"],BY:["ru"],BE:["nl","en","fr"],BZ:[],BJ:[],BM:["en"],BT:[],BO:["es"],BA:["en"],BW:["en"],BV:[],BR:["pt"],IO:[],BN:["en"],BG:["bg"],BF:[],BI:["en","fr"],KH:[],CM:["en","fr"],CA:["en","fr"],CV:[],KY:["en"],CF:[],TD:[],CL:["es"],CN:["zh-Hans"],CX:[],CC:["en"],CO:["es"],KM:[],CG:["en","fr"],CD:["en","fr"],CK:[],CR:["es"],CI:["en","fr"],HR:["en"],CU:[],CY:["en"],CZ:["cs"],DK:["da"],DJ:[],DM:["en"],DO:["es"],EC:["es"],EG:["ar","en"],SV:["es"],GQ:[],ER:[],EE:["et"],ET:[],FK:[],FO:["da"],FJ:[],FI:["fi"],FR:["fr"],GF:["fr"],PF:[],TF:[],GA:[],GM:[],GE:["en","ru"],DE:["de"],GH:["en"],GI:[],GR:["en"],GL:[],GD:[],GP:["en","fr"],GU:[],GT:["es"],GG:[],GN:[],GW:[],GY:["en"],HT:["en","fr"],HM:[],VA:[],HN:["es"],HK:["en","zh-Hant"],HU:["hu"],IS:[],IN:["en"],ID:["en"],IR:[],IQ:["ar"],IE:["en"],IM:[],IL:["he","en"],IT:["it"],JM:["en"],JP:["ja"],JE:[],JO:["ar","en"],KZ:["ru"],KE:["en"],KI:[],KR:["ko"],KV:[],KW:["ar","en"],KG:["ru","en"],LA:[],LV:["lv"],LB:["en","ar"],LS:["en"],LR:["en"],LY:["ar"],LI:[],LT:["lt"],LU:["en","de","fr"],MO:["en","zh-Hant"],MK:[],MG:["en","fr"],MW:[],MY:["en"],MV:[],ML:["en","fr"],MT:["en"],MH:[],MQ:["en","fr"],MR:["en","fr"],MU:["en","fr"],YT:["en","fr"],MX:["es"],FM:["en"],MD:["en","ru"],MC:[],MN:[],ME:[],MS:[],MA:["en","fr","ar"],MZ:["pt"],MM:[],NA:["en"],NR:[],NP:[],NL:["nl"],AN:["nl","en"],NC:[],NZ:["en"],NI:["es"],NE:["en","fr"],NG:["en"],NU:[],NF:[],MP:["en"],NO:["nb"],OM:["ar","en"],PK:["en"],PW:[],PS:[],PA:["es"],PG:[],PY:["es"],PE:["es"],PH:["en"],PN:[],PL:["pl"],PT:["pt"],PR:["es"],QA:["ar","en"],RE:[],RO:["ro"],RU:["ru"],RW:[],BL:[],SH:[],KN:["en"],LC:["en"],MF:[],PM:[],VC:["pt"],WS:[],SM:[],ST:[],SA:["ar","en"],SN:["en","fr"],RS:["rs"],SC:[],SL:[],SG:["en"],SK:["sk"],SI:["sl"],SB:[],SO:[],ZA:["en"],GS:[],ES:["es"],LK:["en"],SD:[],SR:["nl"],SJ:[],SZ:[],SE:["sv"],CH:["de","fr","it"],SY:[],TW:["zh-Hant"],TJ:["ru","en"],TZ:["en"],TH:["en"],TL:[],TG:[],TK:[],TO:[],TT:["en"],TN:["en","fr","ar"],TR:["tr"],TM:["en","ru"],TC:["en"],TV:[],UG:["en"],UA:["uk"],AE:["en","ar"],GB:["en"],US:["en"],UM:[],UY:["es"],UZ:["ru","en"],VU:[],VE:["es"],VN:["en"],VG:["en"],VI:[],WF:[],EH:[],YE:["en","ar"],ZM:["en"],ZW:["en"]};const bt=/^([a-zA-Z]{2})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?(?:-x-([a-zA-Z0-9]{1,8})(?=$))?$/,_t=e=>e.match(bt)||[],St=(e,t)=>Object.keys(e).filter((n=>t(e[n])))[0],wt=e=>_t(e)[1]||"",Ct={};Object.keys(vt).forEach((e=>{const t=vt[e];Object.keys(t).forEach((e=>{const n=t[e];Ct[e]=n,void 0===Ct[n]&&(Ct[n]=n)}))}));const kt=()=>Ct,Ft=e=>e.replace(/^(https?:\/\/)/,"").replace(/^(www\.)/,""),Et=(e,t)=>{try{if("string"!=typeof e||"string"!=typeof t)throw Error('expect "url" and "locale" to be string.');if(e.toLowerCase().includes("adobe.com/go/"))return e;let n=e;const i=(e=>{let t;if("string"==typeof e&&e.length){const n=Ft(e.trim().toLowerCase());t=St(ct,(e=>0===n.indexOf(Ft(e.production))||0===n.indexOf(Ft(e.stage))))}return t})(e);if(void 0===i)throw Error(`this app is not supported yet: "${e}"`);let r=((e,t,n)=>{if(void 0===vt[e])return"";let i;if(t&&void 0!==vt[e][t])i=t;else{const n=kt();if(t&&(""!==wt(t)||void 0!==n[t])){let r=((e,t)=>void 0!==t?e[Object.keys(e).filter((e=>e.toLowerCase()===t.toLowerCase()))[0]]:void 0)(n,t);if(void 0===r&&(r=2===t.length?(e=>{let t;if("string"==typeof e&&2===e.length){const n=e.toUpperCase();yt[n]&&yt[n][0]&&(t=`${yt[n][0]}-${n}`)}return t})(t)||t:t.includes("_")?t.replace(/_/g,"-"):t),i=St(vt[e],(e=>e===r)),void 0===i&&(e=>dt.includes(e))(e)){const n=(e=>St(ft,(t=>t.includes(e.toLowerCase()))))((e=>_t(e)[4]||"")(t));if(n){const r=`${wt(t)}-x-${n.toUpperCase()}`,o=t.slice(0,-2)+n.toUpperCase();i=St(vt[e],(e=>e===r||e===o)),void 0===i&&void 0!==vt[e][n]&&(i=n)}}if(void 0===i&&""!==(e=>_t(e)[3]||"")(r)){const t=r.substr(0,7).toLowerCase();i=St(vt[e],(e=>e.substr(0,7).toLowerCase()===t))}if(void 0===i){const t=r.substr(0,2).toLowerCase();i=St(vt[e],(e=>e.substr(0,2).toLowerCase()===t))}}}return"stock"===e&&"us"===i&&(i=""),i||""})(i,t);if(r){const t=kt();if(lt.includes(i)){"en"!==r&&"us"!==r||(r="");let o=/adobe(?:stock){0,1}\.com\/(.*?)(?=\/|$)/;"acrobat_plan"===i&&(o=/adobe\.com\/(.{5,10}?)(?=\/|$)/);const a=(e.match(o)||[])[1];void 0!==a&&void 0!==t[a]?n=e.replace(`.com/${a}`,""===r?".com":`.com/${r}`):(""!==r&&(n=e.replace(".com",`.com/${r}`)),"helpx"===i&&e.includes(".ug.html")&&(n=n.replace(".html/",`.html/${r}/`)))}else{const t=ut.includes(i)?"community"===i?"profile.language":"lang":"locale",o=new RegExp(`(${t}=)(.*?)(?=&|$)`);n=void 0!==(e.match(o)||[])[2]?e.replace(o,"$1"+r):e+(e.includes("?")?"&":"?")+t+"="+r}}return n}catch(e){}return e};var $t=["cs-CZ","da-DK","de-DE","en-US","es-ES","fi-FI","fr-FR","it-IT","ja-JP","ko-KR","nb-NO","nl-NL","pl-PL","pt-BR","ru-RU","sv-SE","tr-TR","zh-CN","zh-TW","zz-ZZ"];let xt,Tt={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}};Ut(Rt(navigator.language)?navigator.language:"en-US");const At={};Ot("US");const Pt=(e,t)=>class extends e{connectedCallback(){super.connectedCallback(),Mt(t,"en-US"),document.addEventListener(c.a.EVENT_NAME,(()=>Object(s.e)(this,void 0,void 0,(function*(){this.requestUpdate()}))))}getLocale(){return It()}t(e,t){return function(e,t){return xt&&xt.formatMessage({id:e,defaultMessage:At["en-US"]&&At["en-US"][e]},t)||e}(e,t)}};function Mt(e={},t){At[t||It()]=Object.assign(Object.assign({},At[t||It()]),e),xt=Vt()}function Dt(){return window.__i18n_country_code}function It(){return window.__i18n_current_locale}function Lt(e){return e?e.split("-")[0]:e}function Nt(e,t){return t&&Rt(t)&&"en-US"!==t?Et(e,t):e}function Rt(e){return $t.includes(e)}function Ot(e){window.__i18n_country_code=e}function jt(e,t){$t.includes(e)&&(t&&Mt(t,e),Ut(e),Tt={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},xt=Vt(),document.dispatchEvent(new c.a(e)))}function Vt(){return st({locale:It(),messages:At[It()]},Tt)}function Ut(e){window.__i18n_current_locale=e}},92:function(e,t,n){(function(i){function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof i&&"env"in i&&(e=i.env.DEBUG),e}(t=e.exports=n(222)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),e.splice(o,0,i)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())}).call(this,n(32))},93:function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},94:function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},95:function(e,t,n){(function(i){function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof i&&"env"in i&&(e=i.env.DEBUG),e}(t=e.exports=n(242)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),e.splice(o,0,i)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())}).call(this,n(32))}});
//# sourceMappingURL=spectrum-8cd780bddec7d6c848f8.js.map